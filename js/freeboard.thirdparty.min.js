/*! head.core - v1.0.2 */
(function(n,t){"use strict";function r(n){a[a.length]=n}function k(n){var t=new RegExp(" ?\\b"+n+"\\b");c.className=c.className.replace(t,"")}function y(n,t){for(var i=0,r=n.length;i<r;i++)t.call(n,n[i],i)}function d(){var t,e,f,o;c.className=c.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\d+/g,"");t=n.innerWidth||c.clientWidth;e=n.outerWidth||n.screen.width;u.screen.innerWidth=t;u.screen.outerWidth=e;r("w-"+t);y(i.screens,function(n){t>n?(i.screensCss.gt&&r("gt-"+n),i.screensCss.gte&&r("gte-"+n)):t<n?(i.screensCss.lt&&r("lt-"+n),i.screensCss.lte&&r("lte-"+n)):t===n&&(i.screensCss.lte&&r("lte-"+n),i.screensCss.eq&&r("e-q"+n),i.screensCss.gte&&r("gte-"+n))});f=n.innerHeight||c.clientHeight;o=n.outerHeight||n.screen.height;u.screen.innerHeight=f;u.screen.outerHeight=o;u.feature("portrait",f>t);u.feature("landscape",f<t)}function g(){n.clearTimeout(b);b=n.setTimeout(d,50)}var p=n.document,rt=n.navigator,ut=n.location,c=p.documentElement,a=[],i={screens:[240,320,480,640,768,800,1024,1280,1440,1680,1920],screensCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!1},browsers:[{ie:{min:6,max:11}}],browserCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!0},html5:!0,page:"-page",section:"-section",head:"head"},v,u,s,w,o,h,l,nt,f,tt,it,e,b;if(n.head_conf)for(v in n.head_conf)n.head_conf[v]!==t&&(i[v]=n.head_conf[v]);u=n[i.head]=function(){u.ready.apply(null,arguments)};u.feature=function(n,t,i){return n?(Object.prototype.toString.call(t)==="[object Function]"&&(t=t.call()),r((t?"":"no-")+n),u[n]=!!t,i||(k("no-"+n),k(n),u.feature()),u):(c.className+=" "+a.join(" "),a=[],u)};u.feature("js",!0);s=rt.userAgent.toLowerCase();w=/mobile|android|kindle|silk|midp|phone|(windows .+arm|touch)/.test(s);u.feature("mobile",w,!0);u.feature("desktop",!w,!0);s=/(chrome|firefox)[ \/]([\w.]+)/.exec(s)||/(iphone|ipad|ipod)(?:.*version)?[ \/]([\w.]+)/.exec(s)||/(android)(?:.*version)?[ \/]([\w.]+)/.exec(s)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(s)||/(msie) ([\w.]+)/.exec(s)||/(trident).+rv:(\w.)+/.exec(s)||[];o=s[1];h=parseFloat(s[2]);switch(o){case"msie":case"trident":o="ie";h=p.documentMode||h;break;case"firefox":o="ff";break;case"ipod":case"ipad":case"iphone":o="ios";break;case"webkit":o="safari"}for(u.browser={name:o,version:h},u.browser[o]=!0,l=0,nt=i.browsers.length;l<nt;l++)for(f in i.browsers[l])if(o===f)for(r(f),tt=i.browsers[l][f].min,it=i.browsers[l][f].max,e=tt;e<=it;e++)h>e?(i.browserCss.gt&&r("gt-"+f+e),i.browserCss.gte&&r("gte-"+f+e)):h<e?(i.browserCss.lt&&r("lt-"+f+e),i.browserCss.lte&&r("lte-"+f+e)):h===e&&(i.browserCss.lte&&r("lte-"+f+e),i.browserCss.eq&&r("eq-"+f+e),i.browserCss.gte&&r("gte-"+f+e));else r("no-"+f);r(o);r(o+parseInt(h,10));i.html5&&o==="ie"&&h<9&&y("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(n){p.createElement(n)});y(ut.pathname.split("/"),function(n,u){if(this.length>2&&this[u+1]!==t)u&&r(this.slice(u,u+1).join("-").toLowerCase()+i.section);else{var f=n||"index",e=f.indexOf(".");e>0&&(f=f.substring(0,e));c.id=f.toLowerCase()+i.page;u||r("root"+i.section)}});u.screen={height:n.screen.height,width:n.screen.width};d();b=0;n.addEventListener?n.addEventListener("resize",g,!1):n.attachEvent("onresize",g)})(window);
/*! head.css3 - v1.0.0 */
(function(n,t){"use strict";function h(n){for(var r in n)if(i[n[r]]!==t)return!0;return!1}function r(n){var t=n.charAt(0).toUpperCase()+n.substr(1),i=(n+" "+l.join(t+" ")+t).split(" ");return!!h(i)}var c=n.document,o=c.createElement("i"),i=o.style,s=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),l="Webkit Moz O ms Khtml".split(" "),a=n.head_conf&&n.head_conf.head||"head",u=n[a],f={gradient:function(){var n="background-image:";return i.cssText=(n+s.join("gradient(linear,left top,right bottom,from(#9f9),to(#fff));"+n)+s.join("linear-gradient(left top,#eee,#fff);"+n)).slice(0,-n.length),!!i.backgroundImage},rgba:function(){return i.cssText="background-color:rgba(0,0,0,0.5)",!!i.backgroundColor},opacity:function(){return o.style.opacity===""},textshadow:function(){return i.textShadow===""},multiplebgs:function(){i.cssText="background:url(https://),url(https://),red url(https://)";var n=(i.background||"").match(/url/g);return Object.prototype.toString.call(n)==="[object Array]"&&n.length===3},boxshadow:function(){return r("boxShadow")},borderimage:function(){return r("borderImage")},borderradius:function(){return r("borderRadius")},cssreflections:function(){return r("boxReflect")},csstransforms:function(){return r("transform")},csstransitions:function(){return r("transition")},touch:function(){return"ontouchstart"in n},retina:function(){return n.devicePixelRatio>1},fontface:function(){var t=u.browser.name,n=u.browser.version;switch(t){case"ie":return n>=9;case"chrome":return n>=13;case"ff":return n>=6;case"ios":return n>=5;case"android":return!1;case"webkit":return n>=5.1;case"opera":return n>=10;default:return!1}}};for(var e in f)f[e]&&u.feature(e,f[e].call(),!0);u.feature()})(window);
/*! head.load - v1.0.3 */
(function(n,t){"use strict";function w(){}function u(n,t){if(n){typeof n=="object"&&(n=[].slice.call(n));for(var i=0,r=n.length;i<r;i++)t.call(n,n[i],i)}}function d(n,i){var r=Object.prototype.toString.call(i).slice(8,-1);return i!==t&&i!==null&&r===n}function o(n){return d("Function",n)}function h(n){return d("Array",n)}function ut(n){var i=n.split("/"),t=i[i.length-1],r=t.indexOf("?");return r!==-1?t.substring(0,r):t}function f(n){(n=n||w,n._done)||(n(),n._done=1)}function ft(n,t,r,u){var f=typeof n=="object"?n:{test:n,success:t?h(t)?t:[t]:!1,failure:r?h(r)?r:[r]:!1,callback:u||w},e=!!f.test;return e&&!!f.success?(f.success.push(f.callback),i.load.apply(null,f.success)):e||!f.failure?u():(f.failure.push(f.callback),i.load.apply(null,f.failure)),i}function c(n){var t={},i,r;if(typeof n=="object")for(i in n)n[i]&&(t={name:i,url:n[i]});else t={name:ut(n),url:n};return(r=v[t.name],r&&r.url===t.url)?r:(v[t.name]=t,t)}function l(n){n=n||v;for(var t in n)if(n.hasOwnProperty(t)&&n[t].state!==y)return!1;return!0}function et(n){n.state=yt;u(n.onpreload,function(n){n.call()})}function ot(n){n.state===t&&(n.state=it,n.onpreload=[],g({url:n.url,type:"cache"},function(){et(n)}))}function st(){var n=arguments,t=n[n.length-1],r=[].slice.call(n,1),f=r[0];return(o(t)||(t=null),h(n[0]))?(n[0].push(t),i.load.apply(null,n[0]),i):(f?(u(r,function(n){o(n)||!n||ot(c(n))}),b(c(n[0]),o(f)?f:function(){i.load.apply(null,r)})):b(c(n[0])),i)}function ht(){var n=arguments,t=n[n.length-1],r={};return(o(t)||(t=null),h(n[0]))?(n[0].push(t),i.load.apply(null,n[0]),i):(u(n,function(n){n!==t&&(n=c(n),r[n.name]=n)}),u(n,function(n){n!==t&&(n=c(n),b(n,function(){l(r)&&f(t)}))}),i)}function b(n,t){if(t=t||w,n.state===y){t();return}if(n.state===rt){i.ready(n.name,t);return}if(n.state===it){n.onpreload.push(function(){b(n,t)});return}n.state=rt;g(n,function(){n.state=y;t();u(a[n.name],function(n){f(n)});s&&l()&&u(a.ALL,function(n){f(n)})})}function ct(n){n=n||"";var t=n.split("?")[0].split(".");return t[t.length-1].toLowerCase()}function g(t,i){function e(t){t=t||n.event;u.onload=u.onreadystatechange=u.onerror=null;i()}function o(f){f=f||n.event;(f.type==="load"||/loaded|complete/.test(u.readyState)&&(!r.documentMode||r.documentMode<9))&&(n.clearTimeout(t.errorTimeout),n.clearTimeout(t.cssTimeout),u.onload=u.onreadystatechange=u.onerror=null,i())}function s(){if(t.state!==y&&t.cssRetries<=20){for(var i=0,f=r.styleSheets.length;i<f;i++)if(r.styleSheets[i].href===u.href){o({type:"load"});return}t.cssRetries++;t.cssTimeout=n.setTimeout(s,250)}}var u,h,f;i=i||w;h=ct(t.url);h==="css"?(u=r.createElement("link"),u.type="text/"+(t.type||"css"),u.rel="stylesheet",u.href=t.url,t.cssRetries=0,t.cssTimeout=n.setTimeout(s,500)):(u=r.createElement("script"),u.type="text/"+(t.type||"javascript"),u.src=t.url);u.onload=u.onreadystatechange=o;u.onerror=e;u.async=!1;u.defer=!1;t.errorTimeout=n.setTimeout(function(){e({type:"timeout"})},7e3);f=r.head||r.getElementsByTagName("head")[0];f.insertBefore(u,f.lastChild)}function lt(){for(var n,u=r.getElementsByTagName("script"),t=0,f=u.length;t<f;t++)if(n=u[t].getAttribute("data-headjs-load"),!!n){i.load(n);return}}function at(n,t){var c,p,e;return n===r?(s?f(t):nt.push(t),i):(o(n)&&(t=n,n="ALL"),h(n))?(c={},u(n,function(n){c[n]=v[n];i.ready(n,function(){l(c)&&f(t)})}),i):typeof n!="string"||!o(t)?i:(p=v[n],p&&p.state===y||n==="ALL"&&l()&&s)?(f(t),i):(e=a[n],e?e.push(t):e=a[n]=[t],i)}function e(){if(!r.body){n.clearTimeout(i.readyTimeout);i.readyTimeout=n.setTimeout(e,50);return}s||(s=!0,lt(),u(nt,function(n){f(n)}))}function k(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",k,!1),e()):r.readyState==="complete"&&(r.detachEvent("onreadystatechange",k),e())}var r=n.document,nt=[],a={},v={},vt="async"in r.createElement("script")||"MozAppearance"in r.documentElement.style||n.opera,s,tt=n.head_conf&&n.head_conf.head||"head",i=n[tt]=n[tt]||function(){i.ready.apply(null,arguments)},it=1,yt=2,rt=3,y=4,p;if(r.readyState==="complete")e();else if(r.addEventListener)r.addEventListener("DOMContentLoaded",k,!1),n.addEventListener("load",e,!1);else{r.attachEvent("onreadystatechange",k);n.attachEvent("onload",e);p=!1;try{p=!n.frameElement&&r.documentElement}catch(wt){}p&&p.doScroll&&function pt(){if(!s){try{p.doScroll("left")}catch(t){n.clearTimeout(i.readyTimeout);i.readyTimeout=n.setTimeout(pt,50);return}e()}}()}i.load=i.js=vt?ht:st;i.test=ft;i.ready=at;i.ready(r,function(){l()&&u(a.ALL,function(n){f(n)});i.feature&&i.feature("domloaded",!0)})})(window);
/*! jQuery v2.0.3 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-2.0.3.min.map
*/
(function(n,t){function kt(n){var t=n.length,r=i.type(n);return i.isWindow(n)?!1:1===n.nodeType&&t?!0:"array"===r||"function"!==r&&(0===t||"number"==typeof t&&t>0&&t-1 in n)}function ku(n){var t=dt[n]={};return i.each(n.match(h)||[],function(n,i){t[i]=!0}),t}function c(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+Math.random()}function pi(n,i,r){var u;if(r===t&&1===n.nodeType)if(u="data-"+i.replace(yi,"-$1").toLowerCase(),r=n.getAttribute(u),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:vi.test(r)?JSON.parse(r):r}catch(e){}f.set(n,i,r)}else r=t;return r}function ht(){return!0}function p(){return!1}function di(){try{return u.activeElement}catch(n){}}function nr(n,t){while((n=n[t])&&1!==n.nodeType);return n}function ni(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(uf.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return et.call(t,n)>=0!==r})}function fr(n,t){return i.nodeName(n,"table")&&i.nodeName(1===t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function af(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function vf(n){var t=cf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function ti(n,t){for(var u=n.length,i=0;u>i;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function er(n,t){var u,c,e,s,h,l,a,o;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),o=s.events)){delete h.handle;h.events={};for(e in o)for(u=0,c=o[e].length;c>u;u++)i.event.add(t,e,o[e][u])}f.hasData(n)&&(l=f.access(n),a=i.extend({},l),f.set(t,a))}}function o(n,r){var u=n.getElementsByTagName?n.getElementsByTagName(r||"*"):n.querySelectorAll?n.querySelectorAll(r||"*"):[];return r===t||r&&i.nodeName(n,r)?i.merge([n],u):u}function yf(n,t){var i=t.nodeName.toLowerCase();"input"===i&&rr.test(n.type)?t.checked=n.checked:("input"===i||"textarea"===i)&&(t.defaultValue=n.defaultValue)}function lr(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=cr.length;i--;)if(t=cr[i]+r,t in n)return t;return u}function d(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)}function ct(t){return n.getComputedStyle(t,null)}function ar(n,t){for(var e,u,s,o=[],f=0,h=n.length;h>f;f++)u=n[f],u.style&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||"none"!==e||(u.style.display=""),""===u.style.display&&d(u)&&(o[f]=r.access(u,"olddisplay",df(u.nodeName)))):o[f]||(s=d(u),(e&&"none"!==e||!s)&&r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;h>f;f++)u=n[f],u.style&&(t&&"none"!==u.style.display&&""!==u.style.display||(u.style.display=t?o[f]||"":"none"));return n}function vr(n,t,i){var r=wf.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function yr(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+v[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+v[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+v[e]+"Width",!0,f))):(o+=i.css(n,"padding"+v[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+v[e]+"Width",!0,f)));return o}function pr(n,t,r){var e=!0,u="width"===t?n.offsetWidth:n.offsetHeight,f=ct(n),o=i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f);if(0>=u||null==u){if(u=w(n,t,f),(0>u||null==u)&&(u=n.style[t]),ii.test(u))return u;e=o&&(i.support.boxSizingReliable||u===n.style[t]);u=parseFloat(u)||0}return u+yr(n,t,r||(o?"border":"content"),e,f)+"px"}function df(n){var r=u,t=sr[n];return t||(t=wr(n,r),"none"!==t&&t||(k=(k||i("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(r.documentElement),r=(k[0].contentWindow||k[0].contentDocument).document,r.write("<!doctype html><html><body>"),r.close(),t=wr(n,r),k.detach()),sr[n]=t),t}function wr(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.remove(),u}function ri(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||ne.test(n)?u(n,i):ri(n+"["+("object"==typeof i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ri(n+"["+f+"]",t[f],r,u)}function iu(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(h)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function ru(n,r,u,f){function o(h){var c;return e[h]=!0,i.each(n[h]||[],function(n,i){var h=i(r,u,f);return"string"!=typeof h||s||e[h]?s?!(c=h):t:(r.dataTypes.unshift(h),o(h),!1)}),c}var e={},s=n===ei;return o(r.dataTypes[0])||!e["*"]&&o("*")}function oi(n,r){var u,f,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);return f&&i.extend(!0,n,f),n}function oe(n,i,r){for(var o,f,e,s,h=n.contents,u=n.dataTypes;"*"===u[0];)u.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("Content-Type"));if(o)for(f in h)if(h[f]&&h[f].test(o)){u.unshift(f);break}if(u[0]in r)e=u[0];else{for(f in r){if(!u[0]||n.converters[f+" "+u[0]]){e=f;break}s||(s=f)}e=e||s}return e?(e!==u[0]&&u.unshift(e),r[e]):t}function se(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function fu(){return setTimeout(function(){b=t}),b=i.now()}function eu(n,t,i){for(var u,f=(tt[t]||[]).concat(tt["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function ou(n,t,r){var h,e,o=0,l=vt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(e)return!1;for(var s=b||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&o?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:b||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(e)return this;for(e=!0;r>i;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(ve(s,u.opts.specialEasing);l>o;o++)if(h=vt[o].call(u,n,s,u.opts))return h;return i.map(s,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function ve(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ye(n,u,f){var e,a,p,v,s,w,l=this,y={},h=n.style,c=n.nodeType&&d(n),o=r.get(n,"fxshow");f.queue||(s=i._queueHooks(n,"fx"),null==s.unqueued&&(s.unqueued=0,w=s.empty.fire,s.empty.fire=function(){s.unqueued||w()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--;i.queue(n,"fx").length||s.empty.fire()})}));1===n.nodeType&&("height"in u||"width"in u)&&(f.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===i.css(n,"display")&&"none"===i.css(n,"float")&&(h.display="inline-block"));f.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=f.overflow[0];h.overflowX=f.overflow[1];h.overflowY=f.overflow[2]}));for(e in u)if(a=u[e],le.exec(a)){if(delete u[e],p=p||"toggle"===a,a===(c?"hide":"show")){if("show"!==a||!o||o[e]===t)continue;c=!0}y[e]=o&&o[e]||i.style(n,e)}if(!i.isEmptyObject(y)){o?"hidden"in o&&(c=o.hidden):o=r.access(n,"fxshow",{});p&&(o.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(e in y)v=eu(c?o[e]:0,e,l),e in o||(o[e]=v.start,c&&(v.end=v.start,v.start="width"===e||"height"===e?1:0))}}function e(n,t,i,r,u){return new e.prototype.init(n,t,i,r,u)}function yt(n,t){var r,i={height:n},u=0;for(t=t?1:0;4>u;u+=2-t)r=v[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function su(n){return i.isWindow(n)?n:9===n.nodeType&&n.defaultView}var hi,it,rt=typeof t,hu=n.location,u=n.document,ci=u.documentElement,cu=n.jQuery,lu=n.$,ut={},ft=[],pt="2.0.3",li=ft.concat,wt=ft.push,a=ft.slice,et=ft.indexOf,au=ut.toString,bt=ut.hasOwnProperty,vu=pt.trim,i=function(n,t){return new i.fn.init(n,t,hi)},ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,h=/\S+/g,yu=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ai=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pu=/^-ms-/,wu=/-([\da-z])/gi,bu=function(n,t){return t.toUpperCase()},st=function(){u.removeEventListener("DOMContentLoaded",st,!1);n.removeEventListener("load",st,!1);i.ready()},dt,f,r,vi,yi,si,lt;i.fn=i.prototype={jquery:pt,constructor:i,init:function(n,r,f){var e,o;if(!n)return this;if("string"==typeof n){if(e="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&n.length>=3?[null,n,null]:yu.exec(n),!e||!e[1]&&r)return!r||r.jquery?(r||f).find(n):this.constructor(r).find(n);if(e[1]){if(r=r instanceof i?r[0]:r,i.merge(this,i.parseHTML(e[1],r&&r.nodeType?r.ownerDocument||r:u,!0)),ai.test(e[1])&&i.isPlainObject(r))for(e in r)i.isFunction(this[e])?this[e](r[e]):this.attr(e,r[e]);return this}return o=u.getElementById(e[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=u,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return null==n?this.toArray():0>n?this[this.length+n]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:wt,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var o,e,u,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[1]||{},f=2),"object"==typeof n||i.isFunction(n)||(n={}),l===f&&(n=this,--f);l>f;f++)if(null!=(o=arguments[f]))for(e in o)u=n[e],r=o[e],n!==r&&(c&&r&&(i.isPlainObject(r)||(s=i.isArray(r)))?(s?(s=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n};i.extend({expando:"jQuery"+(pt+Math.random()).replace(/\D/g,""),noConflict:function(t){return n.$===i&&(n.$=lu),t&&n.jQuery===i&&(n.jQuery=cu),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||(it.resolveWith(u,[i]),i.fn.trigger&&i(u).trigger("ready").off("ready")))},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray,isWindow:function(n){return null!=n&&n===n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ut[au.call(n)]||"object":typeof n},isPlainObject:function(n){if("object"!==i.type(n)||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!bt.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(n){for(var t in n)return!1;return!0},error:function(n){throw Error(n);},parseHTML:function(n,t,r){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(r=t,t=!1);t=t||u;var f=ai.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&i(e).remove(),i.merge([],f.childNodes))},parseJSON:JSON.parse,parseXML:function(n){var r,u;if(!n||"string"!=typeof n)return null;try{u=new DOMParser;r=u.parseFromString(n,"text/xml")}catch(f){r=t}return(!r||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(1===n.indexOf("use strict")?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(pu,"ms-").replace(wu,bu)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=kt(n);if(i){if(e){for(;f>r;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;f>r;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return null==n?"":vu.call(n)},makeArray:function(n,t){var r=t||[];return null!=n&&(kt(Object(n))?i.merge(r,"string"==typeof n?[n]:n):wt.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:et.call(t,n,i)},merge:function(n,i){var f=i.length,u=n.length,r=0;if("number"==typeof f)for(;f>r;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;e>r;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=kt(n),f=[];if(o)for(;e>r;r++)u=t(n[r],r,i),null!=u&&(f[f.length]=u);else for(r in n)u=t(n[r],r,i),null!=u&&(f[f.length]=u);return li.apply([],f)},guid:1,proxy:function(n,r){var f,e,u;return"string"==typeof r&&(f=n[r],r=n,n=f),i.isFunction(n)?(e=a.call(arguments,2),u=function(){return n.apply(r||this,e.concat(a.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u):t},access:function(n,r,u,f,e,o,s){var h=0,l=n.length,c=null==u;if("object"===i.type(u)){e=!0;for(h in u)i.access(n,r,h,u[h],!0,o,s)}else if(f!==t&&(e=!0,i.isFunction(f)||(s=!0),c&&(s?(r.call(n,f),r=null):(c=r,r=function(n,t,r){return c.call(i(n),r)})),r))for(;l>h;h++)r(n[h],u,s?f:f.call(n[h],h,r(n[h],u)));return e?n:c?r.call(n):l?r(n[0],u):o},now:Date.now,swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f}});i.ready.promise=function(t){return it||(it=i.Deferred(),"complete"===u.readyState?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",st,!1),n.addEventListener("load",st,!1))),it.promise(t)};i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ut["[object "+t+"]"]=t.toLowerCase()});hi=i(u),function(n,t){function u(n,t,i,r){var p,u,f,l,w,a,k,c,g,d;if((t?t.ownerDocument||t:y)!==s&&nt(t),t=t||s,i=i||[],!n||"string"!=typeof n)return i;if(1!==(l=t.nodeType)&&9!==l)return[];if(v&&!r){if(p=or.exec(n))if(f=p[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return i;if(u.id===f)return i.push(u),i}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&ot(t,u)&&u.id===f)return i.push(u),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((f=p[3])&&e.getElementsByClassName&&t.getElementsByClassName)return b.apply(i,t.getElementsByClassName(f)),i}if(e.qsa&&(!h||!h.test(n))){if(c=k=o,g=t,d=9===l&&n,1===l&&"object"!==t.nodeName.toLowerCase()){for(a=pt(n),(k=t.getAttribute("id"))?c=k.replace(cr,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",w=a.length;w--;)a[w]=c+wt(a[w]);g=ti.test(n)&&t.parentNode||t;d=a.join(",")}if(d)try{return b.apply(i,g.querySelectorAll(d)),i}catch(tt){}finally{k||t.removeAttribute("id")}}}return pr(n.replace(vt,"$1"),t,i,r)}function ri(){function n(i,u){return t.push(i+=" ")>r.cacheLength&&delete n[t.shift()],n[i]=u}var t=[];return n}function c(n){return n[o]=!0,n}function l(n){var t=s.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ui(n,t){for(var u=n.split("|"),i=n.length;i--;)r.attrHandle[u[i]]=t}function bi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||vi)-(~n.sourceIndex||vi);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function rt(n){return c(function(t){return t=+t,c(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ki(){}function pt(n,t){var e,f,s,o,i,h,c,l=li[n+" "];if(l)return t?0:l.slice(0);for(i=n,h=[],c=r.preFilter;i;){(!e||(f=ir.exec(i)))&&(f&&(i=i.slice(f[0].length)||i),h.push(s=[]));e=!1;(f=rr.exec(i))&&(e=f.shift(),s.push({value:e,type:f[0].replace(vt," ")}),i=i.slice(e.length));for(o in r.filter)(f=yt[o].exec(i))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),i=i.slice(e.length));if(!e)break}return t?i.length:i?u.error(n):li(n,h).slice(0)}function wt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function fi(n,t,i){var r=t.dir,u=i&&"parentNode"===r,f=di++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,e){var h,s,c,l=p+" "+f;if(e){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,e))return!0}else while(t=t[r])if(1===t.nodeType||u)if(c=t[o]||(t[o]={}),(s=c[r])&&s[0]===l){if((h=s[1])===!0||h===ht)return h===!0}else if(s=c[r]=[l],s[1]=n(t,i,e)||ht,s[1]===!0)return!0}}function ei(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function bt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function oi(n,t,i,r,u,f){return r&&!r[o]&&(r=oi(r)),u&&!u[o]&&(u=oi(u,f)),c(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||yr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?k:bt(k,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=bt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?it.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=bt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function si(n){for(var s,u,i,e=n.length,h=r.relative[n[0].type],c=h||r.relative[" "],t=h?1:0,l=fi(function(n){return n===s},c,!0),a=fi(function(n){return it.call(s,n)>-1},c,!0),f=[function(n,t,i){return!h&&(i||t!==lt)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];e>t;t++)if(u=r.relative[n[t].type])f=[fi(ei(f),u)];else{if(u=r.filter[n[t].type].apply(null,n[t].matches),u[o]){for(i=++t;e>i;i++)if(r.relative[n[i].type])break;return oi(t>1&&ei(f),t>1&&wt(n.slice(0,t-1).concat({value:" "===n[t-2].type?"*":""})).replace(vt,"$1"),u,i>t&&si(n.slice(t,i)),e>i&&si(n=n.slice(i)),e>i&&wt(n))}f.push(u)}return ei(f)}function vr(n,t){var f=0,i=t.length>0,e=n.length>0,o=function(o,h,c,l,a){var y,g,k,w=[],d=0,v="0",nt=o&&[],tt=null!=a,it=lt,ut=o||e&&r.find.TAG("*",a&&h.parentNode||h),rt=p+=null==it?1:Math.random()||.1;for(tt&&(lt=h!==s&&h,ht=f);null!=(y=ut[v]);v++){if(e&&y){for(g=0;k=n[g++];)if(k(y,h,c)){l.push(y);break}tt&&(p=rt,ht=++f)}i&&((y=!k&&y)&&d--,o&&nt.push(y))}if(d+=v,i&&v!==d){for(g=0;k=t[g++];)k(nt,w,h,c);if(o){if(d>0)while(v--)nt[v]||w[v]||(w[v]=nr.call(l));w=bt(w)}b.apply(l,w);tt&&!o&&w.length>0&&d+t.length>1&&u.uniqueSort(l)}return tt&&(p=rt,lt=it),nt};return i?c(o):o}function yr(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function pr(n,t,i,u){var s,f,o,c,l,h=pt(n);if(!u&&1===h.length){if(f=h[0]=h[0].slice(0),f.length>2&&"ID"===(o=f[0]).type&&e.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(o.matches[0].replace(k,d),t)||[])[0],!t)return i;n=n.slice(f.shift().value.length)}for(s=yt.needsContext.test(n)?0:f.length;s--;){if(o=f[s],r.relative[c=o.type])break;if((l=r.find[c])&&(u=l(o.matches[0].replace(k,d),ti.test(f[0].type)&&t.parentNode||t))){if(f.splice(s,1),n=u.length&&wt(f),!n)return b.apply(i,u),i;break}}}return kt(n,h)(u,t,!v,i,ti.test(n)),i}var ut,e,ht,r,ct,hi,kt,lt,g,nt,s,a,v,h,tt,at,ot,o="sizzle"+-new Date,y=n.document,p=0,di=0,ci=ri(),li=ri(),ai=ri(),ft=!1,dt=function(n,t){return n===t?(ft=!0,0):0},st=typeof t,vi=-2147483648,gi={}.hasOwnProperty,w=[],nr=w.pop,tr=w.push,b=w.push,yi=w.slice,it=w.indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(this[t]===n)return t;return-1},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",f="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",pi=et.replace("w","w#"),wi="\\["+f+"*("+et+")"+f+"*(?:([*^$|!~]?=)"+f+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+pi+")|)|)"+f+"*\\]",ni=":("+et+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+wi.replace(3,8)+")*)|.*)\\)|)",vt=RegExp("^"+f+"+|((?:^|[^\\\\])(?:\\\\.)*)"+f+"+$","g"),ir=RegExp("^"+f+"*,"+f+"*"),rr=RegExp("^"+f+"*([>+~]|"+f+")"+f+"*"),ti=RegExp(f+"*[+~]"),ur=RegExp("="+f+"*([^\\]'\"]*)"+f+"*\\]","g"),fr=RegExp(ni),er=RegExp("^"+pi+"$"),yt={ID:RegExp("^#("+et+")"),CLASS:RegExp("^\\.("+et+")"),TAG:RegExp("^("+et.replace("w","w*")+")"),ATTR:RegExp("^"+wi),PSEUDO:RegExp("^"+ni),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+f+"*(even|odd|(([+-]|)(\\d*)n|)"+f+"*(?:([+-]|)"+f+"*(\\d+)|))"+f+"*\\)|)","i"),bool:RegExp("^(?:"+gt+")$","i"),needsContext:RegExp("^"+f+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+f+"*((?:-\\d)?\\d*)"+f+"*\\)|)(?=[^-]|$)","i")},ii=/^[^{]+\{\s*\[native \w/,or=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,cr=/'|\\/g,k=RegExp("\\\\([\\da-f]{1,6}"+f+"?|("+f+")|.)","ig"),d=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{b.apply(w=yi.call(y.childNodes),y.childNodes);w[y.childNodes.length].nodeType}catch(wr){b={apply:w.length?function(n,t){tr.apply(n,yi.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}hi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};e=u.support={};nt=u.setDocument=function(n){var i=n?n.ownerDocument||n:y,u=i.defaultView;return i!==s&&9===i.nodeType&&i.documentElement?(s=i,a=i.documentElement,v=!hi(i),u&&u.attachEvent&&u!==u.top&&u.attachEvent("onbeforeunload",function(){nt()}),e.attributes=l(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=l(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=l(function(n){return n.innerHTML="<div class='a'><\/div><div class='a i'><\/div>",n.firstChild.className="i",2===n.getElementsByClassName("i").length}),e.getById=l(function(n){return a.appendChild(n).id=o,!i.getElementsByName||!i.getElementsByName(o).length}),e.getById?(r.find.ID=function(n,t){if(typeof t.getElementById!==st&&v){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},r.filter.ID=function(n){var t=n.replace(k,d);return function(n){return n.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(n){var t=n.replace(k,d);return function(n){var i=typeof n.getAttributeNode!==st&&n.getAttributeNode("id");return i&&i.value===t}}),r.find.TAG=e.getElementsByTagName?function(n,i){return typeof i.getElementsByTagName!==st?i.getElementsByTagName(n):t}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},r.find.CLASS=e.getElementsByClassName&&function(n,i){return typeof i.getElementsByClassName!==st&&v?i.getElementsByClassName(n):t},tt=[],h=[],(e.qsa=ii.test(i.querySelectorAll))&&(l(function(n){n.innerHTML="<select><option selected=''><\/option><\/select>";n.querySelectorAll("[selected]").length||h.push("\\["+f+"*(?:value|"+gt+")");n.querySelectorAll(":checked").length||h.push(":checked")}),l(function(n){var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("t","");n.querySelectorAll("[t^='']").length&&h.push("[*^$]="+f+"*(?:''|\"\")");n.querySelectorAll(":enabled").length||h.push(":enabled",":disabled");n.querySelectorAll("*,:x");h.push(",.*:")})),(e.matchesSelector=ii.test(at=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&l(function(n){e.disconnectedMatch=at.call(n,"div");at.call(n,"[s!='']:x");tt.push("!=",ni)}),h=h.length&&RegExp(h.join("|")),tt=tt.length&&RegExp(tt.join("|")),ot=ii.test(a.contains)||a.compareDocumentPosition?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},dt=a.compareDocumentPosition?function(n,t){if(n===t)return ft=!0,0;var r=t.compareDocumentPosition&&n.compareDocumentPosition&&n.compareDocumentPosition(t);return r?1&r||!e.sortDetached&&t.compareDocumentPosition(n)===r?n===i||ot(y,n)?-1:t===i||ot(y,t)?1:g?it.call(g,n)-it.call(g,t):0:4&r?-1:1:n.compareDocumentPosition?-1:1}:function(n,t){var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(n===t)return ft=!0,0;if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:g?it.call(g,n)-it.call(g,t):0;if(o===s)return bi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?bi(f[u],e[u]):f[u]===y?-1:e[u]===y?1:0},i):s};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==s&&nt(n),t=t.replace(ur,"='$1']"),!(!e.matchesSelector||!v||tt&&tt.test(t)||h&&h.test(t)))try{var i=at.call(n,t);if(i||e.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(r){}return u(t,s,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==s&&nt(n),ot(n,t)};u.attr=function(n,i){(n.ownerDocument||n)!==s&&nt(n);var f=r.attrHandle[i.toLowerCase()],u=f&&gi.call(r.attrHandle,i.toLowerCase())?f(n,i,!v):t;return u===t?e.attributes||!v?n.getAttribute(i):(u=n.getAttributeNode(i))&&u.specified?u.value:null:u};u.error=function(n){throw Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ft=!e.detectDuplicates,g=!e.sortStable&&n.slice(0),n.sort(dt),ft){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return n};ct=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=ct(n)}else if(3===t||4===t)return n.nodeValue}else for(;r=n[u];u++)i+=ct(r);return i};r=u.selectors={cacheLength:50,createPseudo:c,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(k,d),n[3]=(n[4]||n[5]||"").replace(k,d),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var r,i=!n[5]&&n[2];return yt.CHILD.test(n[0])?null:(n[3]&&n[4]!==t?n[2]=n[4]:i&&fr.test(i)&&(r=pt(i,!0))&&(r=i.indexOf(")",i.length-r)-i.length)&&(n[0]=n[0].slice(0,r),n[2]=i.slice(0,r)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(k,d).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=ci[n+" "];return t||(t=RegExp("(^|"+f+")"+n+"("+f+"|$)"))&&ci(n,function(n){return t.test("string"==typeof n.className&&n.className||typeof n.getAttribute!==st&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),e="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,v,w,b=s!==e?"nextSibling":"previousSibling",y=t.parentNode,g=f&&t.nodeName.toLowerCase(),d=!h&&!f;if(y){if(s){while(b){for(c=t;c=c[b];)if(f?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[e?y.firstChild:y.lastChild],e&&d){for(k=y[o]||(y[o]={}),a=k[n]||[],v=a[0]===p&&a[1],l=a[0]===p&&a[2],c=v&&y.childNodes[v];c=++v&&c&&c[b]||(l=v=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){k[n]=[p,v,l];break}}else if(d&&(a=(t[o]||(t[o]={}))[n])&&a[0]===p)l=a[1];else while(c=++v&&c&&c[b]||(l=v=0)||w.pop())if((f?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++l&&(d&&((c[o]||(c[o]={}))[n]=[p,l]),c===t))break;return l-=u,l===r||0==l%r&&l/r>=0}}},PSEUDO:function(n,t){var f,i=r.pseudos[n]||r.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return i[o]?i(t):i.length>1?(f=[n,n,"",t],r.setFilters.hasOwnProperty(n.toLowerCase())?c(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=it.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,f)}):i}},pseudos:{not:c(function(n){var i=[],r=[],t=kt(n.replace(vt,"$1"));return t[o]?c(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:c(function(n){return function(t){return u(n,t).length>0}}),contains:c(function(n){return function(t){return(t.textContent||t.innerText||ct(t)).indexOf(n)>-1}}),lang:c(function(n){return er.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(k,d).toLowerCase(),function(t){var i;do if(i=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===a},focus:function(n){return n===s.activeElement&&(!s.hasFocus||s.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeName>"@"||3===n.nodeType||4===n.nodeType)return!1;return!0},parent:function(n){return!r.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||t.toLowerCase()===n.type)},first:rt(function(){return[0]}),last:rt(function(n,t){return[t-1]}),eq:rt(function(n,t,i){return[0>i?i+t:i]}),even:rt(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:rt(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:rt(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:rt(function(n,t,i){for(var r=0>i?i+t:i;t>++r;)n.push(r);return n})}};r.pseudos.nth=r.pseudos.eq;for(ut in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[ut]=lr(ut);for(ut in{submit:!0,reset:!0})r.pseudos[ut]=ar(ut);ki.prototype=r.filters=r.pseudos;r.setFilters=new ki;kt=u.compile=function(n,t){var r,u=[],f=[],i=ai[n+" "];if(!i){for(t||(t=pt(n)),r=t.length;r--;)i=si(t[r]),i[o]?u.push(i):f.push(i);i=ai(n,vr(f,u))}return i};e.sortStable=o.split("").sort(dt).join("")===o;e.detectDuplicates=ft;nt();e.sortDetached=l(function(n){return 1&n.compareDocumentPosition(s.createElement("div"))});l(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ui("type|href|height|width",function(n,i,r){return r?t:n.getAttribute(i,"type"===i.toLowerCase()?1:2)});e.attributes&&l(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ui("value",function(n,i,r){return r||"input"!==n.nodeName.toLowerCase()?t:n.defaultValue});l(function(n){return null==n.getAttribute("disabled")})||ui(gt,function(n,i,r){var u;return r?t:(u=n.getAttributeNode(i))&&u.specified?u.value:n[i]===!0?i.toLowerCase():null});i.find=u;i.expr=u.selectors;i.expr[":"]=i.expr.pseudos;i.unique=u.uniqueSort;i.text=u.getText;i.isXMLDoc=u.isXML;i.contains=u.contains}(n);dt={};i.Callbacks=function(n){n="string"==typeof n?dt[n]||ku(n):i.extend({},n);var f,c,s,l,e,o,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,o=l||0,l=0,e=r.length,s=!0;r&&e>o;o++)if(r[o].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}s=!1;r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);"function"===e?n.unique&&h.has(f)||r.push(f):f&&f.length&&"string"!==e&&u(f)})})(arguments);s?e=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),s&&(e>=u&&e--,o>=u&&o--)}),this},has:function(n){return n?i.inArray(n,r)>-1:!(!r||!r.length)},empty:function(){return r=[],e=0,this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return!r||c&&!u||(t=t||[],t=[n,t.slice?t.slice():t],s?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var s=e[0],o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[s+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=Array(r),c=Array(r),s=Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.support=function(t){var r=u.createElement("input"),e=u.createDocumentFragment(),f=u.createElement("div"),o=u.createElement("select"),s=o.appendChild(u.createElement("option"));return r.type?(r.type="checkbox",t.checkOn=""!==r.value,t.optSelected=s.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled,r=u.createElement("input"),r.value="t",r.type="radio",t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),e.appendChild(r),t.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in n,f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===f.style.backgroundClip,i(function(){var o,r,e=u.getElementsByTagName("body")[0];e&&(o=u.createElement("div"),o.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(o).appendChild(f),f.innerHTML="",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",i.swap(e,null!=e.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===f.offsetWidth}),n.getComputedStyle&&(t.pixelPosition="1%"!==(n.getComputedStyle(f,null)||{}).top,t.boxSizingReliable="4px"===(n.getComputedStyle(f,null)||{width:"4px"}).width,r=f.appendChild(u.createElement("div")),r.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r.style.marginRight=r.style.width="0",f.style.width="1px",t.reliableMarginRight=!parseFloat((n.getComputedStyle(r,null)||{}).marginRight)),e.removeChild(o))}),t):t}({});vi=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;yi=/([A-Z])/g;c.uid=1;c.accepts=function(n){return n.nodeType?1===n.nodeType||9===n.nodeType:!0};c.prototype={key:function(n){if(!c.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=c.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if("string"==typeof t)u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,i){var r=this.cache[this.key(n)];return i===t?r:r[i]},access:function(n,r,u){var f;return r===t||r&&"string"==typeof r&&u===t?(f=this.get(n,r),f!==t?f:this.get(n,i.camelCase(r))):(this.set(n,r,u),u!==t?u:r)},remove:function(n,r){var f,u,e,s=this.key(n),o=this.cache[s];if(r===t)this.cache[s]={};else for(i.isArray(r)?u=r.concat(r.map(i.camelCase)):(e=i.camelCase(r),(r in o)?u=[r,e]:(u=e,u=(u in o)?[u]:u.match(h)||[])),f=u.length;f--;)delete o[u[f]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};f=new c;r=new c;i.extend({acceptData:c.accepts,hasData:function(n){return f.hasData(n)||r.hasData(n)},data:function(n,t,i){return f.access(n,t,i)},removeData:function(n,t){f.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,u){var s,o,e=this[0],h=0,c=null;if(n===t){if(this.length&&(c=f.get(e),1===e.nodeType&&!r.get(e,"hasDataAttrs"))){for(s=e.attributes;s.length>h;h++)o=s[h].name,0===o.indexOf("data-")&&(o=i.camelCase(o.slice(5)),pi(e,o,c[o]));r.set(e,"hasDataAttrs",!0)}return c}return"object"==typeof n?this.each(function(){f.set(this,n)}):i.access(this,function(r){var u,o=i.camelCase(n);if(e&&r===t){if((u=f.get(e,n),u!==t)||(u=f.get(e,o),u!==t)||(u=pi(e,o,t),u!==t))return u}else this.each(function(){var i=f.get(this,o);f.set(this,o,r);-1!==n.indexOf("-")&&i!==t&&f.set(this,n,r)})},null,u,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){f.remove(this,n)})}});i.extend({queue:function(n,u,f){var e;return n?(u=(u||"fx")+"queue",e=r.get(n,u),f&&(!e||i.isArray(f)?e=r.access(n,u,i.makeArray(f)):e.push(f)),e||[]):t},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,r){var u=2;return"string"!=typeof n&&(r=n,n="fx",u--),u>arguments.length?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n);"fx"===n&&"inprogress"!==t[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,u){var f,o=1,s=i.Deferred(),e=this,h=this.length,c=function(){--o||s.resolveWith(e,[e])};for("string"!=typeof n&&(u=n,n=t),n=n||"fx";h--;)f=r.get(e[h],n+"queueHooks"),f&&f.empty&&(o++,f.empty.add(c));return c(),s.promise(u)}});var du,wi,gt=/[\t\r\n\f]/g,gu=/\r/g,nf=/^(?:input|select|textarea|button)$/i;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})},addClass:function(n){var e,t,r,u,o,f=0,s=this.length,c="string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(h)||[];s>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(gt," "):" ")){for(o=0;u=e[o++];)0>r.indexOf(" "+u+" ")&&(r+=u+" ");t.className=i.trim(r)}return this},removeClass:function(n){var e,t,r,u,o,f=0,s=this.length,c=0===arguments.length||"string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(h)||[];s>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(gt," "):"")){for(o=0;u=e[o++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");t.className=n?i.trim(r):""}return this},toggleClass:function(n,t){var u=typeof n;return"boolean"==typeof t&&"string"===u?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if("string"===u)for(var t,e=0,f=i(this),o=n.match(h)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===rt||"boolean"===u)&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(gt," ").indexOf(i)>=0)return!0;return!1},val:function(n){var r,u,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f;1===this.nodeType&&(f=e?n.call(this,u,i(this).val()):n,null==f?f="":"number"==typeof f?f+="":i.isArray(f)&&(f=i.map(f,function(n){return null==n?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t?u:(u=f.value,"string"==typeof u?u.replace(gu,""):null==u?"":u)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,s=u?null:[],h=u?r+1:o.length,f=0>r?h:u?r:0;h>f;f++)if(t=o[f],!(!t.selected&&f!==r||(i.support.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i(r).val(),e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}},attr:function(n,r,u){var f,e,o=n.nodeType;if(n&&3!==o&&8!==o&&2!==o)return typeof n.getAttribute===rt?i.prop(n,r,u):(1===o&&i.isXMLDoc(n)||(r=r.toLowerCase(),f=i.attrHooks[r]||(i.expr.match.bool.test(r)?wi:du)),u===t?f&&"get"in f&&null!==(e=f.get(n,r))?e:(e=i.find.attr(n,r),null==e?t:e):null!==u?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u):(i.removeAttr(n,r),t))},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(h);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!i.support.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&3!==o&&8!==o&&2!==o)return s=1!==o||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&null!==(e=f.get(n,r))?e:n[r]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||nf.test(n.nodeName)||n.href?n.tabIndex:-1}}}});wi={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,r){var u=i.expr.attrHandle[r]||i.find.attr;i.expr.attrHandle[r]=function(n,r,f){var e=i.expr.attrHandle[r],o=f?t:(i.expr.attrHandle[r]=t)!=u(n,r,f)?r.toLowerCase():null;return i.expr.attrHandle[r]=e,o}});i.support.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,r){return i.isArray(r)?n.checked=i.inArray(i(n).val(),r)>=0:t}};i.support.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});var tf=/^key/,rf=/^(?:mouse|contextmenu)|click/,bi=/^(?:focusinfocus|focusoutblur)$/,ki=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,u,f,e,o){var p,l,b,w,k,a,c,v,s,d,g,y=r.get(n);if(y){for(f.handler&&(p=f,f=p.handler,o=p.selector),f.guid||(f.guid=i.guid++),(w=y.events)||(w=y.events={}),(l=y.handle)||(l=y.handle=function(n){return typeof i===rt||n&&i.event.triggered===n.type?t:i.event.dispatch.apply(l.elem,arguments)},l.elem=n),u=(u||"").match(h)||[""],k=u.length;k--;)b=ki.exec(u[k])||[],s=g=b[1],d=(b[2]||"").split(".").sort(),s&&(c=i.event.special[s]||{},s=(o?c.delegateType:c.bindType)||s,c=i.event.special[s]||{},a=i.extend({type:s,origType:g,data:e,handler:f,guid:f.guid,selector:o,needsContext:o&&i.expr.match.needsContext.test(o),namespace:d.join(".")},p),(v=w[s])||(v=w[s]=[],v.delegateCount=0,c.setup&&c.setup.call(n,e,d,l)!==!1||n.addEventListener&&n.addEventListener(s,l,!1)),c.add&&(c.add.call(n,a),a.handler.guid||(a.handler.guid=f.guid)),o?v.splice(v.delegateCount++,0,a):v.push(a),i.event.global[s]=!0);n=null}},remove:function(n,t,u,f,e){var p,k,c,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(h)||[""],w=t.length;w--;)if(c=ki.exec(t[w])||[],o=d=c[1],b=(c[2]||"").split(".").sort(),o){for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],c=c[2]&&RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],!e&&d!==s.origType||u&&u.guid!==s.guid||c&&!c.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[w],u,f,!0);i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(f,e,o,s){var b,h,l,k,v,y,a,w=[o||u],c=bt.call(f,"type")?f.type:f,p=bt.call(f,"namespace")?f.namespace.split("."):[];if(h=l=o=o||u,3!==o.nodeType&&8!==o.nodeType&&!bi.test(c+i.event.triggered)&&(c.indexOf(".")>=0&&(p=c.split("."),c=p.shift(),p.sort()),v=0>c.indexOf(":")&&"on"+c,f=f[i.expando]?f:new i.Event(c,"object"==typeof f&&f),f.isTrigger=s?2:3,f.namespace=p.join("."),f.namespace_re=f.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=t,f.target||(f.target=o),e=null==e?[f]:i.makeArray(e,[f]),a=i.event.special[c]||{},s||!a.trigger||a.trigger.apply(o,e)!==!1)){if(!s&&!a.noBubble&&!i.isWindow(o)){for(k=a.delegateType||c,bi.test(k+c)||(h=h.parentNode);h;h=h.parentNode)w.push(h),l=h;l===(o.ownerDocument||u)&&w.push(l.defaultView||l.parentWindow||n)}for(b=0;(h=w[b++])&&!f.isPropagationStopped();)f.type=b>1?k:a.bindType||c,y=(r.get(h,"events")||{})[f.type]&&r.get(h,"handle"),y&&y.apply(h,e),y=v&&h[v],y&&i.acceptData(h)&&y.apply&&y.apply(h,e)===!1&&f.preventDefault();return f.type=c,s||f.isDefaultPrevented()||a._default&&a._default.apply(w.pop(),e)!==!1||!i.acceptData(o)||v&&i.isFunction(o[c])&&!i.isWindow(o)&&(l=o[v],l&&(o[v]=null),i.event.triggered=c,o[c](),i.event.triggered=t,l&&(o[v]=l)),f.result}},dispatch:function(n){n=i.event.fix(n);var s,h,o,f,u,c=[],l=a.call(arguments),v=(r.get(this,"events")||{})[n.type]||[],e=i.event.special[n.type]||{};if(l[0]=n,n.delegateTarget=this,!e.preDispatch||e.preDispatch.call(this,n)!==!1){for(c=i.event.handlers.call(this,n,v),s=0;(f=c[s++])&&!n.isPropagationStopped();)for(n.currentTarget=f.elem,h=0;(u=f.handlers[h++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(u.namespace))&&(n.handleObj=u,n.data=u.data,o=((i.event.special[u.origType]||{}).handle||u.handler).apply(f.elem,l),o!==t&&(n.result=o)===!1&&(n.preventDefault(),n.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,n),n.result}},handlers:function(n,r){var o,f,e,s,c=[],h=r.delegateCount,u=n.target;if(h&&u.nodeType&&(!n.button||"click"!==n.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==n.type){for(f=[],o=0;h>o;o++)s=r[o],e=s.selector+" ",f[e]===t&&(f[e]=s.needsContext?i(e,this).index(u)>=0:i.find(e,this,null,[u]).length),f[e]&&f.push(s);f.length&&c.push({elem:u,handlers:f})}return r.length>h&&c.push({elem:this,handlers:r.slice(h)}),c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var o,r,f,e=i.button;return null==n.pageX&&null!=i.clientX&&(o=n.target.ownerDocument||u,r=o.documentElement,f=o.body,n.pageX=i.clientX+(r&&r.scrollLeft||f&&f.scrollLeft||0)-(r&&r.clientLeft||f&&f.clientLeft||0),n.pageY=i.clientY+(r&&r.scrollTop||f&&f.scrollTop||0)-(r&&r.clientTop||f&&f.clientTop||0)),n.which||e===t||(n.which=1&e?1:2&e?3:4&e?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=rf.test(r)?this.mouseHooks:tf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),3===n.target.nodeType&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==di()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===di()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&i.nodeName(this,"input")?(this.click(),!1):t},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==t&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,r){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.getPreventDefault&&n.getPreventDefault()?ht:p):this.type=n,r&&i.extend(this,r),this.timeStamp=n&&n.timeStamp||i.now(),this[i.expando]=!0,t):new i.Event(n,r)};i.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ht;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ht;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ht;this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return(!r||r!==f&&!i.contains(f,r))&&(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var r=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){0==r++&&u.addEventListener(n,f,!0)},teardown:function(){0==--r&&u.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var o,s;if("object"==typeof n){"string"!=typeof r&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(null==u&&null==f?(f=r,u=r=t):null==f&&("string"==typeof r?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=p;else if(!f)return this;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof n){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||"function"==typeof r)&&(u=r,r=t),u===!1&&(u=p),this.each(function(){i.event.remove(this,n,u,r)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,r){var u=this[0];return u?i.event.trigger(n,r,u,!0):t}});var uf=/^.[^:#\[\.,]*$/,ff=/^(?:parents|prev(?:Until|All))/,gi=i.expr.match.needsContext,ef={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,r=[],u=this,f=u.length;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;f>t;t++)if(i.contains(u[t],this))return!0}));for(t=0;f>t;t++)i.find(n,u[t],r);return r=this.pushStack(f>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;r>n;n++)if(i.contains(this,t[n]))return!0})},not:function(n){return this.pushStack(ni(this,n||[],!0))},filter:function(n){return this.pushStack(ni(this,n||[],!1))},is:function(n){return!!ni(this,"string"==typeof n&&gi.test(n)?i(n):n||[],!1).length},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=gi.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(11>r.nodeType&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){r=u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?"string"==typeof n?et.call(i(n),this[0]):et.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){var r="string"==typeof n?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),u=i.merge(this.get(),r);return this.pushStack(i.unique(u))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return nr(n,"nextSibling")},prev:function(n){return nr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(ef[n]||i.unique(f),ff.test(n)&&f.reverse()),this.pushStack(f)}});i.extend({filter:function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))},dir:function(n,r,u){for(var f=[],e=u!==t;(n=n[r])&&9!==n.nodeType;)if(1===n.nodeType){if(e&&i(n).is(u))break;f.push(n)}return f},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i}});var tr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ir=/<([\w:]+)/,of=/<|&#?\w+;/,sf=/<(?:script|style|link)/i,rr=/^(?:checkbox|radio)$/i,hf=/checked\s*(?:[^=]|=\s*.checked.)/i,ur=/^$|\/(?:java|ecma)script/i,cf=/^true\/(.*)/,lf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,s={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};s.optgroup=s.option;s.tbody=s.tfoot=s.colgroup=s.caption=s.thead;s.th=s.td;i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(n))},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=fr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=fr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;null!=(r=f[u]);u++)t||1!==r.nodeType||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&ti(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},u=0,f=this.length;if(n===t&&1===r.nodeType)return r.innerHTML;if("string"==typeof n&&!sf.test(n)&&!s[(ir.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(tr,"<$1><\/$2>");try{for(;f>u;u++)r=this[u]||{},1===r.nodeType&&(i.cleanData(o(r,!1)),r.innerHTML=n);r=0}catch(e){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var t=i.map(this,function(n){return[n.nextSibling,n.parentNode]}),n=0;return this.domManip(arguments,function(r){var u=t[n++],f=t[n++];f&&(u&&u.parentNode!==f&&(u=this.nextSibling),i(this).remove(),f.insertBefore(r,u))},!0),n?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t,u){n=li.apply([],n);var h,v,s,c,f,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||!(1>=l||"string"!=typeof a||i.support.checkClone)&&hf.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t,u)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,!u&&this),v=h.firstChild,1===h.childNodes.length&&(h=v),v)){for(s=i.map(o(h,"script"),af),c=s.length;l>e;e++)f=h,e!==b&&(f=i.clone(f,!0,!0),c&&i.merge(s,o(f,"script"))),t.call(this[e],f,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,vf),e=0;c>e;e++)f=s[e],ur.test(f.type||"")&&!r.access(f,"globalEval")&&i.contains(y,f)&&(f.src?i._evalUrl(f.src):i.globalEval(f.textContent.replace(lf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),wt.apply(f,u.get());return this.pushStack(f)}});i.extend({clone:function(n,t,r){var u,h,e,f,s=n.cloneNode(!0),c=i.contains(n.ownerDocument,n);if(!(i.support.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=o(s),e=o(n),u=0,h=e.length;h>u;u++)yf(e[u],f[u]);if(t)if(r)for(e=e||o(n),f=f||o(s),u=0,h=e.length;h>u;u++)er(e[u],f[u]);else er(n,s);return f=o(s,"script"),f.length>0&&ti(f,!c&&o(n,"script")),s},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,h=0,w=n.length,c=t.createDocumentFragment(),v=[];w>h;h++)if(f=n[h],f||0===f)if("object"===i.type(f))i.merge(v,f.nodeType?[f]:f);else if(of.test(f)){for(e=e||c.appendChild(t.createElement("div")),y=(ir.exec(f)||["",""])[1].toLowerCase(),l=s[y]||s._default,e.innerHTML=l[1]+f.replace(tr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=c.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(c.textContent="",h=0;f=v[h++];)if((!u||-1===i.inArray(f,u))&&(p=i.contains(f.ownerDocument,f),e=o(c.appendChild(f),"script"),p&&ti(e),r))for(a=0;f=e[a++];)ur.test(f.type||"")&&r.push(f);return c},cleanData:function(n){for(var s,u,h,o,e,l,v=i.event.special,a=0;(u=n[a])!==t;a++){if(c.accepts(u)&&(e=u[r.expando],e&&(s=r.cache[e]))){if(h=Object.keys(s.events||{}),h.length)for(l=0;(o=h[l])!==t;l++)v[o]?i.event.remove(u,o):i.removeEvent(u,o,s.handle);r.cache[e]&&delete r.cache[e]}delete f.cache[u[f.expando]]}},_evalUrl:function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}});i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});var w,k,pf=/^(none|table(?!-c[ea]).+)/,or=/^margin/,wf=RegExp("^("+ot+")(.*)$","i"),ii=RegExp("^("+ot+")(?!px)[a-z%]+$","i"),bf=RegExp("^([+-])=("+ot+")","i"),sr={BODY:"block"},kf={position:"absolute",visibility:"hidden",display:"block"},hr={letterSpacing:0,fontWeight:400},v=["Top","Right","Bottom","Left"],cr=["Webkit","O","Moz","ms"];i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){var e,o,s={},f=0;if(i.isArray(r)){for(e=ct(n),o=r.length;o>f;f++)s[r[f]]=i.css(n,r[f],!1,e);return s}return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return ar(this,!0)},hide:function(){return ar(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){d(this)?i(this).show():i(this).hide()})}});i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=w(n,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,r,u,f){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;return r=i.cssProps[h]||(i.cssProps[h]=lr(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u===t?e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r]:(s=typeof u,"string"===s&&(o=bf.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),null==u||"number"===s&&isNaN(u)||("number"!==s||i.cssNumber[h]||(u+="px"),i.support.clearCloneStyle||""!==u||0!==r.indexOf("background")||(c[r]="inherit"),e&&"set"in e&&(u=e.set(n,u,f))===t||(c[r]=u)),t)}},css:function(n,r,u,f){var e,h,o,s=i.camelCase(r);return r=i.cssProps[s]||(i.cssProps[s]=lr(n.style,s)),o=i.cssHooks[r]||i.cssHooks[s],o&&"get"in o&&(e=o.get(n,!0,u)),e===t&&(e=w(n,r,f)),"normal"===e&&r in hr&&(e=hr[r]),""===u||u?(h=parseFloat(e),u===!0||i.isNumeric(h)?h||0:e):e}});w=function(n,r,u){var s,h,c,o=u||ct(n),e=o?o.getPropertyValue(r)||o[r]:t,f=n.style;return o&&(""!==e||i.contains(n.ownerDocument,n)||(e=i.style(n,r)),ii.test(e)&&or.test(r)&&(s=f.width,h=f.minWidth,c=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=o.width,f.width=s,f.minWidth=h,f.maxWidth=c)),e};i.each(["height","width"],function(n,r){i.cssHooks[r]={get:function(n,u,f){return u?0===n.offsetWidth&&pf.test(i.css(n,"display"))?i.swap(n,kf,function(){return pr(n,r,f)}):pr(n,r,f):t},set:function(n,t,u){var f=u&&ct(n);return vr(n,t,u?yr(n,r,u,i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f),f):0)}}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,r){return r?i.swap(n,{display:"inline-block"},w,[n,"marginRight"]):t}});!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,r){i.cssHooks[r]={get:function(n,u){return u?(u=w(n,r),ii.test(u)?i(n).position()[r]+"px":u):t}}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return 0>=n.offsetWidth&&0>=n.offsetHeight},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+v[r]+t]=u[r]||u[r-2]||u[0];return f}};or.test(n)||(i.cssHooks[n+t].set=vr)});var gf=/%20/g,ne=/\[\]$/,br=/\r?\n/g,te=/^(?:submit|button|image|reset|file)$/i,ie=/^(?:input|select|textarea|keygen)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&ie.test(this.nodeName)&&!te.test(n)&&(this.checked||!rr.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(br,"\r\n")}}):{name:t.name,value:r.replace(br,"\r\n")}}).get()}});i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():null==t?"":t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)ri(u,n[u],r,e);return f.join("&").replace(gf,"+")};i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}});var y,l,ui=i.now(),fi=/\?/,re=/#.*$/,kr=/([?&])_=[^&]*/,ue=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:GET|HEAD)$/,ee=/^\/\//,dr=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gr=i.fn.load,nu={},ei={},tu="*/".concat("*");try{l=hu.href}catch(pe){l=u.createElement("a");l.href="";l=l.href}y=dr.exec(l.toLowerCase())||[];i.fn.load=function(n,r,u){if("string"!=typeof n&&gr)return gr.apply(this,arguments);var f,s,h,e=this,o=n.indexOf(" ");return o>=0&&(f=n.slice(o),n=n.slice(0,o)),i.isFunction(r)?(u=r,r=t):r&&"object"==typeof r&&(s="POST"),e.length>0&&i.ajax({url:n,type:s,dataType:"html",data:r}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).complete(u&&function(n,t){e.each(u,h||[n.responseText,t,n])}),this};i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:l,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(y[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?oi(oi(n,i.ajaxSettings),t):oi(i.ajaxSettings,n)},ajaxPrefilter:iu(nu),ajaxTransport:iu(ei),ajax:function(n,r){function k(n,r,h,c){var a,rt,k,y,w,l=r;2!==o&&(o=2,g&&clearTimeout(g),v=t,d=c||"",f.readyState=n>0?4:0,a=n>=200&&300>n||304===n,h&&(y=oe(u,f,h)),y=se(u,y,f,a),a?(u.ifModified&&(w=f.getResponseHeader("Last-Modified"),w&&(i.lastModified[e]=w),w=f.getResponseHeader("etag"),w&&(i.etag[e]=w)),204===n||"HEAD"===u.type?l="nocontent":304===n?l="notmodified":(l=y.state,rt=y.data,k=y.error,a=!k)):(k=l,(n||!l)&&(l="error",0>n&&(n=0))),f.status=n,f.statusText=(r||l)+"",a?tt.resolveWith(s,[rt,l,f]):tt.rejectWith(s,[f,l,k]),f.statusCode(b),b=t,p&&nt.trigger(a?"ajaxSuccess":"ajaxError",[f,u,a?rt:k]),it.fireWith(s,[f,l]),p&&(nt.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof n&&(r=n,n=t);r=r||{};var v,e,d,w,g,c,p,a,u=i.ajaxSetup({},r),s=u.context||u,nt=u.context&&(s.nodeType||s.jquery)?i(s):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),b=u.statusCode||{},rt={},ut={},o=0,ft="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(2===o){if(!w)for(w={};t=ue.exec(d);)w[t[1].toLowerCase()]=t[2];t=w[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===o?d:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=ut[i]=ut[i]||n,rt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>o)for(t in n)b[t]=[b[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||ft;return v&&v.abort(t),k(0,t),this}};if(tt.promise(f).complete=it.add,f.success=f.done,f.error=f.fail,u.url=((n||u.url||l)+"").replace(re,"").replace(ee,y[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(h)||[""],null==u.crossDomain&&(c=dr.exec(u.url.toLowerCase()),u.crossDomain=!(!c||c[1]===y[1]&&c[2]===y[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(y[3]||("http:"===y[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),ru(nu,u,r,f),2===o)return f;p=u.global;p&&0==i.active++&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!fe.test(u.type);e=u.url;u.hasContent||(u.data&&(e=u.url+=(fi.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=kr.test(e)?e.replace(kr,"$1_="+ui++):e+(fi.test(e)?"&":"?")+"_="+ui++));u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+tu+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)f.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(s,f,u)===!1||2===o))return f.abort();ft="abort";for(a in{success:1,error:1,complete:1})f[a](u[a]);if(v=ru(ei,u,r,f)){f.readyState=1;p&&nt.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(g=setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1;v.send(rt,k)}catch(et){if(!(2>o))throw et;k(-1,et)}}else k(-1,"No Transport");return f},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,r){return i.get(n,t,r,"script")}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({url:n,type:r,dataType:e,data:u,success:f})}});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET")});i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}});si=[];lt=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=si.pop()||i.expando+"_"+ui++;return this[n]=!0,n}});i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.jsonp!==!1&&(lt.test(r.url)?"url":"string"==typeof r.data&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&lt.test(r.data)&&"data");return h||"jsonp"===r.dataTypes[0]?(e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,h?r[h]=r[h].replace(lt,"$1"+e):r.jsonp!==!1&&(r.url+=(fi.test(r.url)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",s=n[e],n[e]=function(){o=arguments},f.always(function(){n[e]=s;r[e]&&(r.jsonpCallback=u.jsonpCallback,si.push(e));o&&i.isFunction(s)&&s(o[0]);o=s=t}),"script"):t});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var g=i.ajaxSettings.xhr(),he={0:200,1223:204},ce=0,nt={};n.ActiveXObject&&i(n).on("unload",function(){for(var n in nt)nt[n]();nt=t});i.support.cors=!!g&&"withCredentials"in g;i.support.ajax=g=!!g;i.ajaxTransport(function(n){var r;return i.support.cors||g&&!n.crossDomain?{send:function(i,u){var e,o,f=n.xhr();if(f.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(e in n.xhrFields)f[e]=n.xhrFields[e];n.mimeType&&f.overrideMimeType&&f.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(e in i)f.setRequestHeader(e,i[e]);r=function(n){return function(){r&&(delete nt[o],r=f.onload=f.onerror=null,"abort"===n?f.abort():"error"===n?u(f.status||404,f.statusText):u(he[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:t,f.getAllResponseHeaders()))}};f.onload=r();f.onerror=r("error");r=nt[o=ce++]=r("abort");f.send(n.hasContent&&n.data||null)},abort:function(){r&&r()}}:t});var b,at,le=/^(?:toggle|show|hide)$/,uu=RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),ae=/queueHooks$/,vt=[ye],tt={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),r=uu.exec(t),e=r&&r[3]||(i.cssNumber[n]?"":"px"),u=(i.cssNumber[n]||"px"!==e&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(u&&u[3]!==e){e=e||u[3];r=r||[];u=+s||1;do o=o||".5",u/=o,i.style(f.elem,n,u+e);while(o!==(o=f.cur()/s)&&1!==o&&--h)}return r&&(u=f.start=+u||+s||0,f.unit=e,f.end=r[1]?u+(r[1]+1)*r[2]:+r[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;f>u;u++)r=n[u],tt[r]=tt[r]||[],tt[r].unshift(t)},prefilter:function(n,t){t?vt.unshift(n):vt.push(n)}});i.Tween=e;e.prototype={constructor:e,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=e.propHooks[this.prop];return n&&n.get?n.get(this):e.propHooks._default.get(this)},run:function(n){var r,t=e.propHooks[this.prop];return this.pos=r=this.options.duration?i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):e.propHooks._default.set(this),this}};e.prototype.init.prototype=e.prototype;e.propHooks={_default:{get:function(n){var t;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[i.cssProps[n.prop]]||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(yt(t,!0),n,i,u)}});i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(d).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,u,f){var e=function(n){var t=n.stop;delete n.stop;t(f)};return"string"!=typeof n&&(f=u,u=n,n=t),u&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,u=r.get(this);if(t)u[t]&&u[t].stop&&e(u[t]);else for(t in u)u[t]&&u[t].stop&&ae.test(t)&&e(u[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(f),s=!1,o.splice(t,1));(s||!f)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;s>t;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(null==u.queue||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.timers=[];i.fx=e.prototype.init;i.fx.tick=function(){var u,n=i.timers,r=0;for(b=i.now();n.length>r;r++)u=n[r],u()||n[r]!==u||n.splice(r--,1);n.length||i.fx.stop();b=t};i.fx.timer=function(n){n()&&i.timers.push(n)&&i.fx.start()};i.fx.interval=13;i.fx.start=function(){at||(at=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(at);at=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fx.step={};i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var u,e,r=this[0],f={top:0,left:0},o=r&&r.ownerDocument;if(o)return u=o.documentElement,i.contains(u,r)?(typeof r.getBoundingClientRect!==rt&&(f=r.getBoundingClientRect()),e=su(o),{top:f.top+e.pageYOffset-u.clientTop,left:f.left+e.pageXOffset-u.clientLeft}):f};i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}};i.fn.extend({position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||ci;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||ci})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,u){var f="pageYOffset"===u;i.fn[r]=function(e){return i.access(this,function(i,r,e){var o=su(i);return e===t?o?o[u]:i[r]:(o?o.scrollTo(f?n.pageXOffset:e,f?e:n.pageYOffset):i[r]=e,t)},r,e,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||"boolean"!=typeof f),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:9===r.nodeType?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})});i.fn.size=function(){return this.length};i.fn.andSelf=i.fn.addBack;"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd&&define("jquery",[],function(){return i});"object"==typeof n&&"object"==typeof n.document&&(n.jQuery=n.$=i)})(window);
/*! jQuery UI - v1.10.3 - 2013-05-03
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e)):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var u=0,f=/^ui-id-\d+$/;n.ui=n.ui||{};n.extend(n.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var r=n(this[0]),u,f;r.length&&r[0]!==document;){if(u=r.css("position"),(u==="absolute"||u==="relative"||u==="fixed")&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&f!==0))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function e(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],u=r.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?f["inner"+r].call(this):this.each(function(){n(this).css(u,e(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return typeof t!="number"?f["outer"+r].call(this,t):this.each(function(){n(this).css(u,e(this,t,!0,i)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.support.selectstart="onselectstart"in document.createElement("div");n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11)for(r=0;r<u.length;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)}})})(jQuery),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i=0,r;(r=t[i])!=null;i++)try{n(r).triggerHandler("remove")}catch(f){}u(t)};n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];t=t.split(".")[1];s=e+"-"+t;r||(r=i,i=n.Widget);n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)};n[e]=n[e]||{};f=n[e][t];u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)};n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]});o=new i;o.options=n.widget.extend({},o.options);n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()});u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s});f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u);n.widget.bridge(t,u)};n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r};n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^(\w+)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}})}(jQuery),function(n){var t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=i.which===1,f=typeof this.options.cancel=="string"&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return!u||f||!this._mouseCapture(i)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted))?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)}},_mouseMove:function(t){return n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),!this.handle)?!1:(n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n("<div class='ui-draggable-iframeFix' style='background: #fff;'><\/div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0)},_mouseStart:function(t){var i=this.options;return(this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),this.options.helper==="original"&&!n.contains(this.element[0].ownerDocument,this.element[0]))?!1:(this.options.revert==="invalid"&&!i||this.options.revert==="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):r.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo(r.appendTo==="parent"?this.element[0].parentNode:r.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,t,i,r=this.options;if(!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,n(document).width()-this.helperProportions.width-this.margins.left,(n(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}(r.containment==="parent"&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i)&&(u=t.css("overflow")!=="hidden",this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(u?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t)},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var i,e,u,f,r=this.options,h=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=t.pageX,s=t.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(e=this.relative_container.offset(),i=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(s=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(s=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,s=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,o=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("ui-draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n.data(this,"ui-sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("ui-draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("ui-draggable"),u=this;n.each(r.sortables,function(){var f=!1,e=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&n.contains(e.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor"));t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("ui-draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity"));r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("ui-draggable");t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("ui-draggable"),i=r.options,u=!1;r.scrollParent[0]!==document&&r.scrollParent[0].tagName!=="HTML"?(i.axis&&i.axis==="x"||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&i.axis==="y"||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&i.axis==="x"||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&i.axis==="y"||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))));u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("ui-draggable"),i=t.options;t.snapElements=[];n(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var e,o,s,h,c,a,l,v,w,r=n(this).data("ui-draggable"),b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--){if(c=r.snapElements[u].left,a=c+r.snapElements[u].width,l=r.snapElements[u].top,v=l+r.snapElements[u].height,k<c-f||y>a+f||d<l-f||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)){r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item}));r.snapElements[u].snapping=!1;continue}b.snapMode!=="inner"&&(e=Math.abs(l-d)<=f,o=Math.abs(v-p)<=f,s=Math.abs(c-k)<=f,h=Math.abs(a-y)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left-r.margins.left));w=e||o||s||h;b.snapMode!=="outer"&&(e=Math.abs(l-p)<=f,o=Math.abs(v-d)<=f,s=Math.abs(c-y)<=f,h=Math.abs(a-k)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left-r.margins.left));!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item}));r.snapElements[u].snapping=e||o||s||h||w}}});n.ui.plugin.add("draggable","stack",{start:function(){var i,r=this.data("ui-draggable").options,t=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});t.length&&(i=parseInt(n(t[0]).css("zIndex"),10)||0,n(t).each(function(t){n(this).css("zIndex",i+t)}),this.css("zIndex",i+t.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex"));r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){function t(n,t,i){return n>t&&n<t+i}n.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(i)?i:function(n){return n.is(i)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[];n.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=n.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){t==="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)});n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.ui.intersect=function(n,i,r){if(!i.offset)return!1;var a,v,e=(n.positionAbs||n.position.absolute).left,s=e+n.helperProportions.width,o=(n.positionAbs||n.position.absolute).top,h=o+n.helperProportions.height,u=i.offset.left,c=u+i.proportions.width,f=i.offset.top,l=f+i.proportions.height;switch(r){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+n.helperProportions.width/2&&s-n.helperProportions.width/2<c&&f<o+n.helperProportions.height/2&&h-n.helperProportions.height/2<l;case"pointer":return a=(n.positionAbs||n.position.absolute).left+(n.clickOffset||n.offset.click).left,v=(n.positionAbs||n.position.absolute).top+(n.clickOffset||n.offset.click).top,t(v,f,i.proportions.height)&&t(a,u,i.proportions.width);case"touch":return(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l)&&(e>=u&&e<=c||s>=u&&s<=c||e<u&&s>c);default:return!1}};n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;r<u.length;r++)if(!u[r].options.disabled&&(!t||u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]===u[r].element[0]){u[r].proportions.height=0;continue n}(u[r].visible=u[r].element.css("display")!=="none",u[r].visible)&&(o==="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n.data(this,"ui-droppable").options.scope===e}),f.length&&(r=n.data(f[0],"ui-droppable"),r.greedyChild=u==="isover")),r&&u==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this[u==="isout"?"isover":"isout"]=!1,this[u==="isover"?"_over":"_out"].call(this,i),r&&u==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(n){function i(n){return parseInt(n,10)||0}function t(n){return!isNaN(parseInt(n,10))}n.widget("ui.resizable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,f,r,i,o,u=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;f<e.length;f++)r=n.trim(e[f]),o="ui-resizable-"+r,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),!n(this.handles[i]).length};this._renderAxis(this.element);this._handles=n(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){u.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=i&&i[1]?i[1]:"se")});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),u._handles.show())}).mouseleave(function(){t.disabled||u.resizing||(n(this).addClass("ui-resizable-autohide"),u._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var f,e,o,u=this.options,s=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".ui-draggable")&&r.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),f=i(this.helper.css("left")),e=i(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",o==="auto"?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,e=this.helper,r={},u=this.originalMousePosition,o=this.axis,s=this.position.top,h=this.position.left,c=this.size.width,l=this.size.height,a=t.pageX-u.left||0,v=t.pageY-u.top||0,f=this._change[o];return f?(i=f.apply(this,[t,a,v]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==h&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==l&&(r.height=this.size.height+"px"),e.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(n){var u,f,e,o,i,r=this.options;i={minWidth:t(r.minWidth)?r.minWidth:0,maxWidth:t(r.maxWidth)?r.maxWidth:Infinity,minHeight:t(r.minHeight)?r.minHeight:0,maxHeight:t(r.maxHeight)?r.maxHeight:Infinity};(this._aspectRatio||n)&&(u=i.minHeight*this.aspectRatio,e=i.minWidth/this.aspectRatio,f=i.maxHeight*this.aspectRatio,o=i.maxWidth/this.aspectRatio,u>i.minWidth&&(i.minWidth=u),e>i.minHeight&&(i.minHeight=e),f<i.maxWidth&&(i.maxWidth=f),o<i.maxHeight&&(i.maxHeight=o));this._vBoundaries=i},_updateCache:function(n){this.offset=this.helper.offset();t(n.left)&&(this.position.left=n.left);t(n.top)&&(this.position.top=n.top);t(n.height)&&(this.size.height=n.height);t(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var i=this.position,r=this.size,u=this.axis;return t(n.height)?n.width=n.height*this.aspectRatio:t(n.width)&&(n.height=n.width/this.aspectRatio),u==="sw"&&(n.left=i.left+(r.width-n.width),n.top=null),u==="nw"&&(n.top=i.top+(r.height-n.height),n.left=i.left+(r.width-n.width)),n},_respectSize:function(n){var i=this._vBoundaries,r=this.axis,u=t(n.width)&&i.maxWidth&&i.maxWidth<n.width,f=t(n.height)&&i.maxHeight&&i.maxHeight<n.height,e=t(n.width)&&i.minWidth&&i.minWidth>n.width,o=t(n.height)&&i.minHeight&&i.minHeight>n.height,s=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(r),l=/nw|ne|n/.test(r);return e&&(n.width=i.minWidth),o&&(n.height=i.minHeight),u&&(n.width=i.maxWidth),f&&(n.height=i.maxHeight),e&&c&&(n.left=s-i.minWidth),u&&c&&(n.left=s-i.maxWidth),o&&l&&(n.top=h-i.minHeight),f&&l&&(n.top=h-i.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,r,u,n,f=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){if(n=this._proportionallyResizeElements[i],!this.borderDif)for(this.borderDif=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;t<r.length;t++)this.borderDif[t]=(parseInt(r[t],10)||0)+(parseInt(u[t],10)||0);n.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);t!=="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("ui-resizable"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var u,e,o,s,h,c,l,t=n(this).data("ui-resizable"),a=t.options,v=t.element,f=a.containment,r=f instanceof n?f.get(0):/parent/.test(f)?v.parent().get(0):f;r&&(t.containerElement=n(r),/document/.test(f)||f===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(r),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=i(u.css("padding"+t))}),t.containerOffset=u.offset(),t.containerPosition=u.position(),t.containerSize={height:u.innerHeight()-e[3],width:u.innerWidth()-e[1]},o=t.containerOffset,s=t.containerSize.height,h=t.containerSize.width,c=n.ui.hasScroll(r,"left")?r.scrollWidth:h,l=n.ui.hasScroll(r)?r.scrollHeight:s,t.parentData={element:r,left:o.left,top:o.top,width:c,height:l}))},resize:function(t){var f,o,s,h,i=n(this).data("ui-resizable"),a=i.options,r=i.containerOffset,c=i.position,e=i._aspectRatio||t.shiftKey,u={top:0,left:0},l=i.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(u=r);c.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-u.left),e&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=a.helper?r.left:0);c.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),e&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0);i.offset.left=i.parentData.left+i.position.left;i.offset.top=i.parentData.top+i.position.top;f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width);o=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height);s=i.containerElement.get(0)===i.element.parent().get(0);h=/relative|absolute/.test(i.containerElement.css("position"));s&&h&&(f-=i.parentData.left);f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,e&&(i.size.height=i.size.width/i.aspectRatio));o+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-o,e&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("ui-resizable"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var r=n(this).data("ui-resizable"),t=r.options,i=function(t){n(t).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof t.alsoResize!="object"||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).data("ui-resizable"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("ui-resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)});t.css(u)})};typeof u.alsoResize!="object"||u.alsoResize.nodeType?o(u.alsoResize):n.each(u.alsoResize,function(n,t){o(n,t)})},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("ui-resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var t=n(this).data("ui-resizable"),i=t.options,v=t.size,f=t.originalSize,e=t.originalPosition,h=t.axis,c=typeof i.grid=="number"?[i.grid,i.grid]:i.grid,o=c[0]||1,s=c[1]||1,l=Math.round((v.width-f.width)/o)*o,a=Math.round((v.height-f.height)/s)*s,r=f.width+l,u=f.height+a,y=i.maxWidth&&i.maxWidth<r,p=i.maxHeight&&i.maxHeight<u,w=i.minWidth&&i.minWidth>r,b=i.minHeight&&i.minHeight>u;i.grid=c;w&&(r=r+o);b&&(u=u+s);y&&(r=r-o);p&&(u=u-s);/^(se|s|e)$/.test(h)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.top=e.top-a):/^(sw)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.left=e.left-l):(t.size.width=r,t.size.height=u,t.position.top=e.top-a,t.position.left=e.left-l)}})}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;(this.opos=[t.pageX,t.pageY],this.options.disabled)||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&(s.tolerance==="touch"?h=!(e.left>u||e.right<i||e.top>f||e.bottom<r):s.tolerance==="fit"&&(h=e.left>i&&e.right<u&&e.top>r&&e.bottom<f),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||t.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(n){function t(n,t,i){return n>t&&n<t+i}function i(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))}n.widget("ui.sortable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var n=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?n.axis==="x"||i(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return r=n(this),!1}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&u.cursor!=="auto"&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if((u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o)&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!n.contains(this.element[0],f):!0)){if(this.direction=o===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(u))this._rearrange(t,u);else break;this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&r!=="x"||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));r&&r!=="y"||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l=this.options.axis==="x"||i+o>u&&i+o<e,a=this.options.axis==="y"||t+s>r&&t+s<f,v=l&&a;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(n){var u=this.options.axis==="x"||t(this.positionAbs.top+this.offset.click.top,n.top,n.height),f=this.options.axis==="y"||t(this.positionAbs.left+this.offset.click.left,n.left,n.width),e=u&&f,i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&r==="right"||i==="down"?2:1:i&&(i==="down"?2:1):!1},_intersectsWithSides:function(n){var u=t(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),f=t(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?r==="right"&&f||r==="left"&&!f:i&&(i==="down"&&u||i==="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!==0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!==0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(function(){s.push(this)});return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;u<l;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)(r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return u==="tr"?t.currentItem.children().each(function(){n("<td>&#160;<\/td>",t.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)}):u==="img"&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_contactContainers:function(r){for(var f,v,s,l,y,h,o,p,a,c=null,e=null,u=this.containers.length-1;u>=0;u--)if(!n.contains(this.currentItem[0],this.containers[u].element[0]))if(this._intersectsWith(this.containers[u].containerCache)){if(c&&n.contains(this.containers[u].element[0],c.element[0]))continue;c=this.containers[u];e=u}else this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",r,this._uiHash(this)),this.containers[u].containerCache.over=0);if(c)if(this.containers.length===1)this.containers[e].containerCache.over||(this.containers[e]._trigger("over",r,this._uiHash(this)),this.containers[e].containerCache.over=1);else{for(v=1e4,s=null,a=c.floating||i(this.currentItem),l=a?"left":"top",y=a?"width":"height",h=this.positionAbs[l]+this.offset.click[l],f=this.items.length-1;f>=0;f--)n.contains(this.containers[e].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!a||t(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(o=this.items[f].item.offset()[l],p=!1,Math.abs(o-h)>Math.abs(o+this.items[f][y]-h)&&(p=!0,o+=this.items[f][y]),Math.abs(o-h)<v&&(v=Math.abs(o-h),s=this.items[f],this.direction=p?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[e])return;s?this._rearrange(r,s,null,!0):this._rearrange(r,null,this.containers[e].element,!0);this._trigger("change",r,this._uiHash());this.containers[e]._trigger("change",r,this._uiHash(this));this.currentContainer=this.containers[e];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",r,this._uiHash(this));this.containers[e].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):r.helper==="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||n(r.appendTo!=="parent"?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);(i.containment==="document"||i.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u=n(t).css("overflow")!=="hidden",this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(o[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static")&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",n,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(n,t){var i="ui-effects-";n.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(n,t){function e(n,t,i){var r=s[t.type]||{};return n==null?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n))?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:r.max<n?r.max:n}function l(t){var e=i(),o=e._rgba=[];return(t=t.toLowerCase(),r(v,function(n,i){var r,s=i.re.exec(t),h=s&&i.parse(s),f=i.space||"rgba";if(h)return r=e[f](h),e[u[f].cache]=r[u[f].cache],o=e._rgba=r._rgba,!1}),o.length)?(o.join()==="0,0,0,0"&&n.extend(o,f.transparent),e):f[t]}function o(n,t,i){return(i=(i+1)%1,i*6<1)?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n}var a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1]*2.55,n[2]*2.55,n[3]*2.55,n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=i.support={},c=n("<p>")[0],f,r=n.each;c.style.cssText="background-color:rgba(1,1,1,.5)";h.rgba=c.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,s,h,c){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(s),s=t);var a=this,v=n.type(o),y=this._rgba=[];return(s!==t&&(o=[o,s,h,c],v="array"),v==="string")?this.parse(l(o)||f._default):v==="array"?(r(u.rgba.props,function(n,t){y[t.idx]=e(o[t.idx],t)}),this):v==="object"?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if(n==="alpha"||o[n]==null)return;a[u]=i.to(a._rgba)}a[u][t.idx]=e(o[n],t,!0)});a[u]&&n.inArray(null,a[u].slice(0,3))<0&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):void 0},is:function(n){var e=i(n),t=!0,f=this;return r(u,function(n,i){var o,u=e[i.cache];return u&&(o=f[i.cache]||i.to&&i.to(f._rgba)||[],r(i.props,function(n,i){if(u[i.idx]!=null)return t=u[i.idx]===o[i.idx]})),t}),t},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var f=i(n),c=f._space(),o=u[c],l=this.alpha()===0?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),h=a.slice();return f=f[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=f[c],o=s[i.type]||{};u!==null&&(r===null?h[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),h[c]=e((u-r)*t+r,i)))}),this[c](h)},blend:function(t){if(this._rgba[3]===1)return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return n==null?t>2?1:0:n});return t[3]===1&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return n==null&&(n=t>2?1:0),t&&t<3&&(n=Math.round(n*100)+"%"),n});return t[3]===1&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(r*255)),"#"+n.map(i,function(n){return n=(n||0).toString(16),n.length===1?"0"+n:n}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var i=n[0]/255,r=n[1]/255,f=n[2]/255,s=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,h=o*.5,c,l;return c=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,l=t===0?0:h<=.5?t/o:t/(2-o),[Math.round(c)%360,l,h,s==null?1:s]};u.hsla.from=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=t<=.5?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(o(f,i,r+1/3)*255),Math.round(o(f,i,r)*255),Math.round(o(f,i,r-1/3)*255),e]};r(u,function(u,f){var s=f.props,o=f.cache,h=f.to,c=f.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v=a==="array"||a==="object"?u:arguments,f=this[o].slice();return r(s,function(n,t){var i=v[a==="object"?n:t.idx];i==null&&(i=f[t.idx]);f[t.idx]=e(i,t)}),c?(l=i(c(f)),l[o]=f,l):i(f)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f=n.type(i),h=t==="alpha"?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx],e;return f==="undefined"?s:(f==="function"&&(i=i.call(this,s),f=n.type(i)),i==null&&r.empty)?this:(f==="string"&&(e=a.exec(i),e&&(i=s+parseFloat(e[2])*(e[1]==="+"?1:-1))),o[r.idx]=i,this[h](o))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if(u!=="transparent"&&(n.type(u)!=="string"||(o=l(u)))){if(u=i(o||u),!h.rgba&&u._rgba[3]!==1){for(f=r==="backgroundColor"?t.parentNode:t;(e===""||e==="transparent")&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(s){}u=u.blend(e&&e!=="transparent"?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(s){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};f=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery),function(){function i(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],typeof i[r]=="string"&&(f[n.camelCase(r)]=i[r]);else for(r in i)typeof i[r]=="string"&&(f[r]=i[r]);return f}function f(t,i){var e={},r,f;for(r in i)f=i[r],t[r]!==f&&(u[r]||(n.fx.step[r]||!isNaN(parseFloat(f)))&&(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){(n.end==="none"||n.setAttr)&&(n.pos!==1||n.setAttr)||(jQuery.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(t,u,e,o){var s=n.speed(u,e,o);return this.queue(function(){var e=n(this),h=e.attr("class")||"",o,u=s.children?e.find("*").addBack():e;u=u.map(function(){var t=n(this);return{el:t,start:i(this)}});o=function(){n.each(r,function(n,i){t[i]&&e[i+"Class"](t[i])})};o();u=u.map(function(){return this.end=i(this.el[0]),this.diff=f(this.start,this.end),this});e.attr("class",h);u=u.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,u.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(i){return function(r,u,f,e,o){return typeof u=="boolean"||u===t?f?n.effects.animateClass.call(this,u?{add:r}:{remove:r},f,e,o):i.apply(this,arguments):n.effects.animateClass.call(this,{toggle:r},u,f,e)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function r(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},i==null&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function u(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects.effect[t]?!0:n.isFunction(t)?!0:typeof t=="object"&&!t.effect?!0:!1}n.extend(n.effects,{version:"1.10.3",save:function(n,t){for(var r=0;r<t.length;r++)t[r]!==null&&n.data(i+t[r],n[0].style[t[r]])},restore:function(n,r){for(var f,u=0;u<r.length;u++)r[u]!==null&&(f=n.data(i+r[u]),f===t&&(f=""),n.css(r[u],f))},setMode:function(n,t){return t==="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),t.css("position")==="static"?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function e(i){function o(){n.isFunction(e)&&e.call(r[0]);n.isFunction(i)&&i()}var r=n(this),e=t.complete,u=t.mode;(r.is(":hidden")?u==="hide":u==="show")?(r[u](),o()):f.call(r[0],t,o)}var t=r.apply(this,arguments),i=t.mode,u=t.queue,f=n.effects.effect[t.effect];return n.fx.off||!f?i?this[i](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):u===!1?this.each(e):this.queue(u||"fx",e)},show:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(n.fn.show),hide:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(n.fn.hide),toggle:function(n){return function(t){if(u(t)||typeof t=="boolean")return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return n===0||n===1?n:-Math.pow(2,8*(n-1))*Math.sin(((n-1)*80-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((t*3-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return n<.5?i(n*2)/2:1-i(n*-2+2)/2}})}()}(jQuery),function(n){var r=0,t={},i={};t.height=t.paddingTop=t.paddingBottom=t.borderTopWidth=t.borderBottomWidth="hide";i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show";n.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");t.collapsible||t.active!==!1&&t.active!=null||(t.active=0);this._processPanels();t.active<0&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n(),content:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});this.options.heightStyle!=="content"&&n.css("height","")},_setOption:function(n,t){if(n==="active"){this._activate(t);return}n==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t));this._super(n,t);n!=="collapsible"||t||this.options.active!==!1||this._activate(0);n==="icons"&&(this._destroyIcons(),t&&this._createIcons());n==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();(t.active!==!1||t.collapsible!==!0)&&this.headers.length?t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active):(t.active=!1,this.active=n());this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,u=i.heightStyle,e=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++r);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(t){var i=n(this),r=i.attr("id"),e=i.next(),u=e.attr("id");r||(r=f+"-header-"+t,i.attr("id",r));u||(u=f+"-panel-"+t,e.attr("id",u));i.attr("aria-controls",u);e.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);u==="fill"?(t=e.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");r!=="absolute"&&r!=="fixed"&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):u==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};(t.preventDefault(),(!f||i.collapsible)&&this._trigger("beforeActivate",t,o)!==!1)&&(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-expanded":"false","aria-hidden":"true"});i.prev().attr("aria-selected","false");r.length&&i.length?i.prev().attr("tabIndex",-1):r.length&&this.headers.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1);r.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(n,r,u){var l,f,e,a=this,h=0,v=n.length&&(!r.length||n.index()<r.index()),s=this.options.animate||{},o=v&&s.down||s,c=function(){a._toggleComplete(u)};if(typeof o=="number"&&(e=o),typeof o=="string"&&(f=o),f=f||o.easing||s.easing,e=e||o.duration||s.duration,!r.length)return n.animate(i,e,f,c);if(!n.length)return r.animate(t,e,f,c);l=n.show().outerHeight();r.animate(t,{duration:e,easing:f,step:function(n,t){t.now=Math.round(n)}});n.hide().animate(i,{duration:e,easing:f,complete:c,step:function(n,t){t.now=Math.round(n);t.prop!=="height"?h+=t.now:a.options.heightStyle!=="content"&&(t.now=Math.round(l-r.outerHeight()-h),h=0)}})},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}})}(jQuery),function(n){var t=0;n.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f=u==="textarea",e=u==="input";this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0;r=!0;i=!0;return}t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t){t=!1;(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault();return}if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r){r=!1;n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(n);this._change(n)}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}var r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);n==="source"&&this._initSource();n==="appendTo"&&this.menu.element.appendTo(this._appendTo());n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var n=this,i=++t;return function(r){i===t&&n.__response(r);n.pending--;n.pending||n.element.removeClass("ui-autocomplete-loading")}},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this._value(this.term);this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(n){var t;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n){var i,r,u,t,f="ui-button ui-widget ui-state-default ui-corner-all",s="ui-state-hover ui-state-active ",e="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var t=n(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},o=function(t){var i=t.name,r=t.form,u=n([]);return i&&(i=i.replace(/'/g,"\\'"),u=r?n(r).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h);typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var s=this,e=this.options,c=this.type==="checkbox"||this.type==="radio",a=c?"":"ui-state-active",l="ui-state-focus";e.label===null&&(e.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===i&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||n(this).removeClass(a)}).bind("click"+this.eventNamespace,function(n){e.disabled&&(n.preventDefault(),n.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){s.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){s.buttonElement.removeClass(l)});c&&(this.element.bind("change"+this.eventNamespace,function(){t||s.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){e.disabled||(t=!1,r=n.pageX,u=n.pageY)}).bind("mouseup"+this.eventNamespace,function(n){e.disabled||(r!==n.pageX||u!==n.pageY)&&(t=!0)}));this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled||t)return!1}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled||t)return!1;n(this).addClass("ui-state-active");s.buttonElement.attr("aria-pressed","true");var i=s.element[0];o(i).not(i).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(e.disabled)return!1;n(this).addClass("ui-state-active");i=this;s.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(e.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(e.disabled)return!1;(t.keyCode===n.ui.keyCode.SPACE||t.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",e.disabled);this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";this.type==="checkbox"||this.type==="radio"?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(f+" "+s+" "+e).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){if(this._super(n,t),n==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t);this.type==="radio"?o(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var i=this.buttonElement.removeClass(e),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only");i.addClass(r.join(" "))}});n.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){n==="disabled"&&this.buttons.button("option",n,t);this._super(n,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(n,t){function f(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.dpDiv=e(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function e(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!==-1&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){n.datepicker._isDisabledDatepicker(u.inline?t.parent()[0]:u.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).addClass("ui-datepicker-next-hover"))})}function r(t,i){n.extend(t,i);for(var r in i)i[r]==null&&(t[r]=i[r]);return t}n.extend(n.ui,{datepicker:{version:"1.10.3"}});var i="datepicker",u;n.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return r(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f=r==="div"||r==="span";t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});r==="input"?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?e(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,r){var u=n(t);(r.append=n([]),r.trigger=n([]),u.hasClass(this.markerClassName))||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(r),n.data(t,i,r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");(u==="focus"||u==="both")&&t.focus(this._showDatepicker);(u==="button"||u==="both")&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;t<n.length;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,r){var u=n(t);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.dpDiv),n.data(t,i,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,u,f,e,o){var h,c,l,a,v,s=this._dialogInst;return s||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},n.data(this._dialogInput[0],i,s)),r(s.settings,e||{}),u=u&&u.constructor===Date?this._formatDate(s,u):u,this._dialogInput.val(u),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+a,l/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],i,s),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,i);u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,i),r==="input"?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r==="div"||r==="span")&&u.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r==="input"?(t.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(r==="div"||r==="span")&&(u=f.children("."+this._inlineClass),u.children().removeClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r==="input"?(t.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(r==="div"||r==="span")&&(u=f.children("."+this._inlineClass),u.children().addClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,i)}catch(r){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,u,f){var o,c,s,h,e=this._getInst(i);if(arguments.length===2&&typeof u=="string")return u==="defaults"?n.extend({},n.datepicker._defaults):e?u==="all"?n.extend({},e.settings):this._get(e,u):null;o=u||{};typeof u=="string"&&(o={},o[u]=f);e&&(this._curInst===e&&this._hideDatepicker(),c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),r(e.settings,o),s!==null&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s)),h!==null&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(n(i),e),this._autoSize(e),this._setDate(e,c),this._updateAlternate(e),this._updateDatepicker(e))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode===36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!i||i.indexOf(r)>-1},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,t.nodeName.toLowerCase()!=="input"&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,u,f,e,h;(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),o=n.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1)&&(r(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),u=!1,n(t).parents().each(function(){return u|=n(this).css("position")==="fixed",!u}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,u),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":u?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.zIndex(n(t).zIndex()+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.focus(),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;u=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,r=this._getNumberOfMonths(t),f=r[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(r[0]!==1||r[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.focus();t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);i=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&(t.type==="hidden"||t.nodeType!==1||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var u,e,f,o,r=this._curInst;r&&(!t||r===n.data(t,i))&&this._datepickerShowing&&(u=this._get(r,"showAnim"),e=this._get(r,"duration"),f=function(){n.datepicker._tidyDialog(r)},n.effects&&(n.effects.effect[u]||n.effects[u])?r.dpDiv.hide(u,n.datepicker._get(r,"showOptions"),e,f):r.dpDiv[u==="slideDown"?"slideUp":u==="fadeIn"?"fadeOut":"hide"](u?e:null,f),u||f(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||i.parents("#"+n.datepicker._mainDivId).length!==0||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+(r==="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+(r==="M"?"Month":"Year")]=u["draw"+(r==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=i!=null?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&t<6,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(t==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;for(var a,v,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d=typeof y!="string"?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,u,l=function(n){var i=o+1<t.length&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var r=l(n),u=n==="@"?14:n==="!"?20:n==="y"&&r?4:n==="o"?3:2,e=new RegExp("^\\d{1,"+u+"}"),t=i.substring(f).match(e);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return e=t[0],f+=r.length,!1}),e!==-1)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;o<t.length;o++)if(w)t.charAt(o)!=="'"||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(f<i.length&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(e===-1?e=(new Date).getFullYear():e<100&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(e<=d?0:-100)),p>-1){s=1;h=p;do{if(a=this._getDaysInMonth(e,s-1),h<=a)break;s++;h-=a}while(1)}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*864e9,formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=u+1<n.length&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))while(r.length<i)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)!=="'"||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=t+1<n.length&&n.charAt(t+1)===i;return r&&t++,r},t=0;t<n.length;t++)if(r)n.charAt(t)!=="'"||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=i==null||i===""?r:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&u.toString()==="Invalid Date"?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()===""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,f,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),e=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),o=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=o[0]!==1||o[1]!==1,ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(t<0&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-o[0]*o[1]+1,v.getDate())),b=w&&b<w?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,t<0&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(e?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(e?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",f,y=0;y<o[0];y++){for(ct="",this.maxRows=4,p=0;p<o[1];p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",o[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(e?"right":"left");break;case o[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(e?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&y===0?e?ut:rt:"")+(/all|right/.test(l)&&y===0?e?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",f=0;f<7;f++)vt=(f+c)%7,at+="<th"+((f+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;bt<wt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",f=0;f<7;f++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&i<w||v&&i>v,kt+="<td class='"+((f+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+((!a||g)&&d[2]?" title='"+d[2].replace(/'/g,"&#39;")+"'":"")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(o[0]>0&&p===o[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!k||h>=r.getMonth())&&(!d||h<=u.getMonth())&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(f||!(w&&b)?"&#xa0;":"")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";s<=a;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(f||!(w&&b)?"&#xa0;":"")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+(i==="Y"?t:0),f=n.drawMonth+(i==="M"?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+(i==="D"?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();(i==="M"||i==="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&t<i?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:f[0]*f[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0);n("#"+n.datepicker._mainDivId).length===0&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t==="isDisabled"||t==="getDate"||t==="widget")?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):t==="option"&&arguments.length===2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})};n.datepicker=new f;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.10.3"}(jQuery),function(n){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||n(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(n,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",n),i},open:function(){var t=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0;this.opener=n(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,!0);this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")});this._trigger("open")},_focusTabbable:function(){var n=this.element.find("[autofocus]");n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE){t.preventDefault();this.close(t);return}if(t.keyCode===n.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?(t.target===r[0]||t.target===this.uiDialog[0])&&t.shiftKey&&(u.focus(1),t.preventDefault()):(r.focus(1),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=n("<button><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;");n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length){this.uiDialog.removeClass("ui-dialog-buttons");return}n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;r.click=function(){u.apply(i.element[0],arguments)};f={icons:r.icons,text:r.showText};delete r.icons;delete r.showText;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){r.position=[f.position.left-t.document.scrollLeft(),f.position.top-t.document.scrollTop()];n(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var i=this,t=this.options,u=t.resizable,f=this.uiDialog.css("position"),e=typeof u=="string"?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:t.maxWidth,maxHeight:t.maxHeight,minWidth:t.minWidth,minHeight:this._minHeight(),handles:e,start:function(t,u){n(this).addClass("ui-dialog-resizing");i._blockFrames();i._trigger("resizeStart",t,r(u))},resize:function(n,t){i._trigger("resize",n,r(t))},stop:function(u,f){t.height=n(this).height();t.width=n(this).width();n(this).removeClass("ui-dialog-resizing");i._unblockFrames();i._trigger("resizeStop",u,r(f))}}).css("position",f)},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(r){var e=this,u=!1,f={};n.each(r,function(n,r){e._setOption(n,r);n in t&&(u=!0);n in i&&(f[n]=r)});u&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(n,t){var u,r,i=this.uiDialog;(n==="dialogClass"&&i.removeClass(this.options.dialogClass).addClass(t),n!=="disabled")&&(this._super(n,t),n==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),n==="buttons"&&this._createButtons(),n==="closeText"&&this.uiDialogTitlebarClose.button({label:""+t}),n==="draggable"&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),n==="position"&&this._position(),n==="resizable"&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&typeof t=="string"&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),n==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r=typeof n.maxHeight=="number"?Math.max(0,n.maxHeight-t):"none";n.height==="auto"?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(r){t._allowInteraction(r)||(r.preventDefault(),n(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})});this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});n.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(n.ui.dialog.overlayInstances--,n.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});n.ui.dialog.overlayInstances=0;n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{_position:function(){var t=this.options.position,i=[],r=[0,0],u;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i[0]+(r[0]<0?r[0]:"+"+r[0])+" "+i[1]+(r[1]<0?r[1]:"+"+r[1]),at:i.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position;u=this.uiDialog.is(":visible");u||this.uiDialog.show();this.uiDialog.position(t);u||this.uiDialog.hide()}})}(jQuery),function(n){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;n.effects.effect.blind=function(r,u){var f=n(this),c=["position","top","bottom","left","right","height","width"],p=n.effects.setMode(f,r.mode||"hide"),w=r.direction||"up",o=t.test(w),l=o?"height":"width",a=o?"top":"left",b=i.test(w),v={},y=p==="show",e,s,h;f.parent().is(".ui-effects-wrapper")?n.effects.save(f.parent(),c):n.effects.save(f,c);f.show();e=n.effects.createWrapper(f).css({overflow:"hidden"});s=e[l]();h=parseFloat(e.css(a))||0;v[l]=y?s:0;b||(f.css(o?"bottom":"right",0).css(o?"top":"left","auto").css({position:"absolute"}),v[a]=y?h:s+h);y&&(e.css(l,0),b||e.css(a,h+s));e.animate(v,{duration:r.duration,easing:r.easing,queue:!1,complete:function(){p==="hide"&&f.hide();n.effects.restore(f,c);n.effects.removeWrapper(f);u()}})}}(jQuery),function(n){n.effects.effect.bounce=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=k==="hide",y=k==="show",h=t.direction||"up",u=t.distance,p=t.times||5,d=p*2+(y||f?1:0),c=t.duration/d,l=t.easing,e=h==="up"||h==="down"?"top":"left",w=h==="up"||h==="left",b,o,s,a=r.queue(),g=a.length;for((y||f)&&v.push("opacity"),n.effects.save(r,v),r.show(),n.effects.createWrapper(r),u||(u=r[e==="top"?"outerHeight":"outerWidth"]()/3),y&&(s={opacity:1},s[e]=0,r.css("opacity",0).css(e,w?-u*2:u*2).animate(s,c,l)),f&&(u=u/Math.pow(2,p-1)),s={},s[e]=0,b=0;b<p;b++)o={},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l).animate(s,c,l),u=f?u*2:u/2;f&&(o={opacity:0},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l));r.queue(function(){f&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.clip=function(t,i){var r=n(this),h=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),f=v==="show",y=t.direction||"vertical",c=y==="vertical",o=c?"height":"width",l=c?"top":"left",s={},a,u,e;n.effects.save(r,h);r.show();a=n.effects.createWrapper(r).css({overflow:"hidden"});u=r[0].tagName==="IMG"?a:r;e=u[o]();f&&(u.css(o,0),u.css(l,e/2));s[o]=f?e:0;s[l]=f?0:e/2;u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.drop=function(t,i){var r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e=c==="show",u=t.direction||"left",o=u==="up"||u==="down"?"top":"left",s=u==="up"||u==="left"?"pos":"neg",l={opacity:e?1:0},f;n.effects.save(r,h);r.show();n.effects.createWrapper(r);f=t.distance||r[o==="top"?"outerHeight":"outerWidth"](!0)/2;e&&r.css("opacity",0).css(o,s==="pos"?-f:f);l[o]=(e?s==="pos"?"+=":"-=":s==="pos"?"-=":"+=")+f;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c==="hide"&&r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.explode=function(t,i){function k(){l.push(this);l.length===o*c&&d()}function d(){r.css({visibility:"visible"});n(l).remove();u||r.hide();i()}for(var o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),b=n.effects.setMode(r,t.mode||"hide"),u=b==="show",w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),l=[],e,a,v,y,p,f=0;f<o;f++)for(v=w.top+f*h,p=f-(o-1)/2,e=0;e<c;e++)a=w.left+e*s,y=e-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-e*s,top:-f*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:a+(u?y*s:0),top:v+(u?p*h:0),opacity:u?0:1}).animate({left:a+(u?0:y*s),top:v+(u?0:p*h),opacity:u?1:0},t.duration||500,t.easing,k)}}(jQuery),function(n){n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(n){n.effects.effect.fold=function(t,i){var r=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(r,t.mode||"hide"),e=h==="show",c=h==="hide",f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=e!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,u,o,w={},b={};n.effects.save(r,s);r.show();u=n.effects.createWrapper(r).css({overflow:"hidden"});o=v?[u.width(),u.height()]:[u.height(),u.width()];l&&(f=parseInt(l[1],10)/100*o[c?0:1]);e&&u.css(a?{height:0,width:f}:{height:f,width:0});w[y[0]]=e?o[0]:f;b[y[1]]=e?o[1]:0;u.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()})}}(jQuery),function(n){n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};f==="hide"&&(e.opacity=0);n.effects.save(r,u);r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f==="hide"&&r.hide();n.effects.restore(r,u);i()}})}}(jQuery),function(n){n.effects.effect.pulsate=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"show"),h=e==="show",a=e==="hide",v=h||e==="hide",o=(t.times||5)*2+(v?1:0),c=t.duration/o,u=0,f=r.queue(),l=f.length,s;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),s=1;s<o;s++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing);r.queue(function(){a&&r.hide();i()});l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,o+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o=e==="hide",s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}});r.effect(t)};n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:f==="hide"?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:h!=="horizontal"?s/100:1,x:h!=="vertical"?s/100:1};r.effect="size";r.queue=!1;r.complete=i;f!=="effect"&&(r.origin=c||["middle","center"],r.restore=!0);r.from=t.from||(f==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e);r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x};r.fade&&(f==="show"&&(r.from.opacity=0,r.to.opacity=1),f==="hide"&&(r.from.opacity=1,r.to.opacity=0));u.effect(r)};n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||h!=="effect",c=t.scale||"both",b=t.origin||["middle","center"],k=r.css("position"),s=y?w:["position","top","bottom","left","right","overflow","opacity"],p={height:0,width:0,outerHeight:0,outerWidth:0};h==="show"&&r.show();f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};t.mode==="toggle"&&h==="show"?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||(h==="show"?p:f),r.to=t.to||(h==="hide"?p:f));u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}};(c==="box"||c==="both")&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to)));(c==="content"||c==="both")&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to));n.effects.save(r,s);r.show();n.effects.createWrapper(r);r.css("overflow","hidden").css(r.from);b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x);r.css(r.from);(c==="content"||c==="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a);i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x};i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x};u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to));u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})}));r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){r.to.opacity===0&&r.css("opacity",r.from.opacity);h==="hide"&&r.hide();n.effects.restore(r,s);y||(k==="static"?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return i==="auto"?u+"px":f+u+"px"})}));n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.shake=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",o=t.distance||20,y=t.times||3,p=y*2+1,u=Math.round(t.duration/p),s=f==="up"||f==="down"?"top":"left",h=f==="up"||f==="left",c={},l={},w={},a,e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),c[s]=(h?"-=":"+=")+o,l[s]=(h?"+=":"-=")+o*2,w[s]=(h?"-=":"+=")+o*2,r.animate(c,u,t.easing),a=1;a<y;a++)r.animate(l,u,t.easing).animate(w,u,t.easing);r.animate(l,u,t.easing).animate(c,u/2,t.easing).queue(function(){k==="hide"&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.slide=function(t,i){var r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c=h==="show",f=t.direction||"left",e=f==="up"||f==="down"?"top":"left",o=f==="up"||f==="left",u,l={};n.effects.save(r,s);r.show();u=t.distance||r[e==="top"?"outerHeight":"outerWidth"](!0);n.effects.createWrapper(r).css({overflow:"hidden"});c&&r.css(e,o?isNaN(u)?"-"+u:-u:u);l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h==="hide"&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f=r.css("position")==="fixed",e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();i()})}}(jQuery),function(n){n.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=n(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function s(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,o=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1;f=this.previousFilter||"";r=String.fromCharCode(t.keyCode);e=!1;clearTimeout(this.filterTimer);r===f?e=!0:r=f+r;u=new RegExp("^"+s(r),"i");i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())});i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+s(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}));i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(u);t.attr("aria-labelledby",i.attr("id"))});t=i.add(this.element);t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")});t.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){n==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus");this._scrollIntoView(t);this.active=t.first();r=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.height(),i<0?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)}})}(jQuery),function(n,t){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function u(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var f,r=Math.max,i=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]);return{element:i,isWindow:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}};n.fn.position=function(t){if(!t||!t.of)return v.apply(this,arguments);t=n.extend({},t);var b,f,l,w,p,d,g=n(t.of),tt=n.position.getWithinInfo(t.within),it=n.position.getScrollInfo(tt),k=(t.collision||"flip").split(" "),nt={};return d=y(g),g[0].preventDefault&&(t.at="left top"),f=d.width,l=d.height,w=d.offset,p=n.extend({},w),n.each(["my","at"],function(){var n=(t[this]||"").split(" "),i,r;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";i=h.exec(n[0]);r=h.exec(n[1]);nt[this]=[i?i[0]:0,r?r[0]:0];t[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),k.length===1&&(k[1]=k[0]),t.at[0]==="right"?p.left+=f:t.at[0]==="center"&&(p.left+=f/2),t.at[1]==="bottom"?p.top+=l:t.at[1]==="center"&&(p.top+=l/2),b=a(nt.at,f,l),p.left+=b[0],p.top+=b[1],this.each(function(){var y,d,s=n(this),h=s.outerWidth(),c=s.outerHeight(),rt=u(this,"marginLeft"),ut=u(this,"marginTop"),ft=h+rt+u(this,"marginRight")+it.width,et=c+ut+u(this,"marginBottom")+it.height,o=n.extend({},p),v=a(nt.my,s.outerWidth(),s.outerHeight());t.my[0]==="right"?o.left-=h:t.my[0]==="center"&&(o.left-=h/2);t.my[1]==="bottom"?o.top-=c:t.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];n.support.offsetFractions||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:rt,marginTop:ut};n.each(["left","top"],function(i,r){n.ui.position[k[i]]&&n.ui.position[k[i]][r](o,{targetWidth:f,targetHeight:l,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:tt,elem:s})});t.using&&(d=function(n){var u=w.left-o.left,v=u+f-h,e=w.top-o.top,y=e+l-c,a={target:{element:g,left:w.left,top:w.top,width:f,height:l},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:v<0?"left":u>0?"right":"center",vertical:y<0?"top":e>0?"bottom":"middle"};f<h&&i(u+v)<f&&(a.horizontal="center");l<c&&i(e+y)<l&&(a.vertical="middle");a.important=r(i(u),i(v))>r(i(e),i(y))?"horizontal":"vertical";t.using.call(this,n,a)});s.offset(n.extend(o,{using:d}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?i>0&&f<=0?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&i<=0?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?i>0&&f<=0?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&i<=0?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,t){var r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-o,v=l+t.collisionWidth-c-o,u=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,f=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,e=-2*t.offset[0],s,h;a<0?(s=n.left+u+f+e+t.collisionWidth-c-y,(s<0||s<i(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-t.collisionPosition.marginLeft+u+f+e-o,(h>0||i(h)<v)&&(n.left+=u+f+e))},top:function(n,t){var r=t.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,s=v-o,h=v+t.collisionHeight-a-o,p=t.my[1]==="top",u=p?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,f=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,e=-2*t.offset[1],c,l;s<0?(l=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<i(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-t.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||i(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o);i=e||document.documentElement;i.insertBefore(t,i.firstChild);o.style.cssText="position: absolute; left: 10.7432222px;";u=n(o).offset().left;n.support.offsetFractions=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()}(jQuery),function(n,t){n.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(n){if(n===t)return this.options.value;this.options.value=this._constrainedValue(n);this._refreshValue()},_constrainedValue:function(n){return n===t&&(n=this.options.value),this.indeterminate=n===!1,typeof n!="number"&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){n==="max"&&(t=Math.max(this.min,t));this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}})}(jQuery),function(n){var t=5;n.widget("ui.slider",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;r<i;r++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))):this.range=n([])},_setupEvents:function(){var n=this.handles.add(this.range).filter("a");this._off(n);this._on(n,this._handleEvents);this._hoverable(n);this._focusable(n)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1)?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i,!0))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){if(arguments.length){this.options.value=this._trimAlignValue(n);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,i){var u,f,r;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i);this._refreshValue();this._change(null,t);return}if(arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;t==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));n.isArray(this.options.values)&&(u=this.options.values.length);n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100;o[r.orientation==="horizontal"?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&(r.orientation==="horizontal"?(f===0&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(f===0&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o[this.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),e==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),e==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),e==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),e==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(i){var o,u,r,f,e=n(i.target).data("ui-slider-handle-index");switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(i.target).addClass("ui-state-active"),o=this._start(i,e),o===!1))return}f=this.options.step;u=this.options.values&&this.options.values.length?r=this.values(e):r=this.value();switch(i.keyCode){case n.ui.keyCode.HOME:r=this._valueMin();break;case n.ui.keyCode.END:r=this._valueMax();break;case n.ui.keyCode.PAGE_UP:r=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===this._valueMax())return;r=this._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===this._valueMin())return;r=this._trimAlignValue(u-f)}this._slide(i,e,r)},click:function(n){n.preventDefault()},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(n){function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}n.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);u!==undefined&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();this.previous!==this.element.val()&&this._trigger("change",n)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;(i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur;r.call(this)}),this._start(t)!==!1)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active")){if(this._start(t)===!1)return!1;this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(n.height()*.5)&&n.height()>0&&n.height(n.height());this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return!this.spinning&&this._trigger("start",n)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return this.options.min!==null&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return(r=t.min!==null?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),t.max!==null&&n>t.max)?t.max:t.min!==null&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if(n==="culture"||n==="numberFormat"){var i=this._parse(this.element.val());this.options[n]=t;this.element.val(this._format(i));return}(n==="max"||n==="min"||n==="step")&&typeof t=="string"&&(t=this._parse(t));n==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));this._super(n,t);n==="disabled"&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(n){this._super(n);this._value(this.element.val())}),_parse:function(n){return typeof n=="string"&&n!==""&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),n===""||isNaN(n)?null:n},_format:function(n){return n===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(n,t){var i;n!==""&&(i=this._parse(n),i!==null&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,n)},widget:function(){return this.uiSpinner}})}(jQuery),function(n,t){function f(){return++u}function r(n){return n.hash.length>1&&decodeURIComponent(n.href.replace(i,""))===decodeURIComponent(location.href.replace(i,""))}var u=0,i=/#.*$/;n.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,t=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return t===null&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return t=i,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(t===null||t===-1)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:t.preventDefault();clearTimeout(this.activating);this._activate(i);return;case n.ui.keyCode.ENTER:t.preventDefault();clearTimeout(this.activating);this._activate(i===this.options.active?!1:i);return;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;n.inArray(u(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){if(n==="active"){this._activate(t);return}if(n==="disabled"){this._setupDisabled(t);return}this._super(n,t);n==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0));n==="event"&&this._setupEvents(t);n==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(n){return n.attr("aria-controls")||"ui-tabs-"+f()},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=n();this.anchors.each(function(i,u){var e,f,s,h=n(u).uniqueId().attr("id"),o=n(u).closest("li"),c=o.attr("aria-controls");r(u)?(e=u.hash,f=t.element.find(t._sanitizeSelector(e))):(s=t._tabId(o),e="#"+s,f=t.element.find(e),f.length||(f=t._createPanel(s),f.insertAfter(t.panels[i-1]||t.tablist)),f.attr("aria-live","polite"));f.length&&(t.panels=t.panels.add(f));c&&o.data("ui-tabs-aria-controls",c);o.attr({"aria-controls":e.substring(1),"aria-labelledby":h});f.attr("aria-labelledby",h)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i=0,r;r=this.tabs[i];i++)t===!0||n.inArray(i,t)!==-1?n(r).addClass("ui-state-disabled").attr("aria-disabled","true"):n(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(n){n.preventDefault()}};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();t==="fill"?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");r!=="absolute"&&r!=="fixed"&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):t==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};(t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1)||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1;u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o());f.attr({"aria-expanded":"false","aria-hidden":"true"});i.oldTab.attr("aria-selected","false");r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1);r.attr({"aria-expanded":"true","aria-hidden":"false"});i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(i){var r=this.options.disabled;r!==!1&&(i===t?r=!1:(i=this._getIndex(i),r=n.isArray(r)?n.map(r,function(n){return n!==i?n:null}):n.map(this.tabs,function(n,t){return t!==i?t:null})),this._setupDisabled(r))},disable:function(i){var r=this.options.disabled;if(r!==!0){if(i===t)r=!0;else{if(i=this._getIndex(i),n.inArray(i,r)!==-1)return;r=n.isArray(r)?n.merge([i],r).sort():[i]}this._setupDisabled(r)}},load:function(t,i){t=this._getIndex(t);var f=this,u=this.tabs.eq(t),o=u.find(".ui-tabs-anchor"),e=this._getPanelForTab(u),s={tab:u,panel:e};r(o[0])||(this.xhr=n.ajax(this._ajaxSettings(o,i,s)),this.xhr&&this.xhr.statusText!=="canceled"&&(u.addClass("ui-tabs-loading"),e.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){e.html(n);f._trigger("load",i,s)},1)}).complete(function(n,t){setTimeout(function(){t==="abort"&&f.panels.stop(!1,!0);u.removeClass("ui-tabs-loading");e.removeAttr("aria-busy");n===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(n){function i(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))}function r(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);r!==-1&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var t=0;n.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(t,i){var r=this;if(t==="disabled"){this[i?"_disable":"_enable"]();this.options[t]=i;return}this._super(t,i);t==="content"&&n.each(this.tooltips,function(n,t){r._updateContent(t)})},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0)});this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&t.type==="mouseover"&&i.parents().each(function(){var t=n(this),i;t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;if(typeof r=="string")return this._open(t,n,r);i=r.call(n[0],function(i){n.data("ui-tooltip-open")&&u._delay(function(){t&&(t.type=f);this._open(t,n,i)})});i&&this._open(t,n,i)},_open:function(t,r,u){function s(n){(o.of=n,f.is(":hidden"))||f.position(o)}var f,e,h,o=n.extend({},this.options.position);if(u){if(f=this._find(r),f.length){f.find(".ui-tooltip-content").html(u);return}r.is("[title]")&&(t&&t.type==="mouseover"?r.attr("title",""):r.removeAttr("title"));f=this._tooltip(r);i(r,f.attr("id"));f.find(".ui-tooltip-content").html(u);this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:s}),s(t)):f.position(n.extend({of:r},this.options.position));f.hide();this._show(f,this.options.show);this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(s(o.of),clearInterval(h))},n.fx.interval));this._trigger("open",t,{tooltip:f});e={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var i=n.Event(t);i.currentTarget=r[0];this.close(i,!0)}},remove:function(){this._removeTooltip(f)}};t&&t.type!=="mouseover"||(e.mouseleave="close");t&&t.type!=="focusin"||(e.focusout="close");this._on(!0,r,e)}},close:function(t){var f=this,i=n(t?t.currentTarget:this.element),u=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),r(i),u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:u}),this.closing=!1)},_tooltip:function(i){var u="ui-tooltip-"+t++,r=n("<div>").attr({id:u,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return n("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[u]=i,r},_find:function(t){var i=t.data("ui-tooltip-id");return i?n("#"+i):n()},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0);n("#"+i).remove();r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery),function(){(function(n){var r=this||eval("this"),i=r.document,f=r.navigator,t=r.jQuery,u=r.JSON;(function(n){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?n(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.ko={})})(function(e){function l(n,t){return null===n||typeof n in p?n===t:!1}function a(n,t,i,r){o.d[n]={init:function(n){return o.a.f.set(n,y,{}),{controlsDescendantBindings:!0}},update:function(n,u,f,e,s){f=o.a.f.get(n,y);u=o.a.c(u());e=!i!=!u;var h=!f.ob;(h||t||e!==f.Db)&&(h&&(f.ob=o.a.Ya(o.e.childNodes(n),!0)),e?(h||o.e.S(n,o.a.Ya(f.ob)),o.Ta(r?r(s,u):s,n)):o.e.Z(n),f.Db=e)}};o.g.Y[n]=!1;o.e.P[n]=!0}var o="undefined"!=typeof e?e:{},p,h,s,c,v,y;o.b=function(n,t){for(var i=n.split("."),r=o,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};o.s=function(n,t,i){n[t]=i};o.version="3.0.0";o.b("version",o.version);o.a=function(){function s(n,t){for(var i in n)n.hasOwnProperty(i)&&t(i,n[i])}function h(n,t){if("input"!==o.a.v(n)||!n.type||"click"!=t.toLowerCase())return!1;var i=n.type;return"checkbox"==i||"radio"==i}var c={},l={},a,e;return c[f&&/Firefox\/2/i.test(f.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),s(c,function(n,t){if(t.length)for(var i=0,r=t.length;i<r;i++)l[t[i]]=n}),a={propertychange:!0},e=i&&function(){for(var t=3,r=i.createElement("div"),u=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++t+"]><i><\/i><![endif]-->",u[0];);return 4<t?t:n}(),{$a:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],n:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])},l:function(n,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},Ua:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r]))return n[r];return null},ia:function(n,t){var i=o.a.l(n,t);0<=i&&n.splice(i,1)},Va:function(n){n=n||[];for(var i=[],t=0,r=n.length;t<r;t++)0>o.a.l(i,n[t])&&i.push(n[t]);return i},ha:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i]));return r},ga:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)t(n[i])&&r.push(n[i]);return r},X:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},V:function(n,t,i){var r=o.a.l(o.a.Ha(n),t);0>r?i&&n.push(t):i||n.splice(r,1)},extend:function(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},K:s,Da:function(n,t){if(!n)return n;var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=t(n[i],i,n));return r},wa:function(n){for(;n.firstChild;)o.removeNode(n.firstChild)},Vb:function(n){n=o.a.Q(n);for(var r=i.createElement("div"),t=0,u=n.length;t<u;t++)r.appendChild(o.L(n[t]));return r},Ya:function(n,t){for(var r,i=0,f=n.length,u=[];i<f;i++)r=n[i].cloneNode(!0),u.push(t?o.L(r):r);return u},S:function(n,t){if(o.a.wa(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},nb:function(n,t){var r=n.nodeType?[n]:n;if(0<r.length){for(var f=r[0],e=f.parentNode,i=0,u=t.length;i<u;i++)e.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)o.removeNode(r[i])}},$:function(n,t){if(n.length){for(t=8===t.nodeType&&t.parentNode||t;n.length&&n[0].parentNode!==t;)n.splice(0,1);if(1<n.length){var i=n[0],r=n[n.length-1];for(n.length=0;i!==r;)if(n.push(i),i=i.nextSibling,!i)return;n.push(r)}}return n},qb:function(n,t){7>e?n.setAttribute("selected",t):n.selected=t},la:function(t){return null===t||t===n?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ec:function(n,t){for(var r,u=[],f=(n||"").split(t),i=0,e=f.length;i<e;i++)r=o.a.la(f[i]),""!==r&&u.push(r);return u},ac:function(n,t){return n=n||"",t.length>n.length?!1:n.substring(0,t.length)===t},Gb:function(n,t){if(n===t)return!0;if(11===n.nodeType)return!1;if(t.contains)return t.contains(3===n.nodeType?n.parentNode:n);if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(n)&16);for(;n&&n!=t;)n=n.parentNode;return!!n},va:function(n){return o.a.Gb(n,n.ownerDocument.documentElement)},Ra:function(n){return!!o.a.Ua(n,o.a.va)},v:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},r:function(n,i,r){var s=e&&a[i],u,f,c;if(s||"undefined"==typeof t)if(s||"function"!=typeof n.addEventListener)if("undefined"!=typeof n.attachEvent)u=function(t){r.call(n,t)},f="on"+i,n.attachEvent(f,u),o.a.C.ea(n,function(){n.detachEvent(f,u)});else throw Error("Browser doesn't support addEventListener or attachEvent");else n.addEventListener(i,r,!1);else h(n,i)&&(c=r,r=function(n,t){var i=this.checked;t&&(this.checked=!0!==t.Ab);c.call(this,n);this.checked=i}),t(n).bind(i,r)},da:function(n,u){if(!n||!n.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if("undefined"!=typeof t){var f=[];h(n,u)&&f.push({Ab:n.checked});t(n).trigger(u,f)}else if("function"==typeof i.createEvent)if("function"==typeof n.dispatchEvent)f=i.createEvent(l[u]||"HTMLEvents"),f.initEvent(u,!0,!0,r,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(f);else throw Error("The supplied element doesn't support dispatchEvent");else if("undefined"!=typeof n.fireEvent)h(n,u)&&(n.checked=!0!==n.checked),n.fireEvent("on"+u);else throw Error("Browser doesn't support triggering events");},c:function(n){return o.M(n)?n():n},Ha:function(n){return o.M(n)?n.t():n},ma:function(n,t,i){if(t){var r=/\S+/g,u=n.className.match(r)||[];o.a.n(t.match(r),function(n){o.a.V(u,n,i)});n.className=u.join(" ")}},Ma:function(t,r){var u=o.a.c(r),f;(null===u||u===n)&&(u="");f=o.e.firstChild(t);!f||3!=f.nodeType||o.e.nextSibling(f)?o.e.S(t,[i.createTextNode(u)]):f.data=u;o.a.Jb(t)},pb:function(n,t){if(n.name=t,7>=e)try{n.mergeAttributes(i.createElement("<input name='"+n.name+"'/>"),!1)}catch(r){}},Jb:function(n){9<=e&&(n=1==n.nodeType?n:n.parentNode,n.style&&(n.style.zoom=n.style.zoom))},Hb:function(n){if(e){var t=n.style.width;n.style.width=0;n.style.width=t}},Zb:function(n,t){n=o.a.c(n);t=o.a.c(t);for(var r=[],i=n;i<=t;i++)r.push(i);return r},Q:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},cc:6===e,dc:7===e,ja:e,ab:function(n,t){for(var r=o.a.Q(n.getElementsByTagName("input")).concat(o.a.Q(n.getElementsByTagName("textarea"))),f="string"==typeof t?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;0<=i;i--)f(r[i])&&u.push(r[i]);return u},Wb:function(n){return"string"==typeof n&&(n=o.a.la(n))?u&&u.parse?u.parse(n):new Function("return "+n)():null},Na:function(n,t,i){if(!u||!u.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return u.stringify(o.a.c(n),t,i)},Xb:function(n,t,r){var v,e,h,f,u,c;r=r||{};var l=r.params||{},a=r.includeFields||this.$a,v=n;if("object"==typeof n&&"form"===o.a.v(n))for(v=n.action,e=a.length-1;0<=e;e--)for(h=o.a.ab(n,a[e]),f=h.length-1;0<=f;f--)l[h[f].name]=h[f].value;t=o.a.c(t);u=i.createElement("form");u.style.display="none";u.action=v;u.method="post";for(c in t)n=i.createElement("input"),n.name=c,n.value=o.a.Na(o.a.c(t[c])),u.appendChild(n);s(l,function(n,t){var r=i.createElement("input");r.name=n;r.value=t;u.appendChild(r)});i.body.appendChild(u);r.submitter?r.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}}();o.b("utils",o.a);o.b("utils.arrayForEach",o.a.n);o.b("utils.arrayFirst",o.a.Ua);o.b("utils.arrayFilter",o.a.ga);o.b("utils.arrayGetDistinctValues",o.a.Va);o.b("utils.arrayIndexOf",o.a.l);o.b("utils.arrayMap",o.a.ha);o.b("utils.arrayPushAll",o.a.X);o.b("utils.arrayRemoveItem",o.a.ia);o.b("utils.extend",o.a.extend);o.b("utils.fieldsIncludedWithJsonPost",o.a.$a);o.b("utils.getFormFields",o.a.ab);o.b("utils.peekObservable",o.a.Ha);o.b("utils.postJson",o.a.Xb);o.b("utils.parseJson",o.a.Wb);o.b("utils.registerEventHandler",o.a.r);o.b("utils.stringifyJson",o.a.Na);o.b("utils.range",o.a.Zb);o.b("utils.toggleDomNodeCssClass",o.a.ma);o.b("utils.triggerEvent",o.a.da);o.b("utils.unwrapObservable",o.a.c);o.b("utils.objectForEach",o.a.K);o.b("utils.addOrRemoveItem",o.a.V);o.b("unwrap",o.a.c);Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments);return n=t.shift(),function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});o.a.f=new function(){function r(r,f){var e=r[t];if(!e||"null"===e||!i[e]){if(!f)return n;e=r[t]="ko"+u++;i[e]={}}return i[e]}var u=0,t="__ko__"+(new Date).getTime(),i={};return{get:function(t,i){var u=r(t,!1);return u===n?n:u[i]},set:function(t,i,u){(u!==n||r(t,!1)!==n)&&(r(t,!0)[i]=u)},clear:function(n){var r=n[t];return r?(delete i[r],n[t]=null,!0):!1},D:function(){return u+++t}}};o.b("utils.domData",o.a.f);o.b("utils.domData.clear",o.a.f.clear);o.a.C=new function(){function i(t,i){var r=o.a.f.get(t,u);return r===n&&i&&(r=[],o.a.f.set(t,u,r)),r}function r(n){var u=i(n,!1),e;if(u)for(u=u.slice(0),e=0;e<u.length;e++)u[e](n);if(o.a.f.clear(n),"function"==typeof t&&"function"==typeof t.cleanData&&t.cleanData([n]),f[n.nodeType])for(u=n.firstChild;n=u;)u=n.nextSibling,8===n.nodeType&&r(n)}var u=o.a.f.D(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{ea:function(n,t){if("function"!=typeof t)throw Error("Callback must be a function");i(n,!0).push(t)},mb:function(t,r){var f=i(t,!1);f&&(o.a.ia(f,r),0==f.length&&o.a.f.set(t,u,n))},L:function(n){var t,i,u;if(e[n.nodeType]&&(r(n),f[n.nodeType]))for(t=[],o.a.X(t,n.getElementsByTagName("*")),i=0,u=t.length;i<u;i++)r(t[i]);return n},removeNode:function(n){o.L(n);n.parentNode&&n.parentNode.removeChild(n)}}};o.L=o.a.C.L;o.removeNode=o.a.C.removeNode;o.b("cleanNode",o.L);o.b("removeNode",o.removeNode);o.b("utils.domNodeDisposal",o.a.C);o.b("utils.domNodeDisposal.addDisposeCallback",o.a.C.ea);o.b("utils.domNodeDisposal.removeDisposeCallback",o.a.C.mb),function(){o.a.Fa=function(n){var u,f;if("undefined"!=typeof t){if(t.parseHTML)u=t.parseHTML(n)||[];else if((u=t.clean([n]))&&u[0]){for(n=u[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{for(f=o.a.la(n).toLowerCase(),u=i.createElement("div"),f=f.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","<\/table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","<\/tbody><\/table>"]||(!f.indexOf("<td")||!f.indexOf("<th"))&&[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"]||[0,"",""],n="ignored<div>"+f[1]+n+f[2]+"<\/div>","function"==typeof r.innerShiv?u.appendChild(r.innerShiv(n)):u.innerHTML=n;f[0]--;)u=u.lastChild;u=o.a.Q(u.lastChild.childNodes)}return u};o.a.Ka=function(i,r){if(o.a.wa(i),r=o.a.c(r),null!==r&&r!==n)if("string"!=typeof r&&(r=r.toString()),"undefined"!=typeof t)t(i).html(r);else for(var f=o.a.Fa(r),u=0;u<f.length;u++)i.appendChild(f[u])}}();o.b("utils.parseHtmlFragment",o.a.Fa);o.b("utils.setHtml",o.a.Ka);o.u=function(){function i(n,t){var r;if(n)if(8==n.nodeType)r=o.u.jb(n.nodeValue),null!=r&&t.push({Fb:n,Tb:r});else if(1==n.nodeType)for(var r=0,u=n.childNodes,f=u.length;r<f;r++)i(u[r],t)}var t={};return{Ca:function(n){if("function"!=typeof n)throw Error("You can only pass a function to ko.memoization.memoize()");var i=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[i]=n,"<!--[ko_memo:"+i+"]-->"},ub:function(i,r){var u=t[i];if(u===n)throw Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized.");try{return u.apply(null,r||[]),!0}finally{delete t[i]}},vb:function(n,t){var f=[],u,s,r,e;for(i(n,f),u=0,s=f.length;u<s;u++)r=f[u].Fb,e=[r],t&&o.a.X(e,t),o.u.ub(f[u].Tb,e),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)},jb:function(n){return(n=n.match(/^\[ko_memo\:(.*?)\]$/))?n[1]:null}}}();o.b("memoization",o.u);o.b("memoization.memoize",o.u.Ca);o.b("memoization.unmemoize",o.u.ub);o.b("memoization.parseMemoText",o.u.jb);o.b("memoization.unmemoizeDomNodeAndDescendants",o.u.vb);o.xa={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return o.h({read:n,write:function(r){clearTimeout(i);i=setTimeout(function(){n(r)},t)}})},notify:function(n,t){n.equalityComparer="always"==t?null:l}};p={undefined:1,boolean:1,number:1,string:1};o.b("extenders",o.xa);o.sb=function(n,t,i){this.target=n;this.qa=t;this.Eb=i;o.s(this,"dispose",this.B)};o.sb.prototype.B=function(){this.Qb=!0;this.Eb()};o.ca=function(){this.F={};o.a.extend(this,o.ca.fn);o.s(this,"subscribe",this.T);o.s(this,"extend",this.extend);o.s(this,"getSubscriptionsCount",this.Lb)};h="change";o.ca.fn={T:function(n,t,i){i=i||h;var r=new o.sb(this,t?n.bind(t):n,function(){o.a.ia(this.F[i],r)}.bind(this));return this.F[i]||(this.F[i]=[]),this.F[i].push(r),r},notifySubscribers:function(n,t){if(t=t||h,this.cb(t))try{o.i.Wa();for(var u=this.F[t].slice(0),r=0,i;i=u[r];++r)i&&!0!==i.Qb&&i.qa(n)}finally{o.i.end()}},cb:function(n){return this.F[n]&&this.F[n].length},Lb:function(){var n=0;return o.a.K(this.F,function(t,i){n+=i.length}),n},extend:function(n){var t=this;return n&&o.a.K(n,function(n,i){var r=o.xa[n];"function"==typeof r&&(t=r(t,i)||t)}),t}};o.fb=function(n){return null!=n&&"function"==typeof n.T&&"function"==typeof n.notifySubscribers};o.b("subscribable",o.ca);o.b("isSubscribable",o.fb);o.i=function(){var n=[];return{Wa:function(t){n.push(t&&{qa:t,Za:[]})},end:function(){n.pop()},lb:function(t){if(!o.fb(t))throw Error("Only subscribable things can act as dependencies");if(0<n.length){var i=n[n.length-1];!i||0<=o.a.l(i.Za,t)||(i.Za.push(t),i.qa(t))}},p:function(t,i,r){try{return n.push(null),t.apply(i,r||[])}finally{n.pop()}}}}();o.q=function(n){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.O(),i=arguments[0],t.N()),this):(o.i.lb(t),i)}var i=n;return o.ca.call(t),t.t=function(){return i},t.N=function(){t.notifySubscribers(i)},t.O=function(){t.notifySubscribers(i,"beforeChange")},o.a.extend(t,o.q.fn),o.s(t,"peek",t.t),o.s(t,"valueHasMutated",t.N),o.s(t,"valueWillMutate",t.O),t};o.q.fn={equalityComparer:l};s=o.q.Yb="__ko_proto__";o.q.fn[s]=o.q;o.ya=function(t,i){return null===t||t===n||t[s]===n?!1:t[s]===i?!0:o.ya(t[s],i)};o.M=function(n){return o.ya(n,o.q)};o.gb=function(n){return"function"==typeof n&&n[s]===o.q||"function"==typeof n&&n[s]===o.h&&n.Nb?!0:!1};o.b("observable",o.q);o.b("isObservable",o.M);o.b("isWriteableObservable",o.gb);o.ba=function(n){if(n=n||[],"object"!=typeof n||!("length"in n))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return n=o.q(n),o.a.extend(n,o.ba.fn),n.extend({trackArrayChanges:!0})};o.ba.fn={remove:function(n){for(var u,r=this.t(),i=[],f="function"!=typeof n||o.M(n)?function(t){return t===n}:n,t=0;t<r.length;t++)u=r[t],f(u)&&(0===i.length&&this.O(),i.push(u),r.splice(t,1),t--);return i.length&&this.N(),i},removeAll:function(t){if(t===n){var i=this.t(),r=i.slice(0);return this.O(),i.splice(0,i.length),this.N(),r}return t?this.remove(function(n){return 0<=o.a.l(t,n)}):[]},destroy:function(n){var i=this.t(),r="function"!=typeof n||o.M(n)?function(t){return t===n}:n,t;for(this.O(),t=i.length-1;0<=t;t--)r(i[t])&&(i[t]._destroy=!0);this.N()},destroyAll:function(t){return t===n?this.destroy(function(){return!0}):t?this.destroy(function(n){return 0<=o.a.l(t,n)}):[]},indexOf:function(n){var t=this();return o.a.l(t,n)},replace:function(n,t){var i=this.indexOf(n);0<=i&&(this.O(),this.t()[i]=t,this.N())}};o.a.n("pop push reverse shift sort splice unshift".split(" "),function(n){o.ba.fn[n]=function(){var t=this.t();return this.O(),this.Xa(t,n,arguments),t=t[n].apply(t,arguments),this.N(),t}});o.a.n(["slice"],function(n){o.ba.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});o.b("observableArray",o.ba);c="arrayChange";o.xa.trackArrayChanges=function(n){function u(){var f,u;r||(r=!0,f=n.notifySubscribers,n.notifySubscribers=function(n,t){return t&&t!==h||++i,f.apply(this,arguments)},u=[].concat(n.t()||[]),t=null,n.T(function(r){if(r=[].concat(r||[]),n.cb(c)){var f;(!t||1<i)&&(t=o.a.ra(u,r,{sparse:!0}));f=t;f.length&&n.notifySubscribers(f,c)}u=r;t=null;i=0}))}if(!n.Xa){var r=!1,t=null,i=0,f=n.T;n.T=n.subscribe=function(n,t,i){return i===c&&u(),f.apply(this,arguments)};n.Xa=function(n,u,f){function h(n,t,i){c.push({status:n,value:t,index:i})}if(r&&!i){var c=[],e=n.length,s=f.length,o=0;switch(u){case"push":o=e;case"unshift":for(u=0;u<s;u++)h("added",f[u],o+u);break;case"pop":o=e-1;case"shift":e&&h("deleted",n[o],o);break;case"splice":u=Math.min(Math.max(0,0>f[0]?e+f[0]:f[0]),e);for(var e=1===s?e:Math.min(u+(f[1]||0),e),s=u+s-2,o=Math.max(e,s),l=2;u<o;++u,++l)u<e&&h("deleted",n[u],u),u<s&&h("added",f[l],u);break;default:return}t=c}}}};o.h=function(t,i,r){function b(){o.a.n(e,function(n){n.B()});e=[]}function nt(){var n=u.throttleEvaluation;n&&0<=n?(clearTimeout(g),g=setTimeout(l,n)):l()}function l(){var t,h,r;if(!v){if(w&&w()){if(!y){c();a=!0;return}}else y=!1;v=!0;try{for(t=o.a.ha(e,function(n){return n.target}),o.i.Wa(function(i){var r;0<=(r=o.a.l(t,i))?t[r]=n:e.push(i.T(nt))}),h=i?f.call(i):f(),r=t.length-1;0<=r;r--)t[r]&&e.splice(r,1)[0].B();a=!0;u.equalityComparer&&u.equalityComparer(s,h)||(u.notifySubscribers(s,"beforeChange"),s=h,u.notifySubscribers(s))}finally{o.i.end();v=!1}e.length||c()}}function u(){if(0<arguments.length){if("function"==typeof d)d.apply(i,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return a||l(),o.i.lb(u),s}function k(){return!a||0<e.length}var s,a=!1,v=!1,y=!1,f=t;if(f&&"object"==typeof f?(r=f,f=r.read):(r=r||{},f||(f=r.read)),"function"!=typeof f)throw Error("Pass a function that returns the value of the ko.computed");var d=r.write,h=r.disposeWhenNodeIsRemoved||r.I||null,p=r.disposeWhen||r.ua,w=p,c=b,e=[],g=null;return i||(i=r.owner),u.t=function(){return a||l(),s},u.Kb=function(){return e.length},u.Nb="function"==typeof r.write,u.B=function(){c()},u.aa=k,o.ca.call(u),o.a.extend(u,o.h.fn),o.s(u,"peek",u.t),o.s(u,"dispose",u.B),o.s(u,"isActive",u.aa),o.s(u,"getDependenciesCount",u.Kb),h&&(y=!0,h.nodeType&&(w=function(){return!o.a.va(h)||p&&p()})),!0!==r.deferEvaluation&&l(),h&&k()&&(c=function(){o.a.C.mb(h,c);b()},o.a.C.ea(h,c)),u};o.Pb=function(n){return o.ya(n,o.h)};e=o.q.Yb;o.h[e]=o.q;o.h.fn={equalityComparer:l};o.h.fn[e]=o.h;o.b("dependentObservable",o.h);o.b("computed",o.h);o.b("isComputed",o.Pb),function(){function t(u,f,e){if(e=e||new i,u=f(u),"object"!=typeof u||null===u||u===n||u instanceof Date||u instanceof String||u instanceof Number||u instanceof Boolean)return u;var o=u instanceof Array?[]:{};return e.save(u,o),r(u,function(i){var r=f(u[i]),s;switch(typeof r){case"boolean":case"number":case"string":case"function":o[i]=r;break;case"object":case"undefined":s=e.get(r);o[i]=s!==n?s:t(r,f,e)}}),o}function r(n,t){if(n instanceof Array){for(var i=0;i<n.length;i++)t(i);"function"==typeof n.toJSON&&t("toJSON")}else for(i in n)t(i)}function i(){this.keys=[];this.Qa=[]}o.tb=function(n){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(n,function(n){for(var t=0;o.M(n)&&10>t;t++)n=n();return n})};o.toJSON=function(n,t,i){return n=o.tb(n),o.a.Na(n,t,i)};i.prototype={save:function(n,t){var i=o.a.l(this.keys,n);0<=i?this.Qa[i]=t:(this.keys.push(n),this.Qa.push(t))},get:function(t){return t=o.a.l(this.keys,t),0<=t?this.Qa[t]:n}}}();o.b("toJS",o.tb);o.b("toJSON",o.toJSON),function(){o.k={o:function(t){switch(o.a.v(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?o.a.f.get(t,o.d.options.Ea):7>=o.a.ja?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?o.k.o(t.options[t.selectedIndex]):n;default:return t.value}},na:function(t,i){switch(o.a.v(t)){case"option":switch(typeof i){case"string":o.a.f.set(t,o.d.options.Ea,n);"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__;t.value=i;break;default:o.a.f.set(t,o.d.options.Ea,i);t.__ko__hasDomDataOptionValue__=!0;t.value="number"==typeof i?i:""}break;case"select":""===i&&(i=n);(null===i||i===n)&&(t.selectedIndex=-1);for(var r=t.options.length-1;0<=r;r--)if(o.k.o(t.options[r])==i){t.selectedIndex=r;break}1<t.size||-1!==t.selectedIndex||(t.selectedIndex=0);break;default:(null===i||i===n)&&(i="");t.value=i}}}}();o.b("selectExtensions",o.k);o.b("selectExtensions.readValue",o.k.o);o.b("selectExtensions.writeValue",o.k.na);o.g=function(){function n(n){var c,r,i;n=o.a.la(n);123===n.charCodeAt(0)&&(n=n.slice(1,-1));var a=[],s=n.match(t),h,u,l=0;if(s)for(s.push(","),c=0;r=s[c];++c){if(i=r.charCodeAt(0),44===i){if(0>=l){h&&a.push(u?{key:h,value:u.join("")}:{unknown:h});h=u=l=0;continue}}else if(58===i){if(!u)continue}else if(47===i&&c&&1<r.length)(i=s[c-1].match(f))&&!e[i[0]]&&(n=n.substr(n.indexOf(r)+1),s=n.match(t),s.push(","),c=-1,r="/");else if(40===i||123===i||91===i)++l;else if(41===i||125===i||93===i)--l;else if(!h&&!u){h=34===i||39===i?r.slice(1,-1):r;continue}u?u.push(r):u=[r]}return a}var r=["true","false","null","undefined"],u=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,t=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,e={"in":1,"return":1,"typeof":1},i={};return{Y:[],U:i,Ga:n,ka:function(t,f){function e(n,t){var l,f=o.getBindingHandler(n);(f&&f.preprocess?t=f.preprocess(t,n,e):1)&&((f=i[n])&&(l=t,0<=o.a.l(r,l)?l=!1:(f=l.match(u),l=null===f?!1:f[1]?"Object("+f[1]+")"+f[2]:l),f=l),f&&s.push("'"+n+"':function(_z){"+l+"=_z}"),c&&(t="function(){return "+t+" }"),h.push("'"+n+"':"+t))}f=f||{};var h=[],s=[],c=f.valueAccessors,l="string"==typeof t?n(t):t;return o.a.n(l,function(n){e(n.key||n.unknown,n.value)}),s.length&&e("_ko_property_writers","{"+s.join(",")+"}"),h.join(",")},Sb:function(n,t){for(var i=0;i<n.length;i++)if(n[i].key==t)return!0;return!1},oa:function(n,t,i,r,u){n&&o.M(n)?!o.gb(n)||u&&n.t()===r||n(r):(n=t.get("_ko_property_writers"))&&n[i]&&n[i](r)}}}();o.b("expressionRewriting",o.g);o.b("expressionRewriting.bindingRewriteValidators",o.g.Y);o.b("expressionRewriting.parseObjectLiteral",o.g.Ga);o.b("expressionRewriting.preProcessBindings",o.g.ka);o.b("expressionRewriting._twoWayBindings",o.g.U);o.b("jsonExpressionRewriting",o.g);o.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",o.g.ka),function(){function n(n){return 8==n.nodeType&&e.test(t?n.text:n.nodeValue)}function r(n){return 8==n.nodeType&&s.test(t?n.text:n.nodeValue)}function u(t,i){for(var u=t,f=1,e=[];u=u.nextSibling;){if(r(u)&&(f--,0===f))return e;e.push(u);n(u)&&f++}if(!i)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function f(n,t){var i=u(n,t);return i?0<i.length?i[i.length-1].nextSibling:n.nextSibling:null}var t=i&&"<!--test-->"===i.createComment("test").text,e=t?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=t?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};o.e={P:{},childNodes:function(t){return n(t)?u(t):t.childNodes},Z:function(t){if(n(t)){t=o.e.childNodes(t);for(var i=0,r=t.length;i<r;i++)o.removeNode(t[i])}else o.a.wa(t)},S:function(t,i){if(n(t)){o.e.Z(t);for(var u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u)}else o.a.S(t,i)},kb:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},eb:function(t,i,r){r?n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i):o.e.kb(t,i)},firstChild:function(t){return n(t)?!t.nextSibling||r(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return n(t)&&(t=f(t)),t.nextSibling&&r(t.nextSibling)?null:t.nextSibling},Mb:n,bc:function(n){return(n=(t?n.text:n.nodeValue).match(e))?n[1]:null},ib:function(t){var s,i,u,e;if(h[o.a.v(t)]&&(s=t.firstChild,s))do if(1===s.nodeType){if(i=s.firstChild,u=null,i)do u?u.push(i):n(i)?(e=f(i,!0),e?i=e:u=[i]):r(i)&&(u=[i]);while(i=i.nextSibling);if(i=u)for(u=s.nextSibling,e=0;e<i.length;e++)u?t.insertBefore(i[e],u):t.appendChild(i[e])}while(s=s.nextSibling)}}}();o.b("virtualElements",o.e);o.b("virtualElements.allowedBindings",o.e.P);o.b("virtualElements.emptyNode",o.e.Z);o.b("virtualElements.insertAfter",o.e.eb);o.b("virtualElements.prepend",o.e.kb);o.b("virtualElements.setDomNodeChildren",o.e.S),function(){o.H=function(){this.zb={}};o.a.extend(o.H.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return null!=n.getAttribute("data-bind");case 8:return o.e.Mb(n);default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t,n):null},getBindingAccessors:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t,n,{valueAccessors:!0}):null},getBindingsString:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind");case 8:return o.e.bc(n);default:return null}},parseBindingsString:function(n,t,i,r){var u,f,e,h,c;try{return u=this.zb,f=n+(r&&r.valueAccessors||""),(e=u[f])||(c="with($context){with($data||{}){return{"+o.g.ka(n,r)+"}}}",h=new Function("$context","$element",c),e=u[f]=h),e(t,i)}catch(s){throw s.message="Unable to parse bindings.\nBindings value: "+n+"\nMessage: "+s.message,s;}}});o.H.instance=new o.H}();o.b("bindingProvider",o.H),function(){function a(n){return function(){return n}}function i(n){return n()}function e(n){return o.a.Da(o.i.p(n),function(t,i){return function(){return n()[i]}})}function v(n,t){return e(this.getBindings.bind(this,n,t))}function s(n,t,i){var r,u=o.e.firstChild(t),f=o.H.instance,e=f.preprocessNode;if(e){for(;r=u;)u=o.e.nextSibling(r),e.call(f,r);u=o.e.firstChild(t)}for(;r=u;)u=o.e.nextSibling(r),h(n,r,i)}function h(n,t,i){var u=!0,r=1===t.nodeType;r&&o.e.ib(t);(r&&i||o.H.instance.nodeHasBindings(t))&&(u=c(t,null,n,i).shouldBindDescendants);u&&!l[o.a.v(t)]&&s(n,t,!r)}function y(n){var i=[],r={},t=[];return o.a.K(n,function u(f){if(!r[f]){var e=o.getBindingHandler(f);e&&(e.after&&(t.push(f),o.a.n(e.after,function(i){if(n[i]){if(-1!==o.a.l(t,i))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+t.join(", "));u(i)}}),t.pop()),i.push({key:f,bb:e}));r[f]=!0}}),i}function c(t,r,f,e){var b=o.a.f.get(t,u),s,l,w,h,a,p,c;if(!r){if(b)throw Error("You cannot apply bindings multiple times to the same element.");o.a.f.set(t,u,!0)}return!b&&e&&o.rb(t,f),r&&"function"!=typeof r?s=r:(l=o.H.instance,w=l.getBindingAccessors||v,r||f.A?(h=o.h(function(){return(s=r?r(f,t):w.call(l,t,f))&&f.A&&f.A(),s},null,{I:t}),s&&h.aa()||(h=null)):s=o.i.p(w,l,[t,f])),s&&(p=h?function(n){return function(){return i(h()[n])}}:function(n){return s[n]},c=function(){return o.a.Da(h?h():s,i)},c.get=function(n){return s[n]&&i(p(n))},c.has=function(n){return n in s},e=y(s),o.a.n(e,function(i){var e=i.bb.init,h=i.bb.update,r=i.key;if(8===t.nodeType&&!o.e.P[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof e&&o.i.p(function(){var i=e(t,p(r),c,f.$data,f);if(i&&i.controlsDescendantBindings){if(a!==n)throw Error("Multiple bindings ("+a+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");a=r}});"function"==typeof h&&o.h(function(){h(t,p(r),c,f.$data,f)},null,{I:t})}catch(u){throw u.message='Unable to process binding "'+r+": "+s[r]+'"\nMessage: '+u.message,u;}})),{shouldBindDescendants:a===n}}function t(n){return n&&n instanceof o.G?n:new o.G(n)}var l,u,f;o.d={};l={script:!0};o.getBindingHandler=function(n){return o.d[n]};o.G=function(t,i,r,u){var f=this,h="function"==typeof t,s,e=o.h(function(){var n=h?t():t;return i?(i.A&&i.A(),o.a.extend(f,i),e&&(f.A=e)):(f.$parents=[],f.$root=n,f.ko=o),f.$rawData=t,f.$data=n,r&&(f[r]=n),u&&u(f,i,n),f.$data},null,{ua:function(){return s&&!o.a.Ra(s)},I:!0});e.aa()&&(f.A=e,e.equalityComparer=null,s=[],e.wb=function(t){s.push(t);o.a.C.ea(t,function(t){o.a.ia(s,t);s.length||(e.B(),f.A=e=n)})})};o.G.prototype.createChildContext=function(n,t,i){return new o.G(n,this,t,function(n,t){n.$parentContext=t;n.$parent=t.$data;n.$parents=(t.$parents||[]).slice(0);n.$parents.unshift(n.$parent);i&&i(n)})};o.G.prototype.extend=function(n){return new o.G(this.$rawData,this,null,function(t){o.a.extend(t,"function"==typeof n?n():n)})};u=o.a.f.D();f=o.a.f.D();o.rb=function(n,t){if(2==arguments.length)o.a.f.set(n,f,t),t.A&&t.A.wb(n);else return o.a.f.get(n,f)};o.pa=function(n,i,r){return 1===n.nodeType&&o.e.ib(n),c(n,i,t(r),!0)};o.xb=function(n,i,r){return r=t(r),o.pa(n,"function"==typeof i?e(i.bind(null,r,n)):o.a.Da(i,a),r)};o.Ta=function(n,i){1!==i.nodeType&&8!==i.nodeType||s(t(n),i,!0)};o.Sa=function(n,i){if(i&&1!==i.nodeType&&8!==i.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||r.document.body;h(t(n),i,!0)};o.ta=function(t){switch(t.nodeType){case 1:case 8:var i=o.rb(t);if(i)return i;if(t.parentNode)return o.ta(t.parentNode)}return n};o.Cb=function(t){return(t=o.ta(t))?t.$data:n};o.b("bindingHandlers",o.d);o.b("applyBindings",o.Sa);o.b("applyBindingsToDescendants",o.Ta);o.b("applyBindingAccessorsToNode",o.pa);o.b("applyBindingsToNode",o.xb);o.b("contextFor",o.ta);o.b("dataFor",o.Cb)}();v={"class":"className","for":"htmlFor"};o.d.attr={update:function(t,i){var r=o.a.c(i())||{};o.a.K(r,function(i,r){r=o.a.c(r);var u=!1===r||null===r||r===n;u&&t.removeAttribute(i);8>=o.a.ja&&i in v?(i=v[i],u?t.removeAttribute(i):t[i]=r):u||t.setAttribute(i,r.toString());"name"===i&&o.a.pb(t,u?"":r.toString())})}},function(){o.d.checked={after:["value","attr"],init:function(t,i,r){function u(){return r.has("checkedValue")?o.a.c(r.get("checkedValue")):t.value}function c(){var c=t.checked,n=v?u():c,s;l&&(!f||c)&&(s=o.i.p(i),e?h!==n?(c&&(o.a.V(s,n,!0),o.a.V(s,h,!1)),h=n):o.a.V(s,n,c):o.g.oa(s,r,"checked",n,!0))}function a(){var n=o.a.c(i());t.checked=e?0<=o.a.l(n,u()):s?n:u()===n}var s="checkbox"==t.type,f="radio"==t.type;if(s||f){var e=s&&o.a.c(i())instanceof Array,h=e?u():n,v=f||e,l=!1;f&&!t.name&&o.d.uniqueName.init(t,function(){return!0});o.h(c,null,{I:t});o.a.r(t,"click",c);o.h(a,null,{I:t});l=!0}}};o.g.U.checked=!0;o.d.checkedValue={update:function(n,t){n.value=o.a.c(t())}}}();o.d.css={update:function(n,t){var i=o.a.c(t());"object"==typeof i?o.a.K(i,function(t,i){i=o.a.c(i);o.a.ma(n,t,i)}):(i=String(i||""),o.a.ma(n,n.__ko__cssValue,!1),n.__ko__cssValue=i,o.a.ma(n,i,!0))}};o.d.enable={update:function(n,t){var i=o.a.c(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};o.d.disable={update:function(n,t){o.d.enable.update(n,function(){return!o.a.c(t())})}};o.d.event={init:function(n,t,i,r,u){var f=t()||{};o.a.K(f,function(f){"string"==typeof f&&o.a.r(n,f,function(n){var s,h=t()[f],e;if(h){try{e=o.a.Q(arguments);r=u.$data;e.unshift(r);s=h.apply(r,e)}finally{!0!==s&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}!1===i.get(f+"Bubble")&&(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})}};o.d.foreach={hb:function(n){return function(){var i=n(),t=o.a.Ha(i);return!t||"number"==typeof t.length?{foreach:i,templateEngine:o.J.Aa}:(o.a.c(i),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:o.J.Aa})}},init:function(n,t){return o.d.template.init(n,o.d.foreach.hb(t))},update:function(n,t,i,r,u){return o.d.template.update(n,o.d.foreach.hb(t),i,r,u)}};o.g.Y.foreach=!1;o.e.P.foreach=!0;o.d.hasfocus={init:function(n,t,i){function r(r){var u,f;if(n.__ko_hasfocusUpdating=!0,u=n.ownerDocument,"activeElement"in u){try{f=u.activeElement}catch(e){f=u.body}r=f===n}u=t();o.g.oa(u,i,"hasfocus",r,!0);n.__ko_hasfocusLastValue=r;n.__ko_hasfocusUpdating=!1}var u=r.bind(null,!0),f=r.bind(null,!1);o.a.r(n,"focus",u);o.a.r(n,"focusin",u);o.a.r(n,"blur",f);o.a.r(n,"focusout",f)},update:function(n,t){var i=!!o.a.c(t());n.__ko_hasfocusUpdating||n.__ko_hasfocusLastValue===i||(i?n.focus():n.blur(),o.i.p(o.a.da,null,[n,i?"focusin":"focusout"]))}};o.g.U.hasfocus=!0;o.d.hasFocus=o.d.hasfocus;o.g.U.hasFocus=!0;o.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){o.a.Ka(n,t())}};y=o.a.f.D();a("if");a("ifnot",!1,!0);a("with",!0,!1,function(n,t){return n.createChildContext(t)});o.d.options={init:function(n){if("select"!==o.a.v(n))throw Error("options binding applies only to SELECT elements");for(;0<n.length;)n.remove(0);return{controlsDescendantBindings:!0}},update:function(t,r,u){function l(){return o.a.ga(t.options,function(n){return n.selected})}function a(n,t,i){var r=typeof t;return"function"==r?t(n):"string"==r?n[t]:i}function v(n,i){if(f.length){var r=0<=o.a.l(f,o.k.o(i[0]));o.a.qb(i[0],r);c&&!r&&o.i.p(o.a.da,null,[t,"change"])}}var s=0!=t.length&&t.multiple?t.scrollTop:null,y,e,f,h,c;r=o.a.c(r());y=u.get("optionsIncludeDestroyed");e={};f=t.multiple?o.a.ha(l(),o.k.o):0<=t.selectedIndex?[o.k.o(t.options[t.selectedIndex])]:[];r?("undefined"==typeof r.length&&(r=[r]),h=o.a.ga(r,function(t){return y||t===n||null===t||!o.a.c(t._destroy)}),u.has("optionsCaption")&&(r=o.a.c(u.get("optionsCaption")),null!==r&&r!==n&&h.unshift(e))):r=[];c=!1;r=v;u.has("optionsAfterRender")&&(r=function(t,i){v(0,i);o.i.p(u.get("optionsAfterRender"),null,[i[0],t!==e?t:n])});o.a.Ja(t,h,function(t,r,s){return s.length&&(f=s[0].selected?[o.k.o(s[0])]:[],c=!0),r=i.createElement("option"),t===e?(o.a.Ma(r,u.get("optionsCaption")),o.k.na(r,n)):(s=a(t,u.get("optionsValue"),t),o.k.na(r,o.a.c(s)),t=a(t,u.get("optionsText"),s),o.a.Ma(r,t)),[r]},null,r);(t.multiple?f.length&&l().length<f.length:f.length&&0<=t.selectedIndex?o.k.o(t.options[t.selectedIndex])!==f[0]:f.length||0<=t.selectedIndex)&&o.i.p(o.a.da,null,[t,"change"]);o.a.Hb(t);s&&20<Math.abs(s-t.scrollTop)&&(t.scrollTop=s)}};o.d.options.Ea=o.a.f.D();o.d.selectedOptions={after:["options","foreach"],init:function(n,t,i){o.a.r(n,"change",function(){var u=t(),r=[];o.a.n(n.getElementsByTagName("option"),function(n){n.selected&&r.push(o.k.o(n))});o.g.oa(u,i,"selectedOptions",r)})},update:function(n,t){if("select"!=o.a.v(n))throw Error("values binding applies only to SELECT elements");var i=o.a.c(t());i&&"number"==typeof i.length&&o.a.n(n.getElementsByTagName("option"),function(n){var t=0<=o.a.l(i,o.k.o(n));o.a.qb(n,t)})}};o.g.U.selectedOptions=!0;o.d.style={update:function(n,t){var i=o.a.c(t()||{});o.a.K(i,function(t,i){i=o.a.c(i);n.style[t]=i||""})}};o.d.submit={init:function(n,t,i,r,u){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");o.a.r(n,"submit",function(i){var r,f=t();try{r=f.call(u.$data,n)}finally{!0!==r&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};o.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){o.a.Ma(n,t())}};o.e.P.text=!0;o.d.uniqueName={init:function(n,t){if(t()){var i="ko_unique_"+ ++o.d.uniqueName.Bb;o.a.pb(n,i)}}};o.d.uniqueName.Bb=0;o.d.value={after:["options","foreach"],init:function(n,t,i){function f(){e=!1;var r=t(),u=o.k.o(n);o.g.oa(r,i,"value",u)}var r=["change"],u=i.get("valueUpdate"),e=!1;u&&("string"==typeof u&&(u=[u]),o.a.X(r,u),r=o.a.Va(r));!o.a.ja||"input"!=n.tagName.toLowerCase()||"text"!=n.type||"off"==n.autocomplete||n.form&&"off"==n.form.autocomplete||-1!=o.a.l(r,"propertychange")||(o.a.r(n,"propertychange",function(){e=!0}),o.a.r(n,"blur",function(){e&&f()}));o.a.n(r,function(t){var i=f;o.a.ac(t,"after")&&(i=function(){setTimeout(f,0)},t=t.substring(5));o.a.r(n,t,i)})},update:function(n,t){var u="select"===o.a.v(n),r=o.a.c(t()),i=o.k.o(n);r!==i&&(i=function(){o.k.na(n,r)},i(),u&&(r!==o.k.o(n)?o.i.p(o.a.da,null,[n,"change"]):setTimeout(i,0)))}};o.g.U.value=!0;o.d.visible={update:function(n,t){var i=o.a.c(t()),r="none"!=n.style.display;i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}},function(n){o.d[n]={init:function(t,i,r,u,f){return o.d.event.init.call(this,t,function(){var t={};return t[n]=i(),t},r,u,f)}}}("click");o.w=function(){};o.w.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};o.w.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};o.w.prototype.makeTemplateSource=function(n,t){if("string"==typeof n){t=t||i;var r=t.getElementById(n);if(!r)throw Error("Cannot find template with ID "+n);return new o.m.j(r)}if(1==n.nodeType||8==n.nodeType)return new o.m.W(n);throw Error("Unknown template type: "+n);};o.w.prototype.renderTemplate=function(n,t,i,r){return n=this.makeTemplateSource(n,r),this.renderTemplateSource(n,t,i)};o.w.prototype.isTemplateRewritten=function(n,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(n,t).data("isRewritten")};o.w.prototype.rewriteTemplate=function(n,t,i){n=this.makeTemplateSource(n,i);t=t(n.text());n.text(t);n.data("isRewritten",!0)};o.b("templateEngine",o.w);o.Oa=function(){function n(n,t,i,r){var s,f,u,e;for(n=o.g.Ga(n),s=o.g.Y,f=0;f<n.length;f++)if(u=n[f].key,s.hasOwnProperty(u))if(e=s[u],"function"==typeof e){if(u=e(n[f].value))throw Error(u);}else if(!e)throw Error("This template engine does not support the '"+u+"' binding within its templates");return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+o.g.ka(n,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ib:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return o.Oa.Ub(n,t)},i)},Ub:function(r,u){return r.replace(t,function(t,i,r,f,e){return n(e,i,r,u)}).replace(i,function(t,i){return n(i,"<!-- ko -->","#comment",u)})},yb:function(n,t){return o.u.Ca(function(i,r){var u=i.nextSibling;u&&u.nodeName.toLowerCase()===t&&o.pa(u,n,r)})}}}();o.b("__tr_ambtns",o.Oa.yb),function(){var i,t;o.m={};o.m.j=function(n){this.j=n};o.m.j.prototype.text=function(){var n=o.a.v(this.j),n="script"===n?"text":"textarea"===n?"value":"innerHTML",t;if(0==arguments.length)return this.j[n];t=arguments[0];"innerHTML"===n?o.a.Ka(this.j,t):this.j[n]=t};i=o.a.f.D()+"_";o.m.j.prototype.data=function(n){if(1===arguments.length)return o.a.f.get(this.j,i+n);o.a.f.set(this.j,i+n,arguments[1])};t=o.a.f.D();o.m.W=function(n){this.j=n};o.m.W.prototype=new o.m.j;o.m.W.prototype.text=function(){if(0==arguments.length){var i=o.a.f.get(this.j,t)||{};return i.Pa===n&&i.sa&&(i.Pa=i.sa.innerHTML),i.Pa}o.a.f.set(this.j,t,{Pa:arguments[0]})};o.m.j.prototype.nodes=function(){if(0==arguments.length)return(o.a.f.get(this.j,t)||{}).sa;o.a.f.set(this.j,t,{sa:arguments[0]})};o.b("templateSources",o.m);o.b("templateSources.domElement",o.m.j);o.b("templateSources.anonymousTemplate",o.m.W)}(),function(){function t(n,t,i){var r;for(t=o.e.nextSibling(t);n&&(r=n)!==t;)n=o.e.nextSibling(r),i(r,n)}function f(n,i){if(n.length){var r=n[0],u=n[n.length-1],f=r.parentNode,e=o.H.instance,s=e.preprocessNode;if(s){if(t(r,u,function(n,t){var f=n.previousSibling,i=s.call(e,n);i&&(n===r&&(r=i[0]||t),n===u&&(u=i[i.length-1]||f))}),n.length=0,!r)return;r===u?n.push(r):(n.push(r,u),o.a.$(n,f))}t(r,u,function(n){1!==n.nodeType&&8!==n.nodeType||o.Sa(i,n)});t(r,u,function(n){1!==n.nodeType&&8!==n.nodeType||o.u.vb(n,[i])});o.a.$(n,f)}}function i(n){return n.nodeType?n:0<n.length?n[0]:null}function e(n,t,u,e,s){s=s||{};var h=n&&i(n),h=h&&h.ownerDocument,c=s.templateEngine||r;if(o.Oa.Ib(u,c,h),u=c.renderTemplate(u,e,s,h),"number"!=typeof u.length||0<u.length&&"number"!=typeof u[0].nodeType)throw Error("Template engine must return an array of DOM nodes");h=!1;switch(t){case"replaceChildren":o.e.S(n,u);h=!0;break;case"replaceNode":o.a.nb(n,u);h=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t);}return h&&(f(u,e),s.afterRender&&o.i.p(s.afterRender,null,[u,e.$data])),u}var r,u;o.La=function(t){if(t!=n&&!(t instanceof o.w))throw Error("templateEngine must inherit from ko.templateEngine");r=t};o.Ia=function(t,u,f,s,h){if(f=f||{},(f.templateEngine||r)==n)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",s){var c=i(s);return o.h(function(){var n=u&&u instanceof o.G?u:new o.G(o.a.c(u)),r="function"==typeof t?t(n.$data,n):t,n=e(s,h,r,n,f);"replaceNode"==h&&(s=n,c=i(s))},null,{ua:function(){return!c||!o.a.va(c)},I:c&&"replaceNode"==h?c.parentNode:c})}return o.u.Ca(function(n){o.Ia(t,u,f,n,"replaceNode")})};o.$b=function(t,i,r,u,s){function c(n,t){f(t,h);r.afterRender&&r.afterRender(t,n)}function l(n,i){h=s.createChildContext(n,r.as,function(n){n.$index=i});var u="function"==typeof t?t(n,h):t;return e(null,"ignoreTargetNode",u,h,r)}var h;return o.h(function(){var t=o.a.c(i)||[];"undefined"==typeof t.length&&(t=[t]);t=o.a.ga(t,function(t){return r.includeDestroyed||t===n||null===t||!o.a.c(t._destroy)});o.i.p(o.a.Ja,null,[u,t,l,r,c])},null,{I:u})};u=o.a.f.D();o.d.template={init:function(n,t){var i=o.a.c(t());return"string"==typeof i||i.name?o.e.Z(n):(i=o.e.childNodes(n),i=o.a.Vb(i),new o.m.W(n).nodes(i)),{controlsDescendantBindings:!0}},update:function(t,i,r,f,e){i=o.a.c(i());r={};f=!0;var s,h=null;"string"!=typeof i&&(r=i,i=o.a.c(r.name),"if"in r&&(f=o.a.c(r["if"])),f&&"ifnot"in r&&(f=!o.a.c(r.ifnot)),s=o.a.c(r.data));"foreach"in r?h=o.$b(i||t,f&&r.foreach||[],r,t,e):f?(e="data"in r?e.createChildContext(s,r.as):e,h=o.Ia(i||t,e,r,t)):o.e.Z(t);e=h;(s=o.a.f.get(t,u))&&"function"==typeof s.B&&s.B();o.a.f.set(t,u,e&&e.aa()?e:n)}};o.g.Y.template=function(n){return n=o.g.Ga(n),1==n.length&&n[0].unknown||o.g.Sb(n,"name")?null:"This template engine does not support anonymous templates nested within its templates"};o.e.P.template=!0}();o.b("setTemplateEngine",o.La);o.b("renderTemplate",o.Ia);o.a.ra=function(){function n(n,t,i,r,u){for(var o=Math.min,l=Math.max,s=[],a=n.length,f,h=t.length,c=h-a||1,w=a+h+1,v,p,b,y,e=0;e<=a;e++)for(p=v,s.push(v=[]),b=o(h,e+c),f=l(0,e-1);f<=b;f++)v[f]=f?e?n[e-1]===t[f-1]?p[f-1]:o(p[f]||w,v[f-1]||w)+1:f+1:e+1;for(o=[],l=[],c=[],e=a,f=h;e||f;)h=s[e][f]-1,f&&h===s[e][f-1]?l.push(o[o.length]={status:i,value:t[--f],index:f}):e&&h===s[e-1][f]?c.push(o[o.length]={status:r,value:n[--e],index:e}):(--f,--e,u.sparse||o.push({status:"retained",value:t[f]}));if(l.length&&c.length)for(n=10*a,t=i=0;(u.dontLimitMoves||t<n)&&(y=l[i]);i++){for(r=0;s=c[r];r++)if(y.value===s.value){y.moved=s.index;s.moved=y.index;c.splice(r,1);t=r=0;break}t+=r}return o.reverse()}return function(t,i,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},t=t||[],i=i||[],t.length<=i.length?n(t,i,"added","deleted",r):n(i,t,"deleted","added",r)}}();o.b("utils.compareArrays",o.a.ra),function(){function i(t,i,r,u,f){var e=[],s=o.h(function(){var n=i(r,f,o.a.$(e,t))||[];0<e.length&&(o.a.nb(e,n),u&&o.i.p(u,null,[r,n,f]));e.splice(0,e.length);o.a.X(e,n)},null,{I:t,ua:function(){return!o.a.Ra(e)}});return{R:e,h:s.aa()?s:n}}var t=o.a.f.D();o.a.Ja=function(r,u,f,e,s){function rt(n,t){h=k[t];nt!==t&&(it[n]=h);h.za(nt++);o.a.$(h.R,r);g.push(h);p.push(h)}function v(n,t){if(n)for(var i=0,r=t.length;i<r;i++)t[i]&&o.a.n(t[i].R,function(r){n(r,i,t[i].fa)})}var c,y,ut;u=u||[];e=e||{};var y=o.a.f.get(r,t)===n,k=o.a.f.get(r,t)||[],d=o.a.ha(k,function(n){return n.fa}),l=o.a.ra(d,u,e.dontLimitMoves),g=[],a=0,nt=0,tt=[],p=[];u=[];for(var it=[],d=[],h,c=0,w,b;w=l[c];c++)switch(b=w.moved,w.status){case"deleted":b===n&&(h=k[a],h.h&&h.h.B(),tt.push.apply(tt,o.a.$(h.R,r)),e.beforeRemove&&(u[c]=h,p.push(h)));a++;break;case"retained":rt(c,a++);break;case"added":b!==n?rt(c,b):(h={fa:w.value,za:o.q(nt++)},g.push(h),p.push(h),y||(d[c]=h))}for(v(e.beforeMove,it),o.a.n(tt,e.beforeRemove?o.L:o.removeNode),c=0,y=o.e.firstChild(r);h=p[c];c++){for(h.R||o.a.extend(h,i(r,f,h.fa,s,h.za)),a=0;l=h.R[a];y=l.nextSibling,ut=l,a++)l!==y&&o.e.eb(r,l,ut);!h.Ob&&s&&(s(h.fa,h.R,h.za),h.Ob=!0)}v(e.beforeRemove,u);v(e.afterMove,it);v(e.afterAdd,d);o.a.f.set(r,t,g)}}();o.b("utils.setDomNodeChildrenFromArrayMapping",o.a.Ja);o.J=function(){this.allowTemplateRewriting=!1};o.J.prototype=new o.w;o.J.prototype.renderTemplateSource=function(n){var t=(9>o.a.ja?0:n.nodes)?n.nodes():null;return t?o.a.Q(t.cloneNode(!0).childNodes):(n=n.text(),o.a.Fa(n))};o.J.Aa=new o.J;o.La(o.J.Aa);o.b("nativeTemplateEngine",o.J),function(){o.Ba=function(){var n=this.Rb=function(){if("undefined"==typeof t||!t.tmpl)return 0;try{if(0<=t.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(n){}return 1}();this.renderTemplateSource=function(r,u,f){if(f=f||{},2>n)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var e=r.data("precompiled");return e||(e=r.text()||"",e=t.template(null,"{{ko_with $item.koBindingContext}}"+e+"{{/ko_with}}"),r.data("precompiled",e)),r=[u.$data],u=t.extend({koBindingContext:u},f.templateOptions),u=t.tmpl(e,r,u),u.appendTo(i.createElement("div")),t.fragments={},u};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,t){i.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")};0<n&&(t.tmpl.tag.ko_code={open:"__.push($1 || '');"},t.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};o.Ba.prototype=new o.w;var n=new o.Ba;0<n.Rb&&o.La(n);o.b("jqueryTmplTemplateEngine",o.Ba)}()})})()}();!function(){var v=this,lt=v._,e={},r=Array.prototype,nt=Object.prototype,at=Function.prototype,y=r.push,t=r.slice,o=r.concat,f=nt.toString,vt=nt.hasOwnProperty,tt=r.forEach,it=r.map,rt=r.reduce,ut=r.reduceRight,ft=r.filter,et=r.every,ot=r.some,s=r.indexOf,st=r.lastIndexOf,yt=Array.isArray,pt=Object.keys,p=at.bind,n=function(t){return t instanceof n?t:this instanceof n?(this._wrapped=t,void 0):new n(t)},i,w,b,h,k,d,c,l,u,ht,ct,a;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):v._=n;n.VERSION="1.5.1";i=n.each=n.forEach=function(t,i,r){var u,o,f;if(null!=t)if(tt&&t.forEach===tt)t.forEach(i,r);else if(t.length===+t.length){for(u=0,o=t.length;o>u;u++)if(i.call(r,t[u],u,t)===e)return}else for(f in t)if(n.has(t,f)&&i.call(r,t[f],f,t)===e)return};n.map=n.collect=function(n,t,r){var u=[];return null==n?u:it&&n.map===it?n.map(t,r):(i(n,function(n,i,f){u.push(t.call(r,n,i,f))}),u)};w="Reduce of empty array with no initial value";n.reduce=n.foldl=n.inject=function(t,r,u,f){var e=arguments.length>2;if(null==t&&(t=[]),rt&&t.reduce===rt)return f&&(r=n.bind(r,f)),e?t.reduce(r,u):t.reduce(r);if(i(t,function(n,t,i){e?u=r.call(f,u,n,t,i):(u=n,e=!0)}),!e)throw new TypeError(w);return u};n.reduceRight=n.foldr=function(t,r,u,f){var o=arguments.length>2,e,s;if(null==t&&(t=[]),ut&&t.reduceRight===ut)return f&&(r=n.bind(r,f)),o?t.reduceRight(r,u):t.reduceRight(r);if(e=t.length,e!==+e&&(s=n.keys(t),e=s.length),i(t,function(n,i,h){i=s?s[--e]:--e;o?u=r.call(f,u,t[i],i,h):(u=t[i],o=!0)}),!o)throw new TypeError(w);return u};n.find=n.detect=function(n,t,i){var r;return b(n,function(n,u,f){if(t.call(i,n,u,f))return(r=n,!0)}),r};n.filter=n.select=function(n,t,r){var u=[];return null==n?u:ft&&n.filter===ft?n.filter(t,r):(i(n,function(n,i,f){t.call(r,n,i,f)&&u.push(n)}),u)};n.reject=function(t,i,r){return n.filter(t,function(n,t,u){return!i.call(r,n,t,u)},r)};n.every=n.all=function(t,r,u){r||(r=n.identity);var f=!0;return null==t?f:et&&t.every===et?t.every(r,u):(i(t,function(n,t,i){if(!(f=f&&r.call(u,n,t,i)))return e}),!!f)};b=n.some=n.any=function(t,r,u){r||(r=n.identity);var f=!1;return null==t?f:ot&&t.some===ot?t.some(r,u):(i(t,function(n,t,i){if(f||(f=r.call(u,n,t,i)))return e}),!!f)};n.contains=n.include=function(n,t){return null==n?!1:s&&n.indexOf===s?n.indexOf(t)!=-1:b(n,function(n){return n===t})};n.invoke=function(i,r){var u=t.call(arguments,2),f=n.isFunction(r);return n.map(i,function(n){return(f?r:n[r]).apply(n,u)})};n.pluck=function(t,i){return n.map(t,function(n){return n[i]})};n.where=function(t,i,r){return n.isEmpty(i)?r?void 0:[]:n[r?"find":"filter"](t,function(n){for(var t in i)if(i[t]!==n[t])return!1;return!0})};n.findWhere=function(t,i){return n.where(t,i,!0)};n.max=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!r&&n.isEmpty(t))return-1/0;var f={computed:-1/0,value:-1/0};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e>f.computed&&(f={value:n,computed:e})}),f.value};n.min=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!r&&n.isEmpty(t))return 1/0;var f={computed:1/0,value:1/0};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e<f.computed&&(f={value:n,computed:e})}),f.value};n.shuffle=function(t){var u,f=0,r=[];return i(t,function(t){u=n.random(f++);r[f-1]=r[u];r[u]=t}),r};h=function(t){return n.isFunction(t)?t:function(n){return n[t]}};n.sortBy=function(t,i,r){var u=h(i);return n.pluck(n.map(t,function(n,t,i){return{value:n,index:t,criteria:u.call(r,n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(r>i||r===void 0)return-1}return n.index<t.index?-1:1}),"value")};k=function(t,r,u,f){var e={},o=h(null==r?n.identity:r);return i(t,function(n,i){var r=o.call(u,n,i,t);f(e,r,n)}),e};n.groupBy=function(t,i,r){return k(t,i,r,function(t,i,r){(n.has(t,i)?t[i]:t[i]=[]).push(r)})};n.countBy=function(t,i,r){return k(t,i,r,function(t,i){n.has(t,i)||(t[i]=0);t[i]++})};n.sortedIndex=function(t,i,r,u){var e;r=null==r?n.identity:h(r);for(var s=r.call(u,i),f=0,o=t.length;o>f;)e=f+o>>>1,r.call(u,t[e])<s?f=e+1:o=e;return f};n.toArray=function(i){return i?n.isArray(i)?t.call(i):i.length===+i.length?n.map(i,n.identity):n.values(i):[]};n.size=function(t){return null==t?0:t.length===+t.length?t.length:n.keys(t).length};n.first=n.head=n.take=function(n,i,r){if(null!=n)return null==i||r?n[0]:t.call(n,0,i)};n.initial=function(n,i,r){return t.call(n,0,n.length-(null==i||r?1:i))};n.last=function(n,i,r){if(null!=n)return null==i||r?n[n.length-1]:t.call(n,Math.max(n.length-i,0))};n.rest=n.tail=n.drop=function(n,i,r){return t.call(n,null==i||r?1:i)};n.compact=function(t){return n.filter(t,n.identity)};d=function(t,r,u){return r&&n.every(t,n.isArray)?o.apply(u,t):(i(t,function(t){n.isArray(t)||n.isArguments(t)?r?y.apply(u,t):d(t,r,u):u.push(t)}),u)};n.flatten=function(n,t){return d(n,t,[])};n.without=function(i){return n.difference(i,t.call(arguments,1))};n.uniq=n.unique=function(t,r,u,f){n.isFunction(r)&&(f=u,u=r,r=!1);var s=u?n.map(t,u,f):t,o=[],e=[];return i(s,function(i,u){(r?u&&e[e.length-1]===i:n.contains(e,i))||(e.push(i),o.push(t[u]))}),o};n.union=function(){return n.uniq(n.flatten(arguments,!0))};n.intersection=function(i){var r=t.call(arguments,1);return n.filter(n.uniq(i),function(t){return n.every(r,function(i){return n.indexOf(i,t)>=0})})};n.difference=function(i){var u=o.apply(r,t.call(arguments,1));return n.filter(i,function(t){return!n.contains(u,t)})};n.zip=function(){for(var i=n.max(n.pluck(arguments,"length").concat(0)),r=new Array(i),t=0;i>t;t++)r[t]=n.pluck(arguments,""+t);return r};n.object=function(n,t){if(null==n)return{};for(var r={},i=0,u=n.length;u>i;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.indexOf=function(t,i,r){if(null==t)return-1;var u=0,f=t.length;if(r){if("number"!=typeof r)return u=n.sortedIndex(t,i),t[u]===i?u:-1;u=0>r?Math.max(0,f+r):r}if(s&&t.indexOf===s)return t.indexOf(i,r);for(;f>u;u++)if(t[u]===i)return u;return-1};n.lastIndexOf=function(n,t,i){var u,r;if(null==n)return-1;if(u=null!=i,st&&n.lastIndexOf===st)return u?n.lastIndexOf(t,i):n.lastIndexOf(t);for(r=u?i:n.length;r--;)if(n[r]===t)return r;return-1};n.range=function(n,t,i){arguments.length<=1&&(t=n||0,n=0);i=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/i),0),u=0,f=new Array(r);r>u;)f[u++]=n,n+=i;return f};c=function(){};n.bind=function(i,r){var u,f;if(p&&i.bind===p)return p.apply(i,t.call(arguments,1));if(!n.isFunction(i))throw new TypeError;return u=t.call(arguments,2),f=function(){var e,n;return(this instanceof f)?(c.prototype=i.prototype,e=new c,c.prototype=null,n=i.apply(e,u.concat(t.call(arguments))),Object(n)===n?n:e):i.apply(r,u.concat(t.call(arguments)))}};n.partial=function(n){var i=t.call(arguments,1);return function(){return n.apply(this,i.concat(t.call(arguments)))}};n.bindAll=function(r){var u=t.call(arguments,1);if(0===u.length)throw new Error("bindAll must be passed function names");return i(u,function(t){r[t]=n.bind(r[t],r)}),r};n.memoize=function(t,i){var r={};return i||(i=n.identity),function(){var u=i.apply(this,arguments);return n.has(r,u)?r[u]:r[u]=t.apply(this,arguments)}};n.delay=function(n,i){var r=t.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},i)};n.defer=function(i){return n.delay.apply(n,[i,1].concat(t.call(arguments,1)))};n.throttle=function(n,t,i){var f,e,o,r=null,u=0,s;return i||(i={}),s=function(){u=i.leading===!1?0:new Date;r=null;o=n.apply(f,e)},function(){var h=new Date,c;return u||i.leading!==!1||(u=h),c=t-(h-u),f=this,e=arguments,0>=c?(clearTimeout(r),r=null,u=h,o=n.apply(f,e)):r||i.trailing===!1||(r=setTimeout(s,c)),o}};n.debounce=function(n,t,i){var u,r=null;return function(){var f=this,e=arguments,o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r;return clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}};n.once=function(n){var t,i=!1;return function(){return i?t:(i=!0,t=n.apply(this,arguments),n=null,t)}};n.wrap=function(n,t){return function(){var i=[n];return y.apply(i,arguments),t.apply(this,i)}};n.compose=function(){var n=arguments;return function(){for(var t=arguments,i=n.length-1;i>=0;i--)t=[n[i].apply(this,t)];return t[0]}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.keys=pt||function(t){var i,r;if(t!==Object(t))throw new TypeError("Invalid object");i=[];for(r in t)n.has(t,r)&&i.push(r);return i};n.values=function(t){var i=[];for(var r in t)n.has(t,r)&&i.push(t[r]);return i};n.pairs=function(t){var r=[];for(var i in t)n.has(t,i)&&r.push([i,t[i]]);return r};n.invert=function(t){var r={};for(var i in t)n.has(t,i)&&(r[t[i]]=i);return r};n.functions=n.methods=function(t){var i=[];for(var r in t)n.isFunction(t[r])&&i.push(r);return i.sort()};n.extend=function(n){return i(t.call(arguments,1),function(t){if(t)for(var i in t)n[i]=t[i]}),n};n.pick=function(n){var u={},f=o.apply(r,t.call(arguments,1));return i(f,function(t){t in n&&(u[t]=n[t])}),u};n.omit=function(i){var f={},e=o.apply(r,t.call(arguments,1));for(var u in i)n.contains(e,u)||(f[u]=i[u]);return f};n.defaults=function(n){return i(t.call(arguments,1),function(t){if(t)for(var i in t)n[i]===void 0&&(n[i]=t[i])}),n};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};l=function(t,i,r,u){var a,v,h,c,e,o,s;if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),a=f.call(t),a!=f.call(i))return!1;switch(a){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:0==t?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if("object"!=typeof t||"object"!=typeof i)return!1;for(v=r.length;v--;)if(r[v]==t)return u[v]==i;if(h=t.constructor,c=i.constructor,h!==c&&!(n.isFunction(h)&&h instanceof h&&n.isFunction(c)&&c instanceof c))return!1;if(r.push(t),u.push(i),e=0,o=!0,"[object Array]"==a){if(e=t.length,o=e==i.length)for(;e--&&(o=l(t[e],i[e],r,u)););}else{for(s in t)if(n.has(t,s)&&(e++,!(o=n.has(i,s)&&l(t[s],i[s],r,u))))break;if(o){for(s in i)if(n.has(i,s)&&!e--)break;o=!e}}return r.pop(),u.pop(),o};n.isEqual=function(n,t){return l(n,t,[],[])};n.isEmpty=function(t){if(null==t)return!0;if(n.isArray(t)||n.isString(t))return 0===t.length;for(var i in t)if(n.has(t,i))return!1;return!0};n.isElement=function(n){return!(!n||1!==n.nodeType)};n.isArray=yt||function(n){return"[object Array]"==f.call(n)};n.isObject=function(n){return n===Object(n)};i(["Arguments","Function","String","Number","Date","RegExp"],function(t){n["is"+t]=function(n){return f.call(n)=="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return!(!t||!n.has(t,"callee"))});"function"!=typeof/./&&(n.isFunction=function(n){return"function"==typeof n});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!=+t};n.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)};n.isNull=function(n){return null===n};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return vt.call(n,t)};n.noConflict=function(){return v._=lt,this};n.identity=function(n){return n};n.times=function(n,t,i){for(var u=Array(Math.max(0,n)),r=0;n>r;r++)u[r]=t.call(i,r);return u};n.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};u={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};u.unescape=n.invert(u.escape);ht={escape:new RegExp("["+n.keys(u.escape).join("")+"]","g"),unescape:new RegExp("("+n.keys(u.unescape).join("|")+")","g")};n.each(["escape","unescape"],function(t){n[t]=function(n){return null==n?"":(""+n).replace(ht[t],function(n){return u[t][n]})}});n.result=function(t,i){if(null==t)return void 0;var r=t[i];return n.isFunction(r)?r.call(t):r};n.mixin=function(t){i(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return y.apply(t,arguments),a.call(this,r.apply(n,t))}})};ct=0;n.uniqueId=function(n){var t=++ct+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,wt={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},bt=/\\|'|\r|\n|\t|\u2028|\u2029/g;n.template=function(t,i,r){var f,e;r=n.defaults({},r,n.templateSettings);var h=new RegExp([(r.escape||g).source,(r.interpolate||g).source,(r.evaluate||g).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(h,function(n,i,r,f,e){return u+=t.slice(o,e).replace(bt,function(n){return"\\"+wt[n]}),i&&(u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),f&&(u+="';\n"+f+"\n__p+='"),o=e+n.length,n});u+="';\n";r.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{f=new Function(r.variable||"obj","_",u)}catch(s){throw s.source=u,s;}return i?f(i,n):(e=function(t){return f.call(this,t,n)},e.source="function("+(r.variable||"obj")+"){\n"+u+"}",e)};n.chain=function(t){return n(t).chain()};a=function(t){return this._chain?n(t).chain():t};n.mixin(n);i(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=r[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],a.call(this,n)}});i(["concat","join","slice"],function(t){var i=r[t];n.prototype[t]=function(){return a.call(this,i.apply(this._wrapped,arguments))}});n.extend(n.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);
/*! gridster.js - v0.1.0 - 2013-06-14
 * http://gridster.net/
 * Copyright (c) 2013 ducksboard; Licensed MIT */
(function(n){function i(t){return t[0]&&n.isPlainObject(t[0])?this.data=t[0]:this.el=t,this.isCoords=!0,this.coords={},this.init(),this}var t=i.prototype;t.init=function(){this.set();this.original_coords=this.get()};t.set=function(n,t){var r=this.el,u,i;return r&&!n&&(this.data=r.offset(),this.data.width=r.width(),this.data.height=r.height()),r&&n&&!t&&(u=r.offset(),this.data.top=u.top,this.data.left=u.left),i=this.data,this.coords.x1=i.left,this.coords.y1=i.top,this.coords.x2=i.left+i.width,this.coords.y2=i.top+i.height,this.coords.cx=i.left+i.width/2,this.coords.cy=i.top+i.height/2,this.coords.width=i.width,this.coords.height=i.height,this.coords.el=r||!1,this};t.update=function(t){if(!t&&!this.el)return this;if(t){var i=n.extend({},this.data,t);return this.data=i,this.set(!0,!0)}return this.set(!0),this};t.get=function(){return this.coords};n.fn.coords=function(){if(this.data("coords"))return this.data("coords");var n=new i(this,arguments[0]);return this.data("coords",n),n}})(jQuery,window,document),function(n,t,i){function u(t,i,r){this.options=n.extend(f,r);this.$element=t;this.last_colliders=[];this.last_colliders_coords=[];typeof i=="string"||i instanceof jQuery?this.$colliders=n(i,this.options.colliders_context).not(this.$element):this.colliders=n(i);this.init()}var f={colliders_context:i.body},r=u.prototype;r.init=function(){this.find_collisions()};r.overlaps=function(n,t){var i=!1,r=!1;return(t.x1>=n.x1&&t.x1<=n.x2||t.x2>=n.x1&&t.x2<=n.x2||n.x1>=t.x1&&n.x2<=t.x2)&&(i=!0),(t.y1>=n.y1&&t.y1<=n.y2||t.y2>=n.y1&&t.y2<=n.y2||n.y1>=t.y1&&n.y2<=t.y2)&&(r=!0),i&&r};r.detect_overlapping_region=function(n,t){var i="",r="";return n.y1>t.cy&&n.y1<t.y2&&(i="N"),n.y2>t.y1&&n.y2<t.cy&&(i="S"),n.x1>t.cx&&n.x1<t.x2&&(r="W"),n.x2>t.x1&&n.x2<t.cx&&(r="E"),i+r||"C"};r.calculate_overlapped_area_coords=function(t,i){var r=Math.max(t.x1,i.x1),u=Math.max(t.y1,i.y1),f=Math.min(t.x2,i.x2),e=Math.min(t.y2,i.y2);return n({left:r,top:u,width:f-r,height:e-u}).coords().get()};r.calculate_overlapped_area=function(n){return n.width*n.height};r.manage_colliders_start_stop=function(t,i,r){for(var u,o,f=this.last_colliders_coords,e=0,s=f.length;e<s;e++)n.inArray(f[e],t)===-1&&i.call(this,f[e]);for(u=0,o=t.length;u<o;u++)n.inArray(t[u],f)===-1&&r.call(this,t[u])};r.find_collisions=function(t){for(var i=this,e=[],c=[],o=this.colliders||this.$colliders,s=o.length,r=i.$element.coords().update(t||!1).get(),h;s--;){var u=i.$colliders?n(o[s]):o[s],l=u.isCoords?u:u.coords(),f=l.get(),y=i.overlaps(r,f);if(y&&(h=i.detect_overlapping_region(r,f),h==="C")){var a=i.calculate_overlapped_area_coords(r,f),p=i.calculate_overlapped_area(a),v={area:p,area_coords:a,region:h,coords:f,player_coords:r,el:u};i.options.on_overlap&&i.options.on_overlap.call(this,v);e.push(l);c.push(v)}}return(i.options.on_overlap_stop||i.options.on_overlap_start)&&this.manage_colliders_start_stop(e,i.options.on_overlap_start,i.options.on_overlap_stop),this.last_colliders_coords=e,c};r.get_closest_colliders=function(n){var t=this.find_collisions(n);return t.sort(function(n,t){return n.region==="C"&&t.region==="C"?n.coords.y1<t.coords.y1||n.coords.x1<t.coords.x1?-1:1:(n.area<t.area,1)}),t};n.fn.collision=function(n,t){return new u(this,n,t)}}(jQuery,window,document),function(n){n.debounce=function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)};i&&!r&&n.apply(u,f);clearTimeout(r);r=setTimeout(e,t)}};n.throttle=function(n,t){var i,r,u,f,e,o,s=debounce(function(){e=f=!1},t);return function(){i=this;r=arguments;var h=function(){u=null;e&&n.apply(i,r);s()};return u||(u=setTimeout(h,t)),f?e=!0:o=n.apply(i,r),s(),f=!0,o}}}(window),function(n,t,i){function o(t,r){this.options=n.extend({},s,r);this.$body=n(i.body);this.$container=n(t);this.$dragitems=n(this.options.items,this.$container);this.is_dragging=!1;this.player_min_left=0+this.options.offset_left;this.init()}var s={items:".gs_w",distance:1,limit:!0,offset_left:0,autoscroll:!0,ignore_dragging:["INPUT","TEXTAREA","SELECT","BUTTON"],handle:null,container_width:0},f=n(t),u=!!("ontouchstart"in t),e={start:u?"touchstart.gridster-draggable":"mousedown.gridster-draggable",move:u?"touchmove.gridster-draggable":"mousemove.gridster-draggable",end:u?"touchend.gridster-draggable":"mouseup.gridster-draggable"},r=o.prototype;r.init=function(){this.calculate_positions();this.$container.css("position","relative");this.disabled=!1;this.events();n(t).bind("resize.gridster-draggable",throttle(n.proxy(this.calculate_positions,this),200))};r.setOptions=function(t){this.options=n.extend(this.options,t)};r.events=function(){this.$container.on("selectstart.gridster-draggable",n.proxy(this.on_select_start,this));this.$container.on(e.start,this.options.items,n.proxy(this.drag_handler,this));this.$body.on(e.end,n.proxy(function(n){if((this.is_dragging=!1,!this.disabled)&&(this.$body.off(e.move),this.drag_start))this.on_dragstop(n)},this))};r.get_actual_pos=function(n){return n.position()};r.get_mouse_pos=function(n){if(u){var t=n.originalEvent;n=t.touches.length?t.touches[0]:t.changedTouches[0]}return{left:n.clientX,top:n.clientY}};r.get_offset=function(n){n.preventDefault();var i=this.get_mouse_pos(n),r=Math.round(i.left-this.mouse_init_pos.left),u=Math.round(i.top-this.mouse_init_pos.top),t=Math.round(this.el_init_offset.left+r-this.baseX),f=Math.round(this.el_init_offset.top+u-this.baseY+this.scrollOffset);return this.options.limit&&(t>this.player_max_left?t=this.player_max_left:t<this.player_min_left&&(t=this.player_min_left)),{left:t,top:f,mouse_left:i.left,mouse_top:i.top}};r.manage_scroll=function(n){var t,i=f.scrollTop(),r=i,e=r+this.window_height,o=e-50,s=r+50,c=n.mouse_left,u=r+n.mouse_top,h=this.doc_height-this.window_height+this.player_height;u>=o&&(t=i+30,t<h&&(f.scrollTop(t),this.scrollOffset=this.scrollOffset+30));u<=s&&(t=i-30,t>0&&(f.scrollTop(t),this.scrollOffset=this.scrollOffset-30))};r.calculate_positions=function(){this.window_height=f.height()};r.drag_handler=function(t){var f=t.target.nodeName,i,r;if(!this.disabled&&(t.which===1||u)&&!this.ignore_drag(t)){i=this;r=!0;this.$player=n(t.currentTarget);this.el_init_pos=this.get_actual_pos(this.$player);this.mouse_init_pos=this.get_mouse_pos(t);this.offsetY=this.mouse_init_pos.top-this.el_init_pos.top;this.$body.on(e.move,function(n){var t=i.get_mouse_pos(n),u=Math.abs(t.left-i.mouse_init_pos.left),f=Math.abs(t.top-i.mouse_init_pos.top);return(u>i.options.distance||f>i.options.distance)?r?(r=!1,i.on_dragstart.call(i,n),!1):(i.is_dragging===!0&&i.on_dragmove.call(i,n),!1):!1});if(!u)return!1}};r.on_dragstart=function(t){var r,u;return t.preventDefault(),this.drag_start=!0,this.is_dragging=!0,r=this.$container.offset(),this.baseX=Math.round(r.left),this.baseY=Math.round(r.top),this.doc_height=n(i).height(),this.options.helper==="clone"?(this.$helper=this.$player.clone().appendTo(this.$container).addClass("helper"),this.helper=!0):this.helper=!1,this.scrollOffset=0,this.el_init_offset=this.$player.offset(),this.player_width=this.$player.width(),this.player_height=this.$player.height(),u=this.options.container_width||this.$container.width(),this.player_max_left=u-this.player_width+this.options.offset_left,this.options.start&&this.options.start.call(this.$player,t,{helper:this.helper?this.$helper:this.$player}),!1};r.on_dragmove=function(n){var t=this.get_offset(n),i;return this.options.autoscroll&&this.manage_scroll(t),(this.helper?this.$helper:this.$player).css({position:"absolute",left:t.left,top:t.top}),i={position:{left:t.left,top:t.top}},this.options.drag&&this.options.drag.call(this.$player,n,i),!1};r.on_dragstop=function(n){var t=this.get_offset(n),i;return this.drag_start=!1,i={position:{left:t.left,top:t.top}},this.options.stop&&this.options.stop.call(this.$player,n,i),this.helper&&this.$helper.remove(),!1};r.on_select_start=function(n){if(!this.disabled)return this.ignore_drag(n)?void 0:!1};r.enable=function(){this.disabled=!1};r.disable=function(){this.disabled=!0};r.destroy=function(){this.disable();this.$container.off(".gridster-draggable");this.$body.off(".gridster-draggable");n(t).off(".gridster-draggable");n.removeData(this.$container,"drag")};r.ignore_drag=function(t){return this.options.handle?!n(t.target).is(this.options.handle):n.inArray(t.target.nodeName,this.options.ignore_dragging)>=0};n.fn.drag=function(t){return this.each(function(){n.data(this,"drag")?n.data(this,"drag").setOptions(t):n.data(this,"drag",new o(this,t))})}}(jQuery,window,document),function(n,t,i){function u(t,i){this.options=n.extend(!0,f,i);this.$el=n(t);this.$wrapper=this.$el.parent();this.$widgets=this.$el.children(this.options.widget_selector).addClass("gs_w");this.panes=[];this.$changed=n([]);this.wrapper_width=this.$wrapper.width();this.min_widget_width=this.options.widget_margins[0]*2+this.options.widget_base_dimensions[0];this.min_widget_height=this.options.widget_margins[1]*2+this.options.widget_base_dimensions[1];this.$style_tags=n([]);this.init()}var f={namespace:"",widget_selector:"li",widget_margins:[10,10],widget_base_dimensions:[400,225],extra_rows:0,extra_cols:0,min_cols:1,max_cols:null,min_rows:15,max_size_x:6,autogenerate_stylesheet:!0,avoid_overlapped_widgets:!0,serialize_params:function(n,t){return{col:t.col,row:t.row,size_x:t.size_x,size_y:t.size_y}},collision:{},draggable:{distance:4}},r;u.generated_stylesheets=[];r=u.prototype;r.init=function(){this.generate_grid_and_stylesheet();this.get_widgets_from_DOM();this.set_dom_grid_height();this.$wrapper.addClass("ready");this.draggable();n(t).bind("resize.gridster",throttle(n.proxy(this.recalculate_faux_grid,this),200))};r.disable=function(){return this.$wrapper.find(".player-revert").removeClass("player-revert"),this.drag_api.disable(),this};r.enable=function(){return this.drag_api.enable(),this};r.add_widget=function(t,i,r,u,f){var e,o;return i||(i=1),r||(r=1),!u&!f?e=this.next_position(i,r):(e={col:u,row:f},this.empty_cells(u,f,i,r)),o=n(t).attr({"data-col":e.col,"data-row":e.row,"data-sizex":i,"data-sizey":r}).addClass("gs_w").appendTo(this.$el).hide(),this.$widgets=this.$widgets.add(o),this.register_widget(o),this.add_faux_rows(e.size_y),this.set_dom_grid_height(),o.fadeIn()};r.resize_widget=function(t,i,r,u){var f=t.coords().grid,w,b,v,y,p,d,g,nt,tt;i||(i=f.size_x);r||(r=f.size_y);i>this.cols&&(i=this.cols);var s=this.get_cells_occupied(f),a=f.size_x,o=f.size_y,h=f.col,e=h,it=i>a,rt=r>o;h+i-1>this.cols&&(w=h+(i-1)-this.cols,b=h-w,e=Math.max(1,b));var k={col:e,row:f.row,size_x:i,size_y:r},c=this.get_cells_occupied(k),l=[];return n.each(s.cols,function(t,i){n.inArray(i,c.cols)===-1&&l.push(i)}),v=[],n.each(c.cols,function(t,i){n.inArray(i,s.cols)===-1&&v.push(i)}),y=[],n.each(s.rows,function(t,i){n.inArray(i,c.rows)===-1&&y.push(i)}),p=[],n.each(c.rows,function(t,i){n.inArray(i,s.rows)===-1&&p.push(i)}),this.remove_from_gridmap(f),v.length&&(d=[e,f.row,i,Math.min(o,r),t],this.empty_cells.apply(this,d)),p.length&&(g=[e,f.row,i,r,t],this.empty_cells.apply(this,g)),f.col=e,f.size_x=i,f.size_y=r,this.add_to_gridmap(k,t),t.data("coords").update({width:i*this.options.widget_base_dimensions[0]+(i-1)*this.options.widget_margins[0]*2,height:r*this.options.widget_base_dimensions[1]+(r-1)*this.options.widget_margins[1]*2}),r>o&&this.add_faux_rows(r-o),i>a&&this.add_faux_cols(i-a),t.attr({"data-col":e,"data-sizex":i,"data-sizey":r}),l.length&&(nt=[l[0],f.row,l.length,Math.min(o,r),t],this.remove_empty_cells.apply(this,nt)),y.length&&(tt=[e,f.row,i,r,t],this.remove_empty_cells.apply(this,tt)),u&&u.call(this,i,r),t};r.empty_cells=function(t,i,r,u,f){var e=this.widgets_below({col:t,row:i-u,size_x:r,size_y:u});return e.not(f).each(n.proxy(function(t,r){var f=n(r).coords().grid,e;f.row<=i+u-1&&(e=i+u-f.row,this.move_widget_down(n(r),e))},this)),this.set_dom_grid_height(),this};r.remove_empty_cells=function(t,i,r,u,f){var e=this.widgets_below({col:t,row:i,size_x:r,size_y:u});return e.not(f).each(n.proxy(function(t,i){this.move_widget_up(n(i),u)},this)),this.set_dom_grid_height(),this};r.next_position=function(n,t){var i,r,o;n||(n=1);t||(t=1);var f=this.gridmap,s=f.length,u=[],e;for(i=1;i<s;i++)for(e=f[i].length,r=1;r<=e;r++)o=this.can_move_to({size_x:n,size_y:t},i,r),o&&u.push({col:i,row:r,size_y:t,size_x:n});return u.length?this.sort_by_row_and_col_asc(u)[0]:!1};r.remove_widget=function(t,i,r){var u=t instanceof jQuery?t:n(t),f=u.coords().grid,e;n.isFunction(i)&&(r=i,i=!1);this.cells_occupied_by_placeholder={};this.$widgets=this.$widgets.not(u);e=this.widgets_below(u);this.remove_from_gridmap(f);u.fadeOut(n.proxy(function(){u.remove();i||e.each(n.proxy(function(t,i){this.move_widget_up(n(i),f.size_y)},this));this.set_dom_grid_height();r&&r.call(this,t)},this))};r.remove_all_widgets=function(t){return this.$widgets.each(n.proxy(function(n,i){this.remove_widget(i,!0,t)},this)),this};r.serialize=function(t){t||(t=this.$widgets);var i=[];return t.each(n.proxy(function(t,r){i.push(this.options.serialize_params(n(r),n(r).coords().grid))},this)),i};r.serialize_changed=function(){return this.serialize(this.$changed)};r.register_widget=function(n){var t={col:parseInt(n.attr("data-col"),10),row:parseInt(n.attr("data-row"),10),size_x:parseInt(n.attr("data-sizex"),10),size_y:parseInt(n.attr("data-sizey"),10),el:n};return this.options.avoid_overlapped_widgets&&!this.can_move_to({size_x:t.size_x,size_y:t.size_y},t.col,t.row)&&(t=this.next_position(t.size_x,t.size_y),t.el=n,n.attr({"data-col":t.col,"data-row":t.row,"data-sizex":t.size_x,"data-sizey":t.size_y})),n.data("coords",n.coords()),n.data("coords").grid=t,this.add_to_gridmap(t,n),this};r.update_widget_position=function(n,t){return this.for_each_cell_occupied(n,function(n,i){if(!this.gridmap[n])return this;this.gridmap[n][i]=t}),this};r.remove_from_gridmap=function(n){return this.update_widget_position(n,!1)};r.add_to_gridmap=function(t,i){if(this.update_widget_position(t,i||t.el),t.el){var r=this.widgets_below(t.el);r.each(n.proxy(function(t,i){this.move_widget_up(n(i))},this))}};r.draggable=function(){var t=this,i=n.extend(!0,{},this.options.draggable,{offset_left:this.options.widget_margins[0],container_width:this.container_width,start:function(i,r){t.$widgets.filter(".player-revert").removeClass("player-revert");t.$player=n(this);t.$helper=t.options.draggable.helper==="clone"?n(r.helper):t.$player;t.helper=!t.$helper.is(t.$player);t.on_start_drag.call(t,i,r);t.$el.trigger("gridster:dragstart")},stop:function(n,i){t.on_stop_drag.call(t,n,i);t.$el.trigger("gridster:dragstop")},drag:throttle(function(n,i){t.on_drag.call(t,n,i);t.$el.trigger("gridster:drag")},60)});return this.drag_api=this.$el.drag(i).data("drag"),this};r.on_start_drag=function(t,i){this.$helper.add(this.$player).add(this.$wrapper).addClass("dragging");this.$player.addClass("player");this.player_grid_data=this.$player.coords().grid;this.placeholder_grid_data=n.extend({},this.player_grid_data);this.$el.css("height",this.$el.height()+this.player_grid_data.size_y*this.min_widget_height);var u=this.faux_grid,r=this.$player.data("coords").coords;this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data);this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data);this.last_cols=[];this.last_rows=[];this.collision_api=this.$helper.collision(u,this.options.collision);this.$preview_holder=n("<li />",{"class":"preview-holder","data-row":this.$player.attr("data-row"),"data-col":this.$player.attr("data-col"),css:{width:r.width,height:r.height}}).appendTo(this.$el);this.options.draggable.start&&this.options.draggable.start.call(this,t,i)};r.on_drag=function(n,t){if(this.$player===null)return!1;var i={left:t.position.left+this.baseX,top:t.position.top+this.baseY};this.colliders_data=this.collision_api.get_closest_colliders(i);this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column);this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row);this.helper&&this.$player&&this.$player.css({left:t.position.left,top:t.position.top});this.options.draggable.drag&&this.options.draggable.drag.call(this,n,t)};r.on_stop_drag=function(n,t){this.$helper.add(this.$player).add(this.$wrapper).removeClass("dragging");t.position.left=t.position.left+this.baseX;t.position.top=t.position.top+this.baseY;this.colliders_data=this.collision_api.get_closest_colliders(t.position);this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column);this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row);this.$player.addClass("player-revert").removeClass("player").attr({"data-col":this.placeholder_grid_data.col,"data-row":this.placeholder_grid_data.row}).css({left:"",top:""});this.$changed=this.$changed.add(this.$player);this.cells_occupied_by_player=this.get_cells_occupied(this.placeholder_grid_data);this.set_cells_player_occupies(this.placeholder_grid_data.col,this.placeholder_grid_data.row);this.$player.coords().grid.row=this.placeholder_grid_data.row;this.$player.coords().grid.col=this.placeholder_grid_data.col;this.options.draggable.stop&&this.options.draggable.stop.call(this,n,t);this.$preview_holder.remove();this.$player=null;this.$helper=null;this.placeholder_grid_data={};this.player_grid_data={};this.cells_occupied_by_placeholder={};this.cells_occupied_by_player={};this.set_dom_grid_height()};r.on_overlapped_column_change=function(t,i){if(!this.colliders_data.length)return this;for(var u=this.get_targeted_columns(this.colliders_data[0].el.data.col),f=this.last_cols.length,e=u.length,r=0;r<e;r++)n.inArray(u[r],this.last_cols)===-1&&(t||n.noop).call(this,u[r]);for(r=0;r<f;r++)n.inArray(this.last_cols[r],u)===-1&&(i||n.noop).call(this,this.last_cols[r]);return this.last_cols=u,this};r.on_overlapped_row_change=function(t,i){if(!this.colliders_data.length)return this;for(var u=this.get_targeted_rows(this.colliders_data[0].el.data.row),f=this.last_rows.length,e=u.length,r=0;r<e;r++)n.inArray(u[r],this.last_rows)===-1&&(t||n.noop).call(this,u[r]);for(r=0;r<f;r++)n.inArray(this.last_rows[r],u)===-1&&(i||n.noop).call(this,this.last_rows[r]);this.last_rows=u};r.set_player=function(n,t,i){var h=this,f,e,o;i||this.empty_cells_player_occupies();var s=i?{col:n}:h.colliders_data[0].el.data,u=s.col,r=t||s.row;return this.player_grid_data={col:u,row:r,size_y:this.player_grid_data.size_y,size_x:this.player_grid_data.size_x},this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data),f=this.get_widgets_overlapped(this.player_grid_data),e=this.widgets_constraints(f),this.manage_movements(e.can_go_up,u,r),this.manage_movements(e.can_not_go_up,u,r),f.length||(o=this.can_go_player_up(this.player_grid_data),o!==!1&&(r=o),this.set_placeholder(u,r)),{col:u,row:r}};r.widgets_constraints=function(t){var i=n([]),f,r=[],u=[];return t.each(n.proxy(function(t,f){var o=n(f),e=o.coords().grid;this.can_go_widget_up(e)?(i=i.add(o),r.push(e)):u.push(e)},this)),f=t.not(i),{can_go_up:this.sort_by_row_asc(r),can_not_go_up:this.sort_by_row_desc(u)}};r.sort_by_row_asc=function(t){return t.sort(function(t,i){return(t.row||(t=n(t).coords().grid,i=n(i).coords().grid),t.row>i.row)?1:-1})};r.sort_by_row_and_col_asc=function(n){return n.sort(function(n,t){return n.row>t.row||n.row===t.row&&n.col>t.col?1:-1})};r.sort_by_col_asc=function(n){return n.sort(function(n,t){return n.col>t.col?1:-1})};r.sort_by_row_desc=function(n){return n.sort(function(n,t){return n.row+n.size_y<t.row+t.size_y?1:-1})};r.manage_movements=function(t,i,r){return n.each(t,n.proxy(function(n,t){var u=t,e=u.el,f=this.can_go_widget_up(u),o,s;f?(this.move_widget_to(e,f),this.set_placeholder(i,f+u.size_y)):(o=this.can_go_player_up(this.player_grid_data),o||(s=r+this.player_grid_data.size_y-u.row,this.move_widget_down(e,s),this.set_placeholder(i,r)))},this)),this};r.is_player=function(n,t){if(t&&!this.gridmap[n])return!1;var i=t?this.gridmap[n][t]:n;return i&&(i.is(this.$player)||i.is(this.$helper))};r.is_player_in=function(t,i){var r=this.cells_occupied_by_player||{};return n.inArray(t,r.cols)>=0&&n.inArray(i,r.rows)>=0};r.is_placeholder_in=function(t,i){var r=this.cells_occupied_by_placeholder||{};return this.is_placeholder_in_col(t)&&n.inArray(i,r.rows)>=0};r.is_placeholder_in_col=function(t){var i=this.cells_occupied_by_placeholder||[];return n.inArray(t,i.cols)>=0};r.is_empty=function(n,t){return typeof this.gridmap[n]!="undefined"?typeof this.gridmap[n][t]!="undefined"&&this.gridmap[n][t]===!1?!0:!1:!0};r.is_occupied=function(n,t){return this.gridmap[n]?this.gridmap[n][t]?!0:!1:!1};r.is_widget=function(n,t){var i=this.gridmap[n];return i?(i=i[t],i)?i:!1:!1};r.is_widget_under_player=function(n,t){return this.is_widget(n,t)?this.is_player_in(n,t):!1};r.get_widgets_under_player=function(t){t||(t=this.cells_occupied_by_player||{cols:[],rows:[]});var i=n([]);return n.each(t.cols,n.proxy(function(r,u){n.each(t.rows,n.proxy(function(n,t){this.is_widget(u,t)&&(i=i.add(this.gridmap[u][t]))},this))},this)),i};r.set_placeholder=function(t,i){var r=n.extend({},this.placeholder_grid_data),s=this.widgets_below({col:r.col,row:r.row,size_y:r.size_y,size_x:r.size_x}),f=t+r.size_x-1,e,o,u;f>this.cols&&(t=t-(f-t));e=this.placeholder_grid_data.row<i;o=this.placeholder_grid_data.col!==t;this.placeholder_grid_data.col=t;this.placeholder_grid_data.row=i;this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data);this.$preview_holder.attr({"data-row":i,"data-col":t});(e||o)&&s.each(n.proxy(function(i,u){this.move_widget_up(n(u),this.placeholder_grid_data.col-t+r.size_y)},this));u=this.get_widgets_under_player(this.cells_occupied_by_placeholder);u.length&&u.each(n.proxy(function(t,u){var f=n(u);this.move_widget_down(f,i+r.size_y-f.data("coords").grid.row)},this))};r.can_go_player_up=function(n){var u=n.row+n.size_y-1,r=!0,t=[],i=1e4,f=this.get_widgets_under_player();return(this.for_each_column_occupied(n,function(n){var o=this.gridmap[n],e=u+1;for(t[n]=[];--e>0;)if(this.is_empty(n,e)||this.is_player(n,e)||this.is_widget(n,e)&&o[e].is(f))t[n].push(e),i=e<i?e:i;else break;if(t[n].length===0)return r=!1,!0;t[n].sort(function(n,t){return n-t})}),!r)?!1:this.get_valid_rows(n,t,i)};r.can_go_widget_up=function(n){var u=n.row+n.size_y-1,r=!0,t=[],i=1e4;return(this.for_each_column_occupied(n,function(f){var o=this.gridmap[f],e;for(t[f]=[],e=u+1;--e>0;){if(this.is_widget(f,e)&&!this.is_player_in(f,e)&&!o[e].is(n.el))break;this.is_player(f,e)||this.is_placeholder_in(f,e)||this.is_player_in(f,e)||t[f].push(e);e<i&&(i=e)}if(t[f].length===0)return r=!1,!0;t[f].sort(function(n,t){return n-t})}),!r)?!1:this.get_valid_rows(n,t,i)};r.get_valid_rows=function(t,i,r){for(var h=t.row,c=t.row+t.size_y-1,e=t.size_y,o=r-1,u=[],s,f;++o<=c;)if(s=!0,n.each(i,function(t,i){n.isArray(i)&&n.inArray(o,i)===-1&&(s=!1)}),s===!0&&(u.push(o),u.length===e))break;return f=!1,e===1?u[0]!==h&&(f=u[0]||!1):u[0]!==h&&(f=this.get_consecutive_numbers_index(u,e)),f};r.get_consecutive_numbers_index=function(n,t){for(var e=n.length,i=[],u=!0,f=-1,r=0;r<e;r++){if(u||n[r]===f+1){if(i.push(r),i.length===t)break;u=!1}else i=[],u=!0;f=n[r]}return i.length>=t?n[i[0]]:!1};r.get_widgets_overlapped=function(){var t=n([]),i=[],r=this.cells_occupied_by_player.rows.slice(0);return r.reverse(),n.each(this.cells_occupied_by_player.cols,n.proxy(function(u,f){n.each(r,n.proxy(function(r,u){if(!this.gridmap[f])return!0;var e=this.gridmap[f][u];this.is_occupied(f,u)&&!this.is_player(e)&&n.inArray(e,i)===-1&&(t=t.add(e),i.push(e))},this))},this)),t};r.on_start_overlapping_column=function(n){this.set_player(n,!1)};r.on_start_overlapping_row=function(n){this.set_player(!1,n)};r.on_stop_overlapping_column=function(n){this.set_player(n,!1);var t=this;this.for_each_widget_below(n,this.cells_occupied_by_player.rows[0],function(){t.move_widget_up(this,t.player_grid_data.size_y)})};r.on_stop_overlapping_row=function(n){var i,r,t,u;for(this.set_player(!1,n),i=this,r=this.cells_occupied_by_player.cols,t=0,u=r.length;t<u;t++)this.for_each_widget_below(r[t],n,function(){i.move_widget_up(this,i.player_grid_data.size_y)})};r.move_widget_to=function(t,i){var u=this,r=t.coords().grid,o=i-r.row,f=this.widgets_below(t),e=this.can_move_to(r,r.col,i,t);return e===!1?!1:(this.remove_from_gridmap(r),r.row=i,this.add_to_gridmap(r),t.attr("data-row",i),this.$changed=this.$changed.add(t),f.each(function(t,i){var f=n(i),e=f.coords().grid,r=u.can_go_widget_up(e);r&&r!==e.row&&u.move_widget_to(f,r)}),this)};r.move_widget_up=function(t,i){var r=t.coords().grid,f=r.row,u=[];if(i||(i=1),!this.can_go_up(t))return!1;this.for_each_column_occupied(r,function(r){var e,o,s;if(n.inArray(t,u)===-1){if(e=t.coords().grid,o=f-i,o=this.can_go_up_to_row(e,r,o),!o)return!0;s=this.widgets_below(t);this.remove_from_gridmap(e);e.row=o;this.add_to_gridmap(e);t.attr("data-row",e.row);this.$changed=this.$changed.add(t);u.push(t);s.each(n.proxy(function(t,r){this.move_widget_up(n(r),i)},this))}})};r.move_widget_down=function(t,i){var f=t.coords().grid,e=f.row,u=[],o=i;if(!t)return!1;if(n.inArray(t,u)===-1){var r=t.coords().grid,s=e+i,h=this.widgets_below(t);this.remove_from_gridmap(r);h.each(n.proxy(function(t,i){var u=n(i),e=u.coords().grid,f=this.displacement_diff(e,r,o);f>0&&this.move_widget_down(u,f)},this));r.row=s;this.update_widget_position(r,t);t.attr("data-row",r.row);this.$changed=this.$changed.add(t);u.push(t)}};r.can_go_up_to_row=function(t,i,r){var l=this.gridmap,o=!0,f=[],h=t.row,u,s,e,c;if(this.for_each_column_occupied(t,function(n){var t=l[n];for(f[n]=[],u=h;u--;)if(this.is_empty(n,u)&&!this.is_placeholder_in(n,u))f[n].push(u);else break;if(!f[n].length)return o=!1,!0}),!o)return!1;for(u=r,u=1;u<h;u++){for(s=!0,e=0,c=f.length;e<c;e++)f[e]&&n.inArray(u,f[e])===-1&&(s=!1);if(s===!0){o=u;break}}return o};r.displacement_diff=function(n,t,i){var f=n.row,r=[],e=t.row+t.size_y,u;return this.for_each_column_occupied(n,function(n){for(var t=0,i=e;i<f;i++)this.is_empty(n,i)&&(t=t+1);r.push(t)}),u=Math.max.apply(Math,r),i=i-u,i>0?i:0};r.widgets_below=function(t){var r=n.isPlainObject(t)?t:t.coords().grid,u=this,e=this.gridmap,f=r.row+r.size_y-1,i=n([]);return this.for_each_column_occupied(r,function(t){u.for_each_widget_below(t,f,function(){if(!u.is_player(this)&&n.inArray(this,i)===-1)return i=i.add(this),!0})}),this.sort_by_row_asc(i)};r.set_cells_player_occupies=function(n,t){return this.remove_from_gridmap(this.placeholder_grid_data),this.placeholder_grid_data.col=n,this.placeholder_grid_data.row=t,this.add_to_gridmap(this.placeholder_grid_data,this.$player),this};r.empty_cells_player_occupies=function(){return this.remove_from_gridmap(this.placeholder_grid_data),this};r.can_go_up=function(n){var i=n.coords().grid,r=i.row,t=r-1,f=this.gridmap,u=!0;return r===1?!1:(this.for_each_column_occupied(i,function(n){var i=this.is_widget(n,t);if(this.is_occupied(n,t)||this.is_player(n,t)||this.is_placeholder_in(n,t)||this.is_player_in(n,t))return u=!1,!0}),u)};r.can_move_to=function(n,t,i,r){var s=this.gridmap,f=n.el,e={size_y:n.size_y,size_x:n.size_x,col:t,row:i},u=!0,o=t+n.size_x-1;return o>this.cols?!1:r&&r<i+n.size_y-1?!1:(this.for_each_cell_occupied(e,function(t,i){var r=this.is_widget(t,i);r&&(!n.el||r.is(f))&&(u=!1)}),u)};r.get_targeted_columns=function(n){for(var r=(n||this.player_grid_data.col)+(this.player_grid_data.size_x-1),i=[],t=n;t<=r;t++)i.push(t);return i};r.get_targeted_rows=function(n){for(var r=(n||this.player_grid_data.row)+(this.player_grid_data.size_y-1),i=[],t=n;t<=r;t++)i.push(t);return i};r.get_cells_occupied=function(n){var i={cols:[],rows:[]},t,r,u;for(arguments[1]instanceof jQuery&&(n=arguments[1].coords().grid),t=0;t<n.size_x;t++)r=n.col+t,i.cols.push(r);for(t=0;t<n.size_y;t++)u=n.row+t,i.rows.push(u);return i};r.for_each_cell_occupied=function(n,t){return this.for_each_column_occupied(n,function(i){this.for_each_row_occupied(n,function(n){t.call(this,i,n)})}),this};r.for_each_column_occupied=function(n,t){for(var r,i=0;i<n.size_x;i++)r=n.col+i,t.call(this,r,n)};r.for_each_row_occupied=function(n,t){for(var r,i=0;i<n.size_y;i++)r=n.row+i,t.call(this,r,n)};r._traversing_widgets=function(t,i,r,u,f){var o=this.gridmap,s,a,c,l;if(o[r]){c=t+"/"+i;arguments[2]instanceof jQuery&&(l=arguments[2].coords().grid,r=l.col,u=l.row,f=arguments[3]);var h=[],e=u,v={"for_each/above":function(){while(e--)if(e>0&&this.is_widget(r,e)&&n.inArray(o[r][e],h)===-1&&(s=f.call(o[r][e],r,e),h.push(o[r][e]),s))break},"for_each/below":function(){for(e=u+1,a=o[r].length;e<a;e++)if(this.is_widget(r,e)&&n.inArray(o[r][e],h)===-1&&(s=f.call(o[r][e],r,e),h.push(o[r][e]),s))break}};v[c]&&v[c].call(this)}};r.for_each_widget_above=function(n,t,i){return this._traversing_widgets("for_each","above",n,t,i),this};r.for_each_widget_below=function(n,t,i){return this._traversing_widgets("for_each","below",n,t,i),this};r.get_highest_occupied_cell=function(){for(var i,n,r=this.gridmap,u=[],f=[],t=r.length-1;t>=1;t--)for(n=r[t].length-1;n>=1;n--)if(this.is_widget(t,n)){u.push(n);f[n]=t;break}return i=Math.max.apply(Math,u),this.highest_occupied_cell={col:f[i],row:i},this.highest_occupied_cell};r.get_widgets_from=function(t,i){var u=this.gridmap,r=n();return t&&(r=r.add(this.$widgets.filter(function(){var i=n(this).attr("data-col");return i===t||i>t}))),i&&(r=r.add(this.$widgets.filter(function(){var t=n(this).attr("data-row");return t===i||t>i}))),r};r.set_dom_grid_height=function(){var n=this.get_highest_occupied_cell().row+1;return this.$el.css("height",n*this.min_widget_height),this};r.generate_stylesheet=function(t){var e="",s=this.options.max_size_x,i,o,r,f;if(t||(t={}),t.cols||(t.cols=this.cols),t.rows||(t.rows=this.rows),t.namespace||(t.namespace=this.options.namespace),t.widget_base_dimensions||(t.widget_base_dimensions=this.options.widget_base_dimensions),t.widget_margins||(t.widget_margins=this.options.widget_margins),t.min_widget_width=t.widget_margins[0]*2+t.widget_base_dimensions[0],t.min_widget_height=t.widget_margins[1]*2+t.widget_base_dimensions[1],o=n.param(t),n.inArray(o,u.generated_stylesheets)>=0)return!1;for(u.generated_stylesheets.push(o),i=t.cols;i>=0;i--)e+=t.namespace+' [data-col="'+(i+1)+'"] { left:'+(i*t.widget_base_dimensions[0]+i*t.widget_margins[0]+(i+1)*t.widget_margins[0])+"px;} ";for(i=t.rows;i>=0;i--)e+=t.namespace+' [data-row="'+(i+1)+'"] { top:'+(i*t.widget_base_dimensions[1]+i*t.widget_margins[1]+(i+1)*t.widget_margins[1])+"px;} ";for(r=1;r<=t.rows;r++)e+=t.namespace+' [data-sizey="'+r+'"] { height:'+(r*t.widget_base_dimensions[1]+(r-1)*t.widget_margins[1]*2)+"px;}";for(f=1;f<=s;f++)e+=t.namespace+' [data-sizex="'+f+'"] { width:'+(f*t.widget_base_dimensions[0]+(f-1)*t.widget_margins[0]*2)+"px;}";return this.add_style_tag(e)};r.add_style_tag=function(n){var r=i,t=r.createElement("style");return r.getElementsByTagName("head")[0].appendChild(t),t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(i.createTextNode(n)),this.$style_tags=this.$style_tags.add(t),this};r.remove_style_tags=function(){this.$style_tags.remove()};r.generate_faux_grid=function(n,t){this.faux_grid=[];this.gridmap=[];for(var r,i=t;i>0;i--)for(this.gridmap[i]=[],r=n;r>0;r--)this.add_faux_cell(r,i);return this};r.add_faux_cell=function(t,i){var r=n({left:this.baseX+(i-1)*this.min_widget_width,top:this.baseY+(t-1)*this.min_widget_height,width:this.min_widget_width,height:this.min_widget_height,col:i,row:t,original_col:i,original_row:t}).coords();return n.isArray(this.gridmap[i])||(this.gridmap[i]=[]),this.gridmap[i][t]=!1,this.faux_grid.push(r),this};r.add_faux_rows=function(n){for(var t,r=this.rows,u=r+(n||1),i=u;i>r;i--)for(t=this.cols;t>=1;t--)this.add_faux_cell(i,t);return this.rows=u,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this};r.add_faux_cols=function(n){for(var t,r=this.cols,u=r+(n||1),i=r;i<u;i++)for(t=this.rows;t>=1;t--)this.add_faux_cell(t,i);return this.cols=u,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this};r.recalculate_faux_grid=function(){var i=this.$wrapper.width();return this.baseX=(n(t).width()-i)/2,this.baseY=this.$wrapper.offset().top,n.each(this.faux_grid,n.proxy(function(n,t){this.faux_grid[n]=t.update({left:this.baseX+(t.data.col-1)*this.min_widget_width,top:this.baseY+(t.data.row-1)*this.min_widget_height})},this)),this};r.get_widgets_from_DOM=function(){return this.$widgets.each(n.proxy(function(t,i){this.register_widget(n(i))},this)),this};r.generate_grid_and_stylesheet=function(){var u=this.$wrapper.width(),o=this.$wrapper.height(),s=this.options.max_cols,f=Math.floor(u/this.min_widget_width)+this.options.extra_cols,i=this.$widgets.map(function(){return n(this).attr("data-col")}).get(),e,r;return i.length||(i=[0]),e=Math.max.apply(Math,i),r=this.options.extra_rows,this.$widgets.each(function(t,i){r+=+n(i).attr("data-sizey")}),this.cols=f,this.rows=Math.max(r,this.options.min_rows),this.baseX=(n(t).width()-u)/2,this.baseY=this.$wrapper.offset().top,this.container_width=this.cols*this.options.widget_base_dimensions[0]+(this.cols-1)*2*this.options.widget_margins[0],this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this.generate_faux_grid(this.rows,this.cols)};r.destroy=function(){return n(t).unbind(".gridster"),this.drag_api&&this.drag_api.destroy(),this.remove_style_tags(),this.$el.remove(),this};n.fn.gridster=function(t){return this.each(function(){n(this).data("gridster")||n(this).data("gridster",new u(this,t))})};n.Gridster=r}(jQuery,window,document),function(n){var t=n.Gridster;t.widgets_in_col=function(n){if(!this.gridmap[n])return!1;for(var t=this.gridmap[n].length-1;t>=0;t--)if(this.is_widget(n,t)!==!1)return!0;return!1};t.widgets_in_row=function(n){for(var t=this.gridmap.length;t>=1;t--)if(this.is_widget(t,n)!==!1)return!0;return!1};t.widgets_in_range=function(t,i,r,u){for(var h=n([]),o,s,f,e=r;e>=t;e--)for(o=u;o>=i;o--)s=this.is_widget(e,o),s!==!1&&(f=s.data("coords").grid,f.col>=t&&f.col<=r&&f.row>=i&&f.row<=u&&(h=h.add(s)));return h};t.get_bottom_most_occupied_cell=function(){var n=0,t=0;return this.for_each_cell(function(i,r,u){i&&u>n&&(n=u,t=r)}),{col:t,row:n}};t.get_right_most_occupied_cell=function(){var n=0,t=0;return this.for_each_cell(function(i,r,u){if(i)return n=u,t=r,!1}),{col:t,row:n}};t.for_each_cell=function(n,t){var u,f,i,r,e;t||(t=this.gridmap);u=t.length;f=t[1].length;n:for(i=u-1;i>=1;i--)for(r=f-1;r>=1;r--)if(e=t[i]&&t[i][r],n)if(n.call(this,e,i,r)===!1)break n;else continue};t.next_position_in_range=function(n,t,i){var r,u,s;n||(n=1);t||(t=1);var e=this.gridmap,h=e.length,f=[],o;for(r=1;r<h;r++)for(o=i||e[r].length,u=1;u<=o;u++)s=this.can_move_to({size_x:n,size_y:t},r,u,i),s&&f.push({col:r,row:u,size_y:t,size_x:n});return f.length>=1?this.sort_by_col_asc(f)[0]:!1};t.closest_to_right=function(n,t){var r,i;if(!this.gridmap[n])return!1;for(r=this.gridmap.length-1,i=n;i<=r;i++)if(this.gridmap[i][t])return{col:i,row:t};return!1};t.closest_to_left=function(n,t){var r=this.gridmap.length-1,i;if(!this.gridmap[n])return!1;for(i=n;i>=1;i--)if(this.gridmap[i][t])return{col:i,row:t};return!1}}(jQuery,window,document),function(n){function t(n,t,i){if(n.createTextRange){var r=n.createTextRange();r.moveStart("character",t);r.moveEnd("character",i||t);r.select()}else n.selectionStart&&(n.focus(),n.setSelectionRange(t,i||t))}function i(n){if(typeof n.selectionStart=="number")return n.selectionStart;if(document.selection){var t=document.selection.createRange(),i=t.text.length;return t.moveStart("character",-n.value.length),t.text.length-i}}n.fn.insertAtCaret=function(i){var r=n(this).get(0),o,s,h,f,e,u,c;if(document.selection){if(r.focus(),o=r.value.replace(/\r\n/g,"\n"),s=document.selection.createRange(),s.parentElement()!=r)return!1;for(s.text=i,h=tmp=r.value.replace(/\r\n/g,"\n"),f=0;f<o.length;f++)if(o.charAt(f)!=h.charAt(f))break;for(e=0,u=0;tmp.match(i)&&(tmp=tmp.replace(i,""))&&e<=f;e=u+i.length)u=h.indexOf(i,e)}else r.selectionStart&&(u=r.selectionStart,c=r.selectionEnd,r.value=r.value.substr(0,u)+i+r.value.substr(c,r.value.length));return u?t(r,u+i.length):r.value=i+r.value,n(this).change(),this};n.fn.replaceTextAt=function(i,r,u){var s=n(this).get(0),f=n(this).val(),e=f.substr(0,i),h=f.substr(r),o;return n(this).val(e+u+h),o=e.length+u.length,t(s,o),n(this).change(),this};n.fn.setCaretPosition=function(i,r){var u=n(this).get(0);return u.focus(),t(u,i,r),this};n.fn.getCaretPosition=function(){var t=n(this).get(0);return n(t).focus(),i(t)};n.fn.getSelectedText=function(){var t=n(this).get(0);return typeof t.selectionStart=="number"?n(t).val().substr(t.selectionStart,t.selectionEnd-t.selectionStart):document.getSelection?document.getSelection():window.getSelection?window.getSelection():void 0}}(jQuery);
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.3 - 2014-06-06
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2014 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)})(function(n){if(!n.support.cors&&n.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,i=/^get|post$/i,r=new RegExp("^"+location.protocol,"i");n.ajaxTransport("* text html xml json",function(u,f){if(u.crossDomain&&u.async&&i.test(u.type)&&t.test(u.url)&&r.test(u.url)){var e=null;return{send:function(t,i){var o="",r=(f.dataType||"").toLowerCase();e=new XDomainRequest;/^\d+$/.test(f.timeout)&&(e.timeout=f.timeout);e.ontimeout=function(){i(500,"timeout")};e.onload=function(){var o="Content-Length: "+e.responseText.length+"\r\nContent-Type: "+e.contentType,u={code:200,message:"success"},f={text:e.responseText},t;try{if(r==="html"||/text\/html/i.test(e.contentType))f.html=e.responseText;else if(r==="json"||r!=="text"&&/\/json/i.test(e.contentType))try{f.json=n.parseJSON(e.responseText)}catch(h){u.code=500;u.message="parseerror"}else if(r==="xml"||r!=="text"&&/\/xml/i.test(e.contentType)){t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1;try{t.loadXML(e.responseText)}catch(h){t=undefined}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length){u.code=500;u.message="parseerror";throw"Invalid XML: "+e.responseText;}f.xml=t}}catch(s){throw s;}finally{i(u.code,u.message,f,o)}};e.onprogress=function(){};e.onerror=function(){i(500,"error",{text:e.responseText})};f.data&&(o=n.type(f.data)==="string"?f.data:n.param(f.data));e.open(u.type,u.url);e.send(o)},abort:function(){e&&e.abort()}}}})}});!function(n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else{if("function"==typeof define&&define.amd)return define([],n);this.CodeMirror=n()}}(function(){"use strict";function n(t,i){var r,f,u;if(!(this instanceof n))return new n(t,i);this.options=i=i||{};du(pk,i,!1);po(i);r=i.value;"string"==typeof r&&(r=new g(r,i.mode));this.doc=r;f=this.display=new ky(t,r);f.wrapper.CodeMirror=this;rc(this);ic(this);i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");i.autofocus&&!yh&&it(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new fh};ni&&setTimeout(yt(ht,this,!0),20);rw(this);nk();u=this;dt(this,function(){var n,t;u.curOp.forceUpdate=!0;ev(u,r);i.autofocus&&!yh||fi()==f.input?setTimeout(yt(ls,u),20):se(u);for(n in pr)pr.hasOwnProperty(n)&&pr[n](u,i[n],oy);for(t=0;t<fo.length;++t)fo[t](u)})}function ky(n,t){var r=this,u=r.input=i("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");d?u.style.width="1000px":u.setAttribute("wrap","off");uf&&(u.style.border="1px solid black");u.setAttribute("autocorrect","off");u.setAttribute("autocapitalize","off");u.setAttribute("spellcheck","false");r.inputDiv=i("div",[u],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");r.scrollbarH=i("div",[i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.scrollbarV=i("div",[i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");r.scrollbarFiller=i("div",null,"CodeMirror-scrollbar-filler");r.gutterFiller=i("div",null,"CodeMirror-gutter-filler");r.lineDiv=i("div",null,"CodeMirror-code");r.selectionDiv=i("div",null,null,"position: relative; z-index: 1");r.cursorDiv=i("div",null,"CodeMirror-cursors");r.measure=i("div",null,"CodeMirror-measure");r.lineMeasure=i("div",null,"CodeMirror-measure");r.lineSpace=i("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");r.mover=i("div",[i("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative");r.sizer=i("div",[r.mover],"CodeMirror-sizer");r.heightForcer=i("div",null,null,"position: absolute; height: "+ii+"px; width: 1px;");r.gutters=i("div",null,"CodeMirror-gutters");r.lineGutter=null;r.scroller=i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll");r.scroller.setAttribute("tabIndex","-1");r.wrapper=i("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror");rf&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0);uf&&(u.style.width="0px");d||(r.scroller.draggable=!0);vh&&(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute");rf&&(r.scrollbarH.style.minHeight=r.scrollbarV.style.minWidth="18px");n.appendChild?n.appendChild(r.wrapper):n(r.wrapper);r.viewFrom=r.viewTo=t.first;r.view=[];r.externalMeasured=null;r.viewOffset=0;r.lastSizeC=0;r.updateLineNumbers=null;r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null;r.prevInput="";r.alignWidgets=!1;r.pollingFast=!1;r.poll=new fh;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null;r.inaccurateSelection=!1;r.maxLine=null;r.maxLineLength=0;r.maxLineChanged=!1;r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null;r.shift=!1;r.selForContextMenu=null}function lo(t){t.doc.mode=n.getMode(t.options,t.doc.modeOption);gr(t)}function gr(n){n.doc.iter(function(n){n.stateAfter&&(n.stateAfter=null);n.styles&&(n.styles=null)});n.doc.frontier=n.doc.first;ru(n,100);n.state.modeGen++;n.curOp&&rt(n)}function dy(n){n.options.lineWrapping?(de(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth=""):(ke(n.display.wrapper,"CodeMirror-wrap"),yo(n));ao(n);rt(n);fu(n);setTimeout(function(){pf(n)},100)}function nc(n){var t=pi(n.display),i=n.options.lineWrapping,r=i&&Math.max(5,n.display.scroller.clientWidth/eu(n.display)-3);return function(u){var e,f;if(bi(n.doc,u))return 0;if(e=0,u.widgets)for(f=0;f<u.widgets.length;f++)u.widgets[f].height&&(e+=u.widgets[f].height);return i?e+(Math.ceil(u.text.length/r)||1)*t:e+t}}function ao(n){var t=n.doc,i=nc(n);t.iter(function(n){var t=i(n);t!=n.height&&lt(n,t)})}function tc(n){var i=wt[n.options.keyMap],t=i.style;n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function ic(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-");fu(n)}function nu(n){rc(n);rt(n);setTimeout(function(){bo(n)},20)}function rc(n){var r=n.display.gutters,e=n.options.gutters,t,u,f;for(gi(r),t=0;t<e.length;++t)u=e[t],f=r.appendChild(i("div",null,"CodeMirror-gutter "+u)),"CodeMirror-linenumbers"==u&&(n.display.lineGutter=f,f.style.width=(n.display.lineNumWidth||1)+"px");r.style.display=t?"":"none";vo(n)}function vo(n){var t=n.display.gutters.offsetWidth;n.display.sizer.style.marginLeft=t+"px";n.display.scrollbarH.style.left=n.options.fixedGutter?t+"px":0}function yf(n){var u,r,t,i;if(0==n.height)return 0;for(r=n.text.length,t=n;u=ya(t);)i=u.find(0,!0),t=i.from.line,r+=i.from.ch-i.to.ch;for(t=n;u=vu(t);)i=u.find(0,!0),r-=t.text.length-i.from.ch,t=i.to.line,r+=t.text.length-i.to.ch;return r}function yo(n){var t=n.display,i=n.doc;t.maxLine=r(i,i.first);t.maxLineLength=yf(t.maxLine);t.maxLineChanged=!0;i.iter(function(n){var i=yf(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}function po(n){var t=p(n.gutters,"CodeMirror-linenumbers");-1==t&&n.lineNumbers?n.gutters=n.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!n.lineNumbers&&(n.gutters=n.gutters.slice(0),n.gutters.splice(t,1))}function uc(n){var t=n.display.scroller;return{clientHeight:t.clientHeight,barHeight:n.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,barWidth:n.display.scrollbarH.clientWidth,docHeight:Math.round(n.doc.height+gc(n.display))}}function pf(n,t){var s,f;t||(t=uc(n));var i=n.display,o=t.docHeight+ii,r=t.scrollWidth>t.clientWidth,u=o>t.clientHeight;(u?(i.scrollbarV.style.display="block",i.scrollbarV.style.bottom=r?nf(i.measure)+"px":"0",i.scrollbarV.firstChild.style.height=Math.max(0,o-t.clientHeight+(t.barHeight||i.scrollbarV.clientHeight))+"px"):(i.scrollbarV.style.display="",i.scrollbarV.firstChild.style.height="0"),r?(i.scrollbarH.style.display="block",i.scrollbarH.style.right=u?nf(i.measure)+"px":"0",i.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||i.scrollbarH.clientWidth)+"px"):(i.scrollbarH.style.display="",i.scrollbarH.firstChild.style.width="0"),r&&u?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=i.scrollbarFiller.style.width=nf(i.measure)+"px"):i.scrollbarFiller.style.display="",r&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=nf(i.measure)+"px",i.gutterFiller.style.width=i.gutters.offsetWidth+"px"):i.gutterFiller.style.display="",!n.state.checkedOverlayScrollbar&&t.clientHeight>0)&&(0===nf(i.measure)&&(s=ei&&!lk?"12px":"18px",i.scrollbarV.style.minWidth=i.scrollbarH.style.minHeight=s,f=function(t){ku(t)!=i.scrollbarV&&ku(t)!=i.scrollbarH&&a(n,al)(t)},e(i.scrollbarV,"mousedown",f),e(i.scrollbarH,"mousedown",f)),n.state.checkedOverlayScrollbar=!0)}function wo(n,t,i){var u=i&&null!=i.top?i.top:n.scroller.scrollTop,f,e;u=Math.floor(u-te(n));var h=i&&null!=i.bottom?i.bottom:u+n.wrapper.clientHeight,o=di(t,u),s=di(t,h);if(i&&i.ensure){if(f=i.ensure.from.line,e=i.ensure.to.line,o>f)return{from:f,to:di(t,gt(r(t,f))+n.wrapper.clientHeight)};if(Math.min(e,t.lastLine())>=s)return{from:di(t,gt(r(t,e))-n.wrapper.clientHeight),to:e}}return{from:o,to:s}}function bo(n){var t=n.display,r=t.view,u,f;if(t.alignWidgets||t.gutters.firstChild&&n.options.fixedGutter){for(var e=go(t)-t.scroller.scrollLeft+n.doc.scrollLeft,s=t.gutters.offsetWidth,o=e+"px",i=0;i<r.length;i++)if(!r[i].hidden&&(n.options.fixedGutter&&r[i].gutter&&(r[i].gutter.style.left=o),u=r[i].alignable,u))for(f=0;f<u.length;f++)u[f].style.left=o;n.options.fixedGutter&&(t.gutters.style.left=e+s+"px")}}function gy(n){if(!n.options.lineNumbers)return!1;var u=n.doc,r=ko(n.options,u.first+u.size-1),t=n.display;if(r.length!=t.lineNumChars){var f=t.measure.appendChild(i("div",[i("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=f.firstChild.offsetWidth,o=f.offsetWidth-e;return t.lineGutter.style.width="",t.lineNumInnerWidth=Math.max(e,t.lineGutter.offsetWidth-o),t.lineNumWidth=t.lineNumInnerWidth+o,t.lineNumChars=t.lineNumInnerWidth?r.length:-1,t.lineGutter.style.width=t.lineNumWidth+"px",vo(n),!0}return!1}function ko(n,t){return String(n.lineNumberFormatter(t+n.firstLineNumber))}function go(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function wf(n,t,i){for(var o,r,f,s=n.display.viewFrom,h=n.display.viewTo,u=wo(n.display,n.doc,t),e=!0;;e=!1){if(o=n.display.scroller.clientWidth,!np(n,u,i))break;if(f=!0,n.display.maxLineChanged&&!n.options.lineWrapping&&tp(n),r=uc(n),us(n),ip(n,r),pf(n,r),d&&n.options.lineWrapping&&rp(n,r),e&&n.options.lineWrapping&&o!=n.display.scroller.clientWidth)i=!0;else if(i=!1,t&&null!=t.top&&(t={top:Math.min(r.docHeight-ii-r.clientHeight,t.top)}),u=wo(n.display,n.doc,t),u.from>=n.display.viewFrom&&u.to<=n.display.viewTo)break}return n.display.updateLineNumbers=null,f&&(y(n,"update",n),(n.display.viewFrom!=s||n.display.viewTo!=h)&&y(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo)),f}function np(n,t,i){var u=n.display,s=n.doc,c,h,o;if(!u.wrapper.offsetWidth)return ui(n),void 0;if(!(!i&&t.from>=u.viewFrom&&t.to<=u.viewTo&&0==ll(n))){gy(n)&&ui(n);var a=ec(n),l=s.first+s.size,f=Math.max(t.from-n.options.viewportMargin,s.first),e=Math.min(l,t.to+n.options.viewportMargin);if(u.viewFrom<f&&f-u.viewFrom<20&&(f=Math.max(s.first,u.viewFrom)),u.viewTo>e&&u.viewTo-e<20&&(e=Math.min(l,u.viewTo)),oi&&(f=ks(n.doc,f),e=wa(n.doc,e)),c=f!=u.viewFrom||e!=u.viewTo||u.lastSizeC!=u.wrapper.clientHeight,iw(n,f,e),u.viewOffset=gt(r(n.doc,u.viewFrom)),n.display.mover.style.top=u.viewOffset+"px",h=ll(n),c||0!=h||i)return o=fi(),h>4&&(u.lineDiv.style.display="none"),fp(n,u.updateLineNumbers,a),h>4&&(u.lineDiv.style.display=""),o&&fi()!=o&&o.offsetHeight&&o.focus(),gi(u.cursorDiv),gi(u.selectionDiv),c&&(u.lastSizeC=u.wrapper.clientHeight,ru(n,400)),up(n),!0}}function tp(n){var t=n.display,u=tl(n,t.maxLine,t.maxLine.text.length).left,i,r;t.maxLineChanged=!1;i=Math.max(0,u+3);r=Math.max(0,t.sizer.offsetLeft+i+ii-t.scroller.clientWidth);t.sizer.style.minWidth=i+"px";r<n.doc.scrollLeft&&or(n,Math.min(t.scroller.scrollLeft,r),!0)}function ip(n,t){n.display.sizer.style.minHeight=n.display.heightForcer.style.top=t.docHeight+"px";n.display.gutters.style.height=Math.max(t.docHeight,t.clientHeight-ii)+"px"}function rp(n,t){n.display.sizer.offsetWidth+n.display.gutters.offsetWidth<n.display.scroller.clientWidth-1&&(n.display.sizer.style.minHeight=n.display.heightForcer.style.top="0px",n.display.gutters.style.height=t.docHeight+"px")}function up(n){for(var i,t,e,o,s,u,r=n.display,h=r.lineDiv.offsetTop,f=0;f<r.view.length;f++)if(t=r.view[f],!t.hidden&&(rf?(e=t.node.offsetTop+t.node.offsetHeight,i=e-h,h=e):(o=t.node.getBoundingClientRect(),i=o.bottom-o.top),s=t.line.height-i,2>i&&(i=pi(r)),(s>.001||-.001>s)&&(lt(t.line,i),fc(t.line),t.rest)))for(u=0;u<t.rest.length;u++)fc(t.rest[u])}function fc(n){if(n.widgets)for(var t=0;t<n.widgets.length;++t)n.widgets[t].height=n.widgets[t].node.offsetHeight}function ec(n){for(var i=n.display,u={},f={},t=i.gutters.firstChild,r=0;t;t=t.nextSibling,++r)u[n.options.gutters[r]]=t.offsetLeft,f[n.options.gutters[r]]=t.offsetWidth;return{fixedPos:go(i),gutterTotalWidth:i.gutters.offsetWidth,gutterLeft:u,gutterWidth:f,wrapperWidth:i.wrapper.clientWidth}}function fp(n,t,i){function h(t){var i=t.nextSibling;return d&&ei&&n.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var r,s,a,e=n.display,v=n.options.lineNumbers,c=e.lineDiv,u=c.firstChild,l=e.view,f=e.viewFrom,o=0;o<l.length;o++){if(r=l[o],!r.hidden)if(r.node){for(;u!=r.node;)u=h(u);s=v&&null!=t&&f>=t&&r.lineNumber;r.changes&&(p(r.changes,"gutter")>-1&&(s=!1),oc(n,r,f,i));s&&(gi(r.lineNumber),r.lineNumber.appendChild(document.createTextNode(ko(n.options,f))));u=r.node.nextSibling}else a=hp(n,r,f,i),c.insertBefore(a,u);f+=r.size}for(;u;)u=h(u)}function oc(n,t,i,r){for(var u,f=0;f<t.changes.length;f++)u=t.changes[f],"text"==u?op(n,t):"gutter"==u?hc(n,t,i,r):"class"==u?ns(t):"widget"==u&&sp(t,r);t.changes=null}function bf(n){return n.node==n.text&&(n.node=i("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),rf&&(n.node.style.zIndex=2)),n.node}function ep(n){var t=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass,r;(t&&(t+=" CodeMirror-linebackground"),n.background)?t?n.background.className=t:(n.background.parentNode.removeChild(n.background),n.background=null):t&&(r=bf(n),n.background=r.insertBefore(i("div",null,t),r.firstChild))}function sc(n,t){var i=n.display.externalMeasured;return i&&i.line==t.line?(n.display.externalMeasured=null,t.measure=i.measure,i.built):rv(n,t)}function op(n,t){var r=t.text.className,i=sc(n,t);t.text==t.node&&(t.node=i.pre);t.text.parentNode.replaceChild(i.pre,t.text);t.text=i.pre;i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,ns(t)):r&&(t.text.className=r)}function ns(n){ep(n);n.line.wrapClass?bf(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var t=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=t||""}function hc(n,t,r,u){var f,c,s,o,e,h;if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),f=t.line.gutterMarkers,(n.options.lineNumbers||f)&&(c=bf(t),s=t.gutter=c.insertBefore(i("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(n.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px"),t.text),!n.options.lineNumbers||f&&f["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(i("div",ko(n.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+u.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),f))for(o=0;o<n.options.gutters.length;++o)e=n.options.gutters[o],h=f.hasOwnProperty(e)&&f[e],h&&s.appendChild(i("div",[h],"CodeMirror-gutter-elt","left: "+u.gutterLeft[e]+"px; width: "+u.gutterWidth[e]+"px"))}function sp(n,t){var i,r;for(n.alignable&&(n.alignable=null),i=n.node.firstChild;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&n.node.removeChild(i);cc(n,t)}function hp(n,t,i,r){var u=sc(n,t);return t.text=t.node=u.pre,u.bgClass&&(t.bgClass=u.bgClass),u.textClass&&(t.textClass=u.textClass),ns(t),hc(n,t,i,r),cc(t,r),t.node}function cc(n,t){if(lc(n.line,n,t,!0),n.rest)for(var i=0;i<n.rest.length;i++)lc(n.rest[i],n,t,!1)}function lc(n,t,r,u){var f,e;if(n.widgets)for(var s=bf(t),o=0,h=n.widgets;o<h.length;++o)f=h[o],e=i("div",[f.node],"CodeMirror-linewidget"),f.handleMouseEvents||(e.ignoreEvents=!0),cp(f,e,t,r),u&&f.above?s.insertBefore(e,t.gutter||t.text):s.appendChild(e),y(f,"redraw")}function cp(n,t,i,r){if(n.noHScroll){(i.alignable||(i.alignable=[])).push(t);var u=r.wrapperWidth;t.style.left=r.fixedPos+"px";n.coverGutter||(u-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px");t.style.width=u+"px"}n.coverGutter&&(t.style.zIndex=5,t.style.position="relative",n.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function ts(n){return t(n.line,n.ch)}function is(n,t){return o(n,t)<0?t:n}function rs(n,t){return o(n,t)<0?n:t}function bt(n,t){this.ranges=n;this.primIndex=t}function h(n,t){this.anchor=n;this.head=t}function st(n,t){var c=n[t],i,u,r;for(n.sort(function(n,t){return o(n.from(),t.from())}),t=p(n,c),i=1;i<n.length;i++)if(u=n[i],r=n[i-1],o(r.to(),u.from())>=0){var f=rs(r.from(),u.from()),e=is(r.to(),u.to()),s=r.empty()?u.from()==u.head:r.from()==r.head;t>=i&&--t;n.splice(--i,2,new h(s?e:f,s?f:e))}return new bt(n,t)}function yi(n,t){return new bt([new h(n,t||n)],0)}function ac(n,t){return Math.max(n.first,Math.min(t,n.first+n.size-1))}function u(n,i){if(i.line<n.first)return t(n.first,0);var u=n.first+n.size-1;return i.line>u?t(u,r(n,u).text.length):lp(i,r(n,i.line).text.length)}function lp(n,i){var r=n.ch;return null==r||r>i?t(n.line,i):0>r?t(n.line,0):n}function tu(n,t){return t>=n.first&&t<n.first+n.size}function ap(n,t){for(var r=[],i=0;i<t.length;i++)r[i]=u(n,t[i]);return r}function iu(n,t,i,r){var u,f;return n.cm&&n.cm.display.shift||n.extend?(u=t.anchor,r&&(f=o(i,u)<0,f!=o(r,u)<0?(u=i,i=r):f!=o(i,r)<0&&(i=r)),new h(u,i)):new h(r||i,i)}function kf(n,t,i,r){k(n,new bt([iu(n,n.sel.primary(),t,i)],0),r)}function vc(n,t,i){for(var f,u=[],r=0;r<n.sel.ranges.length;r++)u[r]=iu(n,n.sel.ranges[r],t[r],null);f=st(u,n.sel.primIndex);k(n,f,i)}function yc(n,t,i,r){var u=n.sel.ranges.slice(0);u[t]=i;k(n,st(u,n.sel.primIndex),r)}function pc(n,t,i,r){k(n,yi(t,i),r)}function vp(n,t){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new h(u(n,t[i].anchor),u(n,t[i].head))}};return v(n,"beforeSelectionChange",n,i),n.cm&&v(n.cm,"beforeSelectionChange",n.cm,i),i.ranges!=t.ranges?st(i.ranges,i.ranges.length-1):t}function wc(n,t,i){var r=n.history.done,u=s(r);u&&u.ranges?(r[r.length-1]=t,df(n,t,i)):k(n,t,i)}function k(n,t,i){df(n,t,i);wb(n,n.sel,n.cm?n.cm.curOp.id:NaN,i)}function df(n,t,i){(ut(n,"beforeSelectionChange")||n.cm&&ut(n.cm,"beforeSelectionChange"))&&(t=vp(n,t));var r=o(t.primary().head,n.sel.primary().head)<0?-1:1;bc(n,dc(n,t,r,!0));i&&i.scroll===!1||!n.cm||hr(n.cm)}function bc(n,t){t.equals(n.sel)||(n.sel=t,n.cm&&(n.cm.curOp.updateInput=n.cm.curOp.selectionChanged=!0,yv(n.cm)),y(n,"cursorActivity",n))}function kc(n){bc(n,dc(n,n.sel,null,!1),ir)}function dc(n,t,i,r){for(var u,f=0;f<t.ranges.length;f++){var e=t.ranges[f],o=gf(n,e.anchor,i,r),s=gf(n,e.head,i,r);(u||o!=e.anchor||s!=e.head)&&(u||(u=t.ranges.slice(0,f)),u[f]=new h(o,s))}return u?st(u,t.primIndex):t}function gf(n,i,f,e){var w=!1,h=i,p=f||1,a,y,c,l,s;n.cantEdit=!1;n:for(;;){if(a=r(n,h.line),a.markedSpans)for(y=0;y<a.markedSpans.length;++y)if(c=a.markedSpans[y],l=c.marker,(null==c.from||(l.inclusiveLeft?c.from<=h.ch:c.from<h.ch))&&(null==c.to||(l.inclusiveRight?c.to>=h.ch:c.to>h.ch))){if(e&&(v(l,"beforeCursorEnter"),l.explicitlyCleared)){if(a.markedSpans){--y;continue}break}if(!l.atomic)continue;if(s=l.find(0>p?-1:1),0==o(s,h)&&(s.ch+=p,s.ch<0?s=s.line>n.first?u(n,t(s.line-1)):null:s.ch>a.text.length&&(s=s.line<n.first+n.size-1?t(s.line+1,0):null),!s)){if(w)return e?(n.cantEdit=!0,t(n.first,0)):gf(n,i,f,!0);w=!0;s=i;p=-p}h=s;continue n}return h}}function us(n){for(var i,f,t=n.display,r=n.doc,e=document.createDocumentFragment(),o=document.createDocumentFragment(),u=0;u<r.sel.ranges.length;u++)i=r.sel.ranges[u],f=i.empty(),(f||n.options.showCursorWhenSelecting)&&yp(n,i,e),f||pp(n,i,o);if(n.options.moveInputWithCursor){var s=kt(n,r.sel.primary().head,"div"),h=t.wrapper.getBoundingClientRect(),c=t.lineDiv.getBoundingClientRect(),l=Math.max(0,Math.min(t.wrapper.clientHeight-10,s.top+c.top-h.top)),a=Math.max(0,Math.min(t.wrapper.clientWidth-10,s.left+c.left-h.left));t.inputDiv.style.top=l+"px";t.inputDiv.style.left=a+"px"}pt(t.cursorDiv,e);pt(t.selectionDiv,o)}function yp(n,t,r){var u=kt(n,t.head,"div"),e=r.appendChild(i("div"," ","CodeMirror-cursor")),f;(e.style.left=u.left+"px",e.style.top=u.top+"px",e.style.height=Math.max(0,u.bottom-u.top)*n.options.cursorHeight+"px",u.other)&&(f=r.appendChild(i("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),f.style.display="",f.style.left=u.other.left+"px",f.style.top=u.other.top+"px",f.style.height=.85*(u.other.bottom-u.other.top)+"px")}function pp(n,u,f){function o(n,t,r,u){0>t&&(t=0);t=Math.round(t);u=Math.round(u);p.appendChild(i("div",null,"CodeMirror-selected","position: absolute; left: "+n+"px; top: "+t+"px; width: "+(null==r?b-n:r)+"px; height: "+(u-t)+"px"))}function a(i,u,f){function l(r,u){return os(n,t(i,r),"div",c,u)}var e,s,c=r(v,i),a=c.text.length;return uk(at(c),u||0,null==f?a:f,function(n,t,i){var r,v,y,c=l(n,"left"),p;n==t?(r=c,v=y=c.left):((r=l(t-1,"right"),"rtl"==i)&&(p=c,c=r,r=p),v=c.left,y=r.right);null==u&&0==n&&(v=h);r.top-c.top>3&&(o(v,c.top,null,c.bottom),v=h,c.bottom<r.top&&o(v,c.bottom,null,r.top));null==f&&t==a&&(y=b);(!e||c.top<e.top||c.top==e.top&&c.left<e.left)&&(e=c);(!s||r.bottom>s.bottom||r.bottom==s.bottom&&r.right>s.right)&&(s=r);h+1>v&&(v=h);o(v,r.top,y-v,r.bottom)}),{start:e,end:s}}var d=n.display,v=n.doc,p=document.createDocumentFragment(),w=nl(n.display),h=w.left,b=d.lineSpace.offsetWidth-w.right,c=u.from(),l=u.to();if(c.line==l.line)a(c.line,c.ch,l.ch);else{var k=r(v,c.line),g=r(v,l.line),y=ct(k)==ct(g),e=a(c.line,c.ch,y?k.text.length+1:null).end,s=a(l.line,y?0:null,l.ch).start;y&&(e.top<s.top-2?(o(e.right,e.top,null,e.bottom),o(h,s.top,s.left,s.bottom)):o(e.right,e.top,s.left-e.right,e.bottom));e.bottom<s.top&&o(h,e.bottom,null,s.top)}f.appendChild(p)}function ne(n){var t,i;n.state.focused&&(t=n.display,clearInterval(t.blinker),i=!0,t.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0&&(t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},n.options.cursorBlinkRate)))}function ru(n,t){n.doc.mode.startState&&n.doc.frontier<n.display.viewTo&&n.state.highlight.set(t,yt(wp,n))}function wp(n){var t=n.doc,r,i;(t.frontier<t.first&&(t.frontier=t.first),t.frontier>=n.display.viewTo)||(r=+new Date+n.options.workTime,i=kr(t.mode,uu(n,t.frontier)),dt(n,function(){t.iter(t.frontier,Math.min(t.first+t.size,n.display.viewTo+500),function(u){var f,o,s,e;if(t.frontier>=n.display.viewFrom){for(f=u.styles,o=nv(n,u,i,!0),u.styles=o.styles,o.classes?u.styleClasses=o.classes:u.styleClasses&&(u.styleClasses=null),s=!f||f.length!=u.styles.length,e=0;!s&&e<f.length;++e)s=f[e]!=u.styles[e];s&&ri(n,t.frontier,"text");u.stateAfter=kr(t.mode,i)}else nh(n,u.text,i),u.stateAfter=0==t.frontier%5?kr(t.mode,i):null;return++t.frontier,+new Date>r?(ru(n,n.options.workDelay),!0):void 0})}))}function bp(n,t,i){for(var o,s,h,e,f=n.doc,c=i?-1:t-(n.doc.mode.innerMode?1e3:100),u=t;u>c;--u){if(u<=f.first)return f.first;if(o=r(f,u-1),o.stateAfter&&(!i||u<=f.frontier))return u;s=ot(o.text,null,n.options.tabSize);(null==e||h>s)&&(e=u-1,h=s)}return e}function uu(n,t,i){var f=n.doc,o=n.display,u,e;return f.mode.startState?(u=bp(n,t,i),e=u>f.first&&r(f,u-1).stateAfter,e=e?kr(f.mode,e):sy(f.mode),f.iter(u,t,function(i){nh(n,i.text,e);var r=u==t-1||0==u%5||u>=o.viewFrom&&u<o.viewTo;i.stateAfter=r?kr(f.mode,e):null;++u}),i&&(f.frontier=u),e):!0}function te(n){return n.lineSpace.offsetTop}function gc(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function nl(n){if(n.cachedPaddingH)return n.cachedPaddingH;var r=pt(n.measure,i("pre","x")),u=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,t={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};return isNaN(t.left)||isNaN(t.right)||(n.cachedPaddingH=t),t}function kp(n,t,i){var f=n.options.lineWrapping,h=f&&n.display.scroller.clientWidth,e,u,r,o,s;if(!t.measure.heights||f&&t.measure.width!=h){if(e=t.measure.heights=[],f)for(t.measure.width=h,u=t.text.firstChild.getClientRects(),r=0;r<u.length-1;r++)o=u[r],s=u[r+1],Math.abs(o.bottom-s.bottom)>2&&e.push((o.bottom+s.top)/2-i.top);e.push(i.bottom-i.top)}}function dp(n,t,i){var r;if(n.line==t)return{map:n.measure.map,cache:n.measure.cache};for(r=0;r<n.rest.length;r++)if(n.rest[r]==t)return{map:n.measure.maps[r],cache:n.measure.caches[r]};for(r=0;r<n.rest.length;r++)if(c(n.rest[r])>i)return{map:n.measure.maps[r],cache:n.measure.caches[r],before:!0}}function gp(n,t){var r,i,u;return t=ct(t),r=c(t),i=n.display.externalMeasured=new cl(n.doc,t,r),i.lineN=r,u=i.built=rv(n,i),i.text=u.pre,pt(n.display.lineMeasure,u.pre),i}function tl(n,t,i,r){return rl(n,fs(n,t),i,r)}function il(n,t){if(t>=n.display.viewFrom&&t<n.display.viewTo)return n.display.view[ou(n,t)];var i=n.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size)return i}function fs(n,t){var u=c(t),i=il(n,u),r;return i&&!i.text?i=null:i&&i.changes&&oc(n,i,u,ec(n)),i||(i=gp(n,t)),r=dp(i,t,u),{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function rl(n,t,i,r){t.before&&(i=-1);var u,f=i+(r||"");return t.cache.hasOwnProperty(f)?u=t.cache[f]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(kp(n,t.view,t.rect),t.hasHeights=!0),u=nw(n,t,i,r),u.bogus||(t.cache[f]=u)),{left:u.left,right:u.right,top:u.top,bottom:u.bottom}}function nw(n,t,i,r){for(var s,o,h,a,c,l,e,v,y,d,f=t.map,u=0;u<f.length;u+=3)if(c=f[u],l=f[u+1],c>i?(o=0,h=1,a="left"):l>i?(o=i-c,h=o+1):(u==f.length-3||i==l&&f[u+3]>i)&&(h=l-c,o=h-1,i>=l&&(a="right")),null!=o){if(s=f[u+2],c==l&&r==(s.insertLeft?"left":"right")&&(a=r),"left"==r&&0==o)for(;u&&f[u-2]==f[u-3]&&f[u-1].insertLeft;)s=f[(u-=3)+2],a="left";if("right"==r&&o==l-c)for(;u<f.length-3&&f[u+3]==f[u+4]&&!f[u+5].insertLeft;)s=f[(u+=3)+2],a="right";break}if(3==s.nodeType){for(;o&&gu(t.line.text.charAt(c+o));)--o;for(;l>c+h&&gu(t.line.text.charAt(c+h));)++h;w&&0==o&&h==l-c?e=s.parentNode.getBoundingClientRect():b&&n.options.lineWrapping?(v=lf(s,o,h).getClientRects(),e=v.length?v["right"==r?v.length-1:0]:wh):e=lf(s,o,h).getBoundingClientRect()||wh}else o>0&&(a=r="right"),e=n.options.lineWrapping&&(v=s.getClientRects()).length>1?v["right"==r?v.length-1:0]:s.getBoundingClientRect();!w||o||e&&(e.left||e.right)||(y=s.parentNode.getClientRects()[0],e=y?{left:y.left,right:y.left+eu(n.display),top:y.top,bottom:y.bottom}:wh);for(var g,k=(e.bottom+e.top)/2-t.rect.top,p=t.view.measure.heights,u=0;u<p.length-1&&!(k<p[u]);u++);return g=u?p[u-1]:0,k=p[u],d={left:("right"==a?e.right:e.left)-t.rect.left,right:("left"==a?e.left:e.right)-t.rect.left,top:g,bottom:k},e.left||e.right||(d.bogus=!0),d}function ul(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var t=0;t<n.rest.length;t++)n.measure.caches[t]={}}function fl(n){n.display.externalMeasure=null;gi(n.display.lineMeasure);for(var t=0;t<n.display.view.length;t++)ul(n.display.view[t])}function fu(n){fl(n);n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null;n.options.lineWrapping||(n.display.maxLineChanged=!0);n.display.lineNumChars=null}function el(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ol(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function es(n,t,i,r){var f,e,u,o,s;if(t.widgets)for(f=0;f<t.widgets.length;++f)t.widgets[f].above&&(e=yu(t.widgets[f]),i.top+=e,i.bottom+=e);return"line"==r?i:(r||(r="local"),u=gt(t),("local"==r?u+=te(n.display):u-=n.display.viewOffset,"page"==r||"window"==r)&&(o=n.display.lineSpace.getBoundingClientRect(),u+=o.top+("window"==r?0:ol()),s=o.left+("window"==r?0:el()),i.left+=s,i.right+=s),i.top+=u,i.bottom+=u,i)}function sl(n,t,i){var r,u,f,e;return"div"==i?t:(r=t.left,u=t.top,"page"==i?(r-=el(),u-=ol()):"local"!=i&&i||(f=n.display.sizer.getBoundingClientRect(),r+=f.left,u+=f.top),e=n.display.lineSpace.getBoundingClientRect(),{left:r-e.left,top:u-e.top})}function os(n,t,i,u,f){return u||(u=r(n.doc,t.line)),es(n,u,tl(n,u,t.ch,f),i)}function kt(n,t,i,u,f){function s(t,r){var e=rl(n,f,t,r?"right":"left");return r?e.left=e.right:e.right=e.left,es(n,u,e,i)}function c(n,t){var i=e[t],r=i.level%2;return n==sh(i)&&t&&i.level<e[t-1].level?(i=e[--t],n=hh(i)-(i.level%2?0:1),r=!0):n==hh(i)&&t<e.length-1&&i.level<e[t+1].level&&(i=e[++t],n=sh(i)-i.level%2,r=!1),r&&n==i.to&&n>i.from?s(n-1):s(n,r)}var e,o,l,h;return(u=u||r(n.doc,t.line),f||(f=fs(n,u)),e=at(u),o=t.ch,!e)?s(o):(l=ch(e,o),h=c(o,l),null!=vf&&(h.other=c(o,vf)),h)}function hl(n,t){var i=0,t=u(n.doc,t),f,e;return n.options.lineWrapping||(i=eu(n.display)*t.ch),f=r(n.doc,t.line),e=gt(f)+te(n.display),{left:i,right:i,top:e,bottom:e+f.height}}function ie(n,i,r,u){var f=t(n,i);return f.xRel=u,r&&(f.outside=!0),f}function ss(n,t,i){var u=n.doc,f,s,e;if(i+=n.display.viewOffset,0>i)return ie(u.first,0,!0,-1);if(f=di(u,i),s=u.first+u.size-1,f>s)return ie(u.first+u.size-1,r(u,s).text.length,!0,1);for(0>t&&(t=0),e=r(u,f);;){var o=tw(n,e,f,t,i),h=vu(e),l=h&&h.find(0,!0);if(!h||!(o.ch>l.from.ch||o.ch==l.from.ch&&o.xRel>0))return o;f=c(e=l.to.line)}}function tw(n,i,r,u,f){function p(u){var f=kt(n,t(r,u),"line",i,rt);return h=!0,g>f.bottom?f.left-nt:g<f.top?f.left+nt:(h=!1,f.left)}var g=f-gt(i),h=!1,nt=2*n.display.wrapper.clientWidth,rt=fs(n,i),tt=at(i),w=i.text.length,e=ge(i),o=no(i),v=p(e),it=h,l=p(o),b=h,c,k,a,s,d,y;if(u>l)return ie(r,o,b,1);for(;;){if(tt?o==e||o==ah(i,e,1):1>=o-e){for(c=v>u||l-u>=u-v?e:o,k=u-(c==e?v:l);gu(i.text.charAt(c));)++c;return ie(r,c,c==e?it:b,-1>k?-1:k>1?1:0)}if(a=Math.ceil(w/2),s=e+a,tt)for(s=e,d=0;a>d;++d)s=ah(i,s,1);y=p(s);y>u?(o=s,l=y,(b=h)&&(l+=1e3),w=a):(e=s,v=y,it=h,w-=a)}}function pi(n){var r,t;if(null!=n.cachedTextHeight)return n.cachedTextHeight;if(null==tr){for(tr=i("pre"),r=0;49>r;++r)tr.appendChild(document.createTextNode("x")),tr.appendChild(i("br"));tr.appendChild(document.createTextNode("x"))}return pt(n.measure,tr),t=tr.offsetHeight/50,t>3&&(n.cachedTextHeight=t),gi(n.measure),t||1}function eu(n){var r,f,u,t;return null!=n.cachedCharWidth?n.cachedCharWidth:(r=i("span","xxxxxxxxxx"),f=i("pre",[r]),pt(n.measure,f),u=r.getBoundingClientRect(),t=(u.right-u.left)/10,t>2&&(n.cachedCharWidth=t),t||10)}function ur(n){n.curOp={viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++yk};oo++||(ai=[])}function fr(n){var t=n.curOp,h=n.doc,r=n.display,s,c,l,a,f,e,o,i;if((n.curOp=null,t.updateMaxLine&&yo(n),t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&n.options.lineWrapping)&&(s=wf(n,{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate),n.display.scroller.offsetHeight&&(n.doc.scrollTop=n.display.scroller.scrollTop)),(!s&&t.selectionChanged&&us(n),s||t.startHeight==n.doc.height||pf(n),null!=t.scrollTop&&r.scroller.scrollTop!=t.scrollTop)&&(c=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,t.scrollTop)),r.scroller.scrollTop=r.scrollbarV.scrollTop=h.scrollTop=c),null!=t.scrollLeft&&r.scroller.scrollLeft!=t.scrollLeft&&(l=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,t.scrollLeft)),r.scroller.scrollLeft=r.scrollbarH.scrollLeft=h.scrollLeft=l,bo(n)),t.scrollToPos&&(a=ww(n,u(n.doc,t.scrollToPos.from),u(n.doc,t.scrollToPos.to),t.scrollToPos.margin),t.scrollToPos.isCursor&&n.state.focused&&pw(n,a)),t.selectionChanged&&ne(n),n.state.focused&&t.updateInput&&ht(n,t.typing),f=t.maybeHiddenMarkers,e=t.maybeUnhiddenMarkers,f)for(i=0;i<f.length;++i)f[i].lines.length||v(f[i],"hide");if(e)for(i=0;i<e.length;++i)e[i].lines.length&&v(e[i],"unhide");if(--oo||(o=ai,ai=null),t.changeObjs&&v(n,"changes",n,t.changeObjs),o)for(i=0;i<o.length;++i)o[i]();if(t.cursorActivityHandlers)for(i=0;i<t.cursorActivityHandlers.length;i++)t.cursorActivityHandlers[i](n)}function dt(n,t){if(n.curOp)return t();ur(n);try{return t()}finally{fr(n)}}function a(n,t){return function(){if(n.curOp)return t.apply(n,arguments);ur(n);try{return t.apply(n,arguments)}finally{fr(n)}}}function l(n){return function(){if(this.curOp)return n.apply(this,arguments);ur(this);try{return n.apply(this,arguments)}finally{fr(this)}}}function tt(n){return function(){var t=this.cm;if(!t||t.curOp)return n.apply(this,arguments);ur(t);try{return n.apply(this,arguments)}finally{fr(t)}}}function cl(n,t,i){this.line=t;this.rest=fb(t);this.size=this.rest?c(s(this.rest))-i+1:1;this.node=this.text=null;this.hidden=bi(n,t)}function re(n,t,i){for(var o,e,f=[],u=t;i>u;u=o)e=new cl(n.doc,r(n.doc,u),u),o=u+e.size,f.push(e);return f}function rt(n,t,i,r){var u,f,o,s,e;null==t&&(t=n.doc.first);null==i&&(i=n.doc.first+n.doc.size);r||(r=0);u=n.display;(r&&i<u.viewTo&&(null==u.updateLineNumbers||u.updateLineNumbers>t)&&(u.updateLineNumbers=t),n.curOp.viewChanged=!0,t>=u.viewTo)?oi&&ks(n.doc,t)<u.viewTo&&ui(n):i<=u.viewFrom?oi&&wa(n.doc,i+r)>u.viewFrom?ui(n):(u.viewFrom+=r,u.viewTo+=r):t<=u.viewFrom&&i>=u.viewTo?ui(n):t<=u.viewFrom?(f=ue(n,i,i+r,1),f?(u.view=u.view.slice(f.index),u.viewFrom=f.lineN,u.viewTo+=r):ui(n)):i>=u.viewTo?(f=ue(n,t,t,-1),f?(u.view=u.view.slice(0,f.index),u.viewTo=f.lineN):ui(n)):(o=ue(n,t,t,-1),s=ue(n,i,i+r,1),o&&s?(u.view=u.view.slice(0,o.index).concat(re(n,o.lineN,s.lineN)).concat(u.view.slice(s.index)),u.viewTo+=r):ui(n));e=u.externalMeasured;e&&(i<e.lineN?e.lineN+=r:t<e.lineN+e.size&&(u.externalMeasured=null))}function ri(n,t,i){var r,u,f,e;n.curOp.viewChanged=!0;r=n.display;u=n.display.externalMeasured;(u&&t>=u.lineN&&t<u.lineN+u.size&&(r.externalMeasured=null),t<r.viewFrom||t>=r.viewTo)||(f=r.view[ou(n,t)],null!=f.node&&(e=f.changes||(f.changes=[]),-1==p(e,i)&&e.push(i)))}function ui(n){n.display.viewFrom=n.display.viewTo=n.doc.first;n.display.view=[];n.display.viewOffset=0}function ou(n,t){if(t>=n.display.viewTo||(t-=n.display.viewFrom,0>t))return null;for(var r=n.display.view,i=0;i<r.length;i++)if(t-=r[i].size,0>t)return i}function ue(n,t,i,r){var o,u=ou(n,t),f=n.display.view,s,e;if(!oi)return{index:u,lineN:i};for(s=0,e=n.display.viewFrom;u>s;s++)e+=f[s].size;if(e!=t){if(r>0){if(u==f.length-1)return null;o=e+f[u].size-t;u++}else o=e-t;t+=o;i+=o}for(;ks(n.doc,i)!=i;){if(u==(0>r?0:f.length-1))return null;i+=r*f[u-(0>r?1:0)].size;u+=r}return{index:u,lineN:i}}function iw(n,t,i){var r=n.display,u=r.view;0==u.length||t>=r.viewTo||i<=r.viewFrom?(r.view=re(n,t,i),r.viewFrom=t):(r.viewFrom>t?r.view=re(n,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(ou(n,t))),r.viewFrom=t,r.viewTo<i?r.view=r.view.concat(re(n,r.viewTo,i)):r.viewTo>i&&(r.view=r.view.slice(0,ou(n,i))));r.viewTo=i}function ll(n){for(var t,r=n.display.view,u=0,i=0;i<r.length;i++)t=r[i],t.hidden||t.node&&!t.changes||++u;return u}function fe(n){n.display.pollingFast||n.display.poll.set(n.options.pollInterval,function(){hs(n);n.state.focused&&fe(n)})}function su(n){function t(){var r=hs(n);r||i?(n.display.pollingFast=!1,fe(n)):(i=!0,n.display.poll.set(60,t))}var i=!1;n.display.pollingFast=!0;n.display.poll.set(20,t)}function hs(n){var h=n.display.input,u=n.display.prevInput,o=n.doc,i,g,f,it,rt,k,l,d,tt;if(!n.state.focused||td(h)&&!u||ee(n)||n.options.disableInput||(n.state.pasteIncoming&&n.state.fakedLastChar&&(h.value=h.value.substring(0,h.value.length-1),n.state.fakedLastChar=!1),i=h.value,i==u&&!n.somethingSelected()))return!1;if(b&&!w&&n.display.inputHasSelection===i)return ht(n),!1;for(g=!n.curOp,g&&ur(n),n.display.shift=!1,8203!=i.charCodeAt(0)||o.sel!=n.display.selForContextMenu||u||(u="​"),f=0,it=Math.min(u.length,i.length);it>f&&u.charCodeAt(f)==i.charCodeAt(f);)++f;for(var nt=i.slice(f),a=dr(nt),ut=n.state.pasteIncoming&&a.length>1&&o.sel.ranges.length==a.length,c=o.sel.ranges.length-1;c>=0;c--){var e=o.sel.ranges[c],p=e.from(),v=e.to();if(f<u.length?p=t(p.line,p.ch-(u.length-f)):n.state.overwrite&&e.empty()&&!n.state.pasteIncoming&&(v=t(v.line,Math.min(r(o,v.line).text.length,v.ch+s(a).length))),rt=n.curOp.updateInput,k={from:p,to:v,text:ut?[a[c]]:a,origin:n.state.pasteIncoming?"paste":n.state.cutIncoming?"cut":"+input"},sr(n.doc,k),y(n,"inputRead",n,k),nt&&!n.state.pasteIncoming&&n.options.electricChars&&n.options.smartIndent&&e.head.ch<100&&(!c||o.sel.ranges[c-1].head.line!=e.head.line))if(l=n.getModeAt(e.head),l.electricChars){for(d=0;d<l.electricChars.length;d++)if(nt.indexOf(l.electricChars.charAt(d))>-1){lu(n,e.head.line,"smart");break}}else l.electricInput&&(tt=si(k),l.electricInput.test(r(o,tt.line).text.slice(0,tt.ch))&&lu(n,e.head.line,"smart"))}return hr(n),n.curOp.updateInput=rt,n.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?h.value=n.display.prevInput="":n.display.prevInput=i,g&&fr(n),n.state.pasteIncoming=n.state.cutIncoming=!1,!0}function ht(n,t){var i,f,e=n.doc,r,u;n.somethingSelected()?(n.display.prevInput="",r=e.sel.primary(),i=wy&&(r.to().line-r.from().line>100||(f=n.getSelection()).length>1e3),u=i?"-":f||n.getSelection(),n.display.input.value=u,n.state.focused&&cf(n.display.input),b&&!w&&(n.display.inputHasSelection=u)):t||(n.display.prevInput=n.display.input.value="",b&&!w&&(n.display.inputHasSelection=null));n.display.inaccurateSelection=i}function it(n){"nocursor"==n.options.readOnly||yh&&fi()==n.display.input||n.display.input.focus()}function cs(n){n.state.focused||(it(n),ls(n))}function ee(n){return n.options.readOnly||n.doc.cantEdit}function rw(n){function r(){n.state.focused&&setTimeout(yt(it,n),0)}function u(t){vt(n,t)||kh(t)}function f(r){var e,u;if(n.somethingSelected())i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=n.getSelection(),cf(i.input));else{for(var o="",s=[],f=0;f<n.doc.sel.ranges.length;f++)e=n.doc.sel.ranges[f].head.line,u={anchor:t(e,0),head:t(e+1,0)},s.push(u),o+=n.getRange(u.anchor,u.head);"cut"==r.type?n.setSelections(s,null,ir):(i.prevInput="",i.input.value=o,cf(i.input))}"cut"==r.type&&(n.state.cutIncoming=!0)}var i=n.display;e(i.scroller,"mousedown",a(n,al));ni?e(i.scroller,"dblclick",a(n,function(t){var i,r;vt(n,t)||(i=er(n,t),!i||yl(n,t)||wi(n.display,t)||(nt(t),r=ps(n.doc,i),kf(n.doc,r.anchor,r.head)))})):e(i.scroller,"dblclick",function(t){vt(n,t)||nt(t)});e(i.lineSpace,"selectstart",function(n){wi(i,n)||nt(n)});ph||e(i.scroller,"contextmenu",function(t){na(n,t)});e(i.scroller,"scroll",function(){i.scroller.clientHeight&&(hu(n,i.scroller.scrollTop),or(n,i.scroller.scrollLeft,!0),v(n,"scroll",n))});e(i.scrollbarV,"scroll",function(){i.scroller.clientHeight&&hu(n,i.scrollbarV.scrollTop)});e(i.scrollbarH,"scroll",function(){i.scroller.clientHeight&&or(n,i.scrollbarH.scrollLeft)});e(i.scroller,"mousewheel",function(t){pl(n,t)});e(i.scroller,"DOMMouseScroll",function(t){pl(n,t)});e(i.scrollbarH,"mousedown",r);e(i.scrollbarV,"mousedown",r);e(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0});e(i.input,"keyup",a(n,dl));e(i.input,"input",function(){b&&!w&&n.display.inputHasSelection&&(n.display.inputHasSelection=null);su(n)});e(i.input,"keydown",a(n,kl));e(i.input,"keypress",a(n,gl));e(i.input,"focus",yt(ls,n));e(i.input,"blur",yt(se,n));n.options.dragDrop&&(e(i.scroller,"dragstart",function(t){hw(n,t)}),e(i.scroller,"dragenter",u),e(i.scroller,"dragover",u),e(i.scroller,"drop",a(n,sw)));e(i.scroller,"paste",function(t){wi(i,t)||(n.state.pasteIncoming=!0,it(n),su(n))});e(i.input,"paste",function(){if(d&&!n.state.fakedLastChar&&!(new Date-n.state.lastMiddleDown<200)){var t=i.input.selectionStart,r=i.input.selectionEnd;i.input.value+="$";i.input.selectionStart=t;i.input.selectionEnd=r;n.state.fakedLastChar=!0}n.state.pasteIncoming=!0;su(n)});e(i.input,"cut",f);e(i.input,"copy",f);vh&&e(i.sizer,"mouseup",function(){fi()==i.input&&i.input.blur();it(n)})}function uw(n){var t=n.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null;n.setSize()}function wi(n,t){for(var i=ku(t);i!=n.wrapper;i=i.parentNode)if(!i||i.ignoreEvents||i.parentNode==n.sizer&&i!=n.mover)return!0}function er(n,i,u,f){var o=n.display,s,c,a,l,h,e,v;if(!u&&(s=ku(i),s==o.scrollbarH||s==o.scrollbarV||s==o.scrollbarFiller||s==o.gutterFiller))return null;l=o.lineSpace.getBoundingClientRect();try{c=i.clientX-l.left;a=i.clientY-l.top}catch(i){return null}return e=ss(n,c,a),f&&1==e.xRel&&(h=r(n.doc,e.line).text).length==e.ch&&(v=ot(h,h.length,n.options.tabSize)-h.length,e=t(e.line,Math.max(0,Math.round((c-nl(n.display).left)/eu(n.display))-v))),e}function al(n){var t,i,r;if(!vt(this,n)){if(t=this,i=t.display,i.shift=n.shiftKey,wi(i,n))return d||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)),void 0;if(!yl(t,n)){r=er(t,n);switch(window.focus(),vv(n)){case 1:r?fw(t,n,r):ku(n)==i.scroller&&nt(n);break;case 2:d&&(t.state.lastMiddleDown=+new Date);r&&kf(t.doc,r);setTimeout(yt(it,t),20);nt(n);break;case 3:ph&&na(t,n)}}}}function fw(n,t,i){var r,u,f,e;setTimeout(yt(cs,n),0);u=+new Date;io&&io.time>u-400&&0==o(io.pos,i)?r="triple":to&&to.time>u-400&&0==o(to.pos,i)?(r="double",io={time:u,pos:i}):(r="single",to={time:u,pos:i});f=n.doc.sel;e=ei?t.metaKey:t.ctrlKey;n.options.dragDrop&&nd&&!e&&!ee(n)&&"single"==r&&f.contains(i)>-1&&f.somethingSelected()?ew(n,t,i):ow(n,t,i,r,e)}function ew(n,t,i){var r=n.display,u=a(n,function(f){d&&(r.scroller.draggable=!1);n.state.draggingText=!1;ti(document,"mouseup",u);ti(r.scroller,"drop",u);Math.abs(t.clientX-f.clientX)+Math.abs(t.clientY-f.clientY)<10&&(nt(f),kf(n.doc,i),it(n),ni&&!w&&setTimeout(function(){document.body.focus();it(n)},20))});d&&(r.scroller.draggable=!0);n.state.draggingText=u;r.scroller.dragDrop&&r.scroller.dragDrop();e(document,"mouseup",u);e(r.scroller,"drop",u)}function ow(n,i,f,s,c){function lt(i){var d,w,a,e;if(0!=o(ut,i))if(ut=i,"rect"==s){for(var e=[],b=n.options.tabSize,it=ot(r(l,f.line).text,f.ch,b),rt=ot(r(l,i.line).text,i.ch,b),ft=Math.min(it,rt),et=Math.max(it,rt),c=Math.min(f.line,i.line),ht=Math.min(n.lastLine(),Math.max(f.line,i.line));ht>=c;c++)d=r(l,c).text,w=pv(d,ft,b),ft==et?e.push(new h(t(c,w),t(c,w))):d.length>w&&e.push(new h(t(c,w),t(c,pv(d,et,b))));e.length||e.push(new h(f,f));k(l,st(p.ranges.slice(0,y).concat(e),y),so)}else{var nt=v,g=nt.anchor,tt=i;"single"!=s&&(a="double"==s?ps(l,i):new h(t(i.line,0),u(l,t(i.line+1,0))),o(a.anchor,g)>0?(tt=a.head,g=rs(nt.from(),a.anchor)):(tt=a.anchor,g=is(nt.to(),a.head)));e=p.ranges.slice(0);e[y]=new h(u(l,g),tt);k(l,st(e,y),so)}}function tt(t){var f=++g,i=er(n,t,!0,"rect"==s),r,u;i&&(0!=o(i,ut)?(cs(n),lt(i),r=wo(rt,l),(i.line>=r.to||i.line<r.from)&&setTimeout(a(n,function(){g==f&&tt(t)}),150)):(u=t.clientY<et.top?-20:t.clientY>et.bottom?20:0,u&&setTimeout(a(n,function(){g==f&&(rt.scroller.scrollTop+=u,tt(t))}),50)))}function ft(t){g=1/0;nt(t);it(n);ti(document,"mousemove",ht);ti(document,"mouseup",ct);l.history.lastSelOrigin=null}var rt=n.display,l=n.doc,v,y,p,w,d;nt(i);p=l.sel;(c&&!i.shiftKey?(y=l.sel.contains(f),v=y>-1?l.sel.ranges[y]:new h(f,f)):v=l.sel.primary(),i.altKey)?(s="rect",c||(v=new h(f,f)),f=er(n,i,!0,!0),y=-1):"double"==s?(w=ps(l,f),v=n.display.shift||l.extend?iu(l,v,w.anchor,w.head):w):"triple"==s?(d=new h(t(f.line,0),u(l,t(f.line+1,0))),v=n.display.shift||l.extend?iu(l,v,d.anchor,d.head):d):v=iu(l,v,f);c?y>-1?yc(l,y,v,so):(y=l.sel.ranges.length,k(l,st(l.sel.ranges.concat([v]),y),{scroll:!1,origin:"*mouse"})):(y=0,k(l,new bt([v],0),so),p=l.sel);var ut=f,et=rt.wrapper.getBoundingClientRect(),g=0,ht=a(n,function(n){(b&&!ok?n.buttons:vv(n))?tt(n):ft(n)}),ct=a(n,ft);e(document,"mousemove",ht);e(document,"mouseup",ct)}function vl(n,t,i,r,u){var s,e,o,h,f,c,l,a;try{s=t.clientX;e=t.clientY}catch(t){return!1}if(s>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;if(r&&nt(t),o=n.display,h=o.lineDiv.getBoundingClientRect(),e>h.bottom||!ut(n,i))return uh(t);for(e-=h.top-o.viewOffset,f=0;f<n.options.gutters.length;++f)if(c=o.gutters.childNodes[f],c&&c.getBoundingClientRect().right>=s)return l=di(n.doc,e),a=n.options.gutters[f],u(n,i,n,l,a,t),uh(t)}function yl(n,t){return vl(n,t,"gutterClick",!0,y)}function sw(n){var t=this,i,f,e,o,r;if(!vt(t,n)&&!wi(t.display,n)&&(nt(n),b&&(fy=+new Date),i=er(t,n,!0),f=n.dataTransfer.files,i&&!ee(t)))if(f&&f.length&&window.FileReader&&window.File)for(var s=f.length,e=Array(s),h=0,c=function(n,r){var f=new FileReader;f.onload=a(t,function(){if(e[r]=f.result,++h==s){i=u(t.doc,i);var n={from:i,to:i,text:dr(e.join("\n")),origin:"paste"};sr(t.doc,n);wc(t.doc,yi(i,si(n)))}});f.readAsText(n)},r=0;s>r;++r)c(f[r],r);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(n),setTimeout(yt(it,t),20),void 0;try{if(e=n.dataTransfer.getData("Text"),e){if(o=t.state.draggingText&&t.listSelections(),df(t.doc,yi(i,i)),o)for(r=0;r<o.length;++r)ce(t.doc,"",o[r].anchor,o[r].head,"drag");t.replaceSelection(e,"around","paste");it(t)}}catch(n){}}}function hw(n,t){if(b&&(!n.state.draggingText||+new Date-fy<100))return kh(t),void 0;if(!vt(n,t)&&!wi(n.display,t)&&(t.dataTransfer.setData("Text",n.getSelection()),t.dataTransfer.setDragImage&&!iy)){var r=i("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";ft&&(r.width=r.height=1,n.display.wrapper.appendChild(r),r._top=r.offsetTop);t.dataTransfer.setDragImage(r,0,0);ft&&r.parentNode.removeChild(r)}}function hu(n,t){Math.abs(n.doc.scrollTop-t)<2||(n.doc.scrollTop=t,tf||wf(n,{top:t}),n.display.scroller.scrollTop!=t&&(n.display.scroller.scrollTop=t),n.display.scrollbarV.scrollTop!=t&&(n.display.scrollbarV.scrollTop=t),tf&&wf(n),ru(n,100))}function or(n,t,i){(i?t==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-t)<2)||(t=Math.min(t,n.display.scroller.scrollWidth-n.display.scroller.clientWidth),n.doc.scrollLeft=t,bo(n),n.display.scroller.scrollLeft!=t&&(n.display.scroller.scrollLeft=t),n.display.scrollbarH.scrollLeft!=t&&(n.display.scrollbarH.scrollLeft=t))}function pl(n,t){var f=t.wheelDeltaX,u=t.wheelDeltaY,i,r,e,h,o;if(null==f&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(f=t.detail),null==u&&t.detail&&t.axis==t.VERTICAL_AXIS?u=t.detail:null==u&&(u=t.wheelDelta),i=n.display,r=i.scroller,f&&r.scrollWidth>r.clientWidth||u&&r.scrollHeight>r.clientHeight){if(u&&ei&&d)n:for(e=t.target,h=i.view;e!=r;e=e.parentNode)for(o=0;o<h.length;o++)if(h[o].node==e){n.display.currentWheelTarget=e;break n}if(f&&!tf&&!ft&&null!=et)return u&&hu(n,Math.max(0,Math.min(r.scrollTop+u*et,r.scrollHeight-r.clientHeight))),or(n,Math.max(0,Math.min(r.scrollLeft+f*et,r.scrollWidth-r.clientWidth))),nt(t),i.wheelStartX=null,void 0;if(u&&null!=et){var c=u*et,s=n.doc.scrollTop,l=s+i.wrapper.clientHeight;0>c?s=Math.max(0,s+c-50):l=Math.min(n.doc.height,l+c+50);wf(n,{top:s,bottom:l})}20>ro&&(null==i.wheelStartX?(i.wheelStartX=r.scrollLeft,i.wheelStartY=r.scrollTop,i.wheelDX=f,i.wheelDY=u,setTimeout(function(){if(null!=i.wheelStartX){var n=r.scrollLeft-i.wheelStartX,t=r.scrollTop-i.wheelStartY,u=t&&i.wheelDY&&t/i.wheelDY||n&&i.wheelDX&&n/i.wheelDX;i.wheelStartX=i.wheelStartY=null;u&&(et=(et*ro+u)/(ro+1),++ro)}},200)):(i.wheelDX+=f,i.wheelDY+=u))}}function oe(n,t,i){if("string"==typeof t&&(t=ff[t],!t))return!1;n.display.pollingFast&&hs(n)&&(n.display.pollingFast=!1);var u=n.display.shift,r=!1;try{ee(n)&&(n.state.suppressEdits=!0);i&&(n.display.shift=!1);r=t(n)!=yy}finally{n.display.shift=u;n.state.suppressEdits=!1}return r}function wl(n){var t=n.state.keyMaps.slice(0);return n.options.extraKeys&&t.push(n.options.extraKeys),t.push(n.options.keyMap),t}function bl(n,t){var e=ws(n.options.keyMap),r=e.auto,i,u,f;return(clearTimeout(ey),r&&!wk(t)&&(ey=setTimeout(function(){ws(n.options.keyMap)==e&&(n.options.keyMap=r.call?r.call(null,n):r,tc(n))},50)),i=bk(t,!0),u=!1,!i)?!1:(f=wl(n),u=t.shiftKey?eo("Shift-"+i,f,function(t){return oe(n,t,!0)})||eo(i,f,function(t){if(("string"==typeof t?/^go[A-Z]/.test(t):t.motion))return oe(n,t)}):eo(i,f,function(t){return oe(n,t)}),u&&(nt(t),ne(n),y(n,"keyHandled",n,i,t)),u)}function cw(n,t,i){var r=eo("'"+i+"'",wl(n),function(t){return oe(n,t,!0)});return r&&(nt(t),ne(n),y(n,"keyHandled",n,"'"+i+"'",t)),r}function kl(n){var t=this,i,r;(cs(t),vt(t,n))||(ni&&27==n.keyCode&&(n.returnValue=!1),i=n.keyCode,t.display.shift=16==i||n.shiftKey,r=bl(t,n),ft&&(uo=r?i:null,!r&&88==i&&!wy&&(ei?n.metaKey:n.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||lw(t))}function lw(n){function t(n){18!=n.keyCode&&n.altKey||(ke(i,"CodeMirror-crosshair"),ti(document,"keyup",t),ti(document,"mouseover",t))}var i=n.display.lineDiv;de(i,"CodeMirror-crosshair");e(document,"keyup",t);e(document,"mouseover",t)}function dl(n){vt(this,n)||16==n.keyCode&&(this.doc.sel.shift=!1)}function gl(n){var t=this,i,r,u;if(!vt(t,n)){if(i=n.keyCode,r=n.charCode,ft&&i==uo)return uo=null,nt(n),void 0;(ft&&(!n.which||n.which<10)||vh)&&bl(t,n)||(u=String.fromCharCode(null==r?i:r),cw(t,n,u)||(b&&!w&&(t.display.inputHasSelection=null),su(t)))}}function ls(n){"nocursor"!=n.options.readOnly&&(n.state.focused||(v(n,"focus",n),n.state.focused=!0,de(n.display.wrapper,"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(ht(n),d&&setTimeout(yt(ht,n,!0),0))),fe(n),ne(n))}function se(n){n.state.focused&&(v(n,"blur",n),n.state.focused=!1,ke(n.display.wrapper,"CodeMirror-focused"));clearInterval(n.display.blinker);setTimeout(function(){n.state.focused||(n.display.shift=!1)},150)}function na(n,t){function f(){if(null!=i.input.selectionStart){var t=n.somethingSelected(),r=i.input.value="​"+(t?i.input.value:"");i.prevInput=t?"":"​";i.input.selectionStart=1;i.input.selectionEnd=r.length}}function o(){if(i.inputDiv.style.position="relative",i.input.style.cssText=c,w&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=s),fe(n),null!=i.input.selectionStart){(!b||w)&&f();var r=0,t=function(){i.selForContextMenu==n.doc.sel&&0==i.input.selectionStart?a(n,ff.selectAll)(n):r++<10?i.detectingSelectAll=setTimeout(t,500):ht(n)};i.detectingSelectAll=setTimeout(t,200)}}var i,r,s,h,c,u;vt(n,t,"contextmenu")||(i=n.display,wi(i,t)||aw(n,t)||(r=er(n,t),s=i.scroller.scrollTop,r&&!ft&&(h=n.options.resetSelectionOnContextMenu,h&&-1==n.doc.sel.contains(r)&&a(n,k)(n.doc,yi(r),ir),c=i.input.style.cssText,(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(b?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",it(n),ht(n),n.somethingSelected()||(i.input.value=i.prevInput=" "),i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),b&&!w&&f(),ph)?(kh(t),u=function(){ti(window,"mouseup",u);setTimeout(o,20)},e(window,"mouseup",u)):setTimeout(o,50))))}function aw(n,t){return ut(n,"gutterContextMenu")?vl(n,t,"gutterContextMenu",!1,v):!1}function ta(n,i){if(o(n,i.from)<0)return n;if(o(n,i.to)<=0)return si(i);var u=n.line+i.text.length-(i.to.line-i.from.line)-1,r=n.ch;return n.line==i.to.line&&(r+=si(i).ch-i.to.ch),t(u,r)}function as(n,t){for(var u,r=[],i=0;i<n.sel.ranges.length;i++)u=n.sel.ranges[i],r.push(new h(ta(u.anchor,t),ta(u.head,t)));return st(r,n.sel.primIndex)}function ia(n,i,r){return n.line==i.line?t(r.line,n.ch-i.ch+r.ch):t(r.line+(n.line-i.line),n.ch)}function vw(n,i,r){for(var v,y,s=[],f=t(n.first,0),c=f,u=0;u<i.length;u++){var l=i[u],e=ia(l.from,f,c),a=ia(si(l),f,c);(f=l.to,c=a,"around"==r)?(v=n.sel.ranges[u],y=o(v.head,v.anchor)<0,s[u]=new h(y?a:e,y?e:a)):s[u]=new h(e,e)}return new bt(s,n.sel.primIndex)}function ra(n,t,i){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return i&&(r.update=function(t,i,r,f){t&&(this.from=u(n,t));i&&(this.to=u(n,i));r&&(this.text=r);void 0!==f&&(this.origin=f)}),v(n,"beforeChange",n,r),n.cm&&v(n.cm,"beforeChange",n.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function sr(n,t,i){var u,r;if(n.cm){if(!n.cm.curOp)return a(n.cm,sr)(n,t,i);if(n.cm.state.suppressEdits)return}if(!(ut(n,"beforeChange")||n.cm&&ut(n.cm,"beforeChange"))||(t=ra(n,t,!0)))if(u=uy&&!i&&ub(n,t.from,t.to),u)for(r=u.length-1;r>=0;--r)ua(n,{from:u[r].from,to:u[r].to,text:r?[""]:t.text});else ua(n,t)}function ua(n,t){var i,r;(1!=t.text.length||""!=t.text[0]||0!=o(t.from,t.to))&&(i=as(n,t),sv(n,t,i,n.cm?n.cm.curOp.id:NaN),cu(n,t,i,bs(n,t)),r=[],ki(n,function(n,i){i||-1!=p(r,n.history)||(av(n.history,t),r.push(n.history));cu(n,t,null,bs(n,t))}))}function he(n,t,i){var c,v,f,u,y,l;if(!n.cm||!n.cm.state.suppressEdits){for(var r,e=n.history,a=n.sel,o="undo"==t?e.done:e.undone,h="undo"==t?e.undone:e.done,f=0;f<o.length&&(r=o[f],i?!r.ranges||r.equals(n.sel):r.ranges);f++);if(f!=o.length){for(e.lastOrigin=e.lastSelOrigin=null;r=o.pop(),r.ranges;){if(be(r,h),i&&!r.equals(n.sel))return k(n,r,{clearRedo:!1}),void 0;a=r}for(c=[],be(a,h),h.push({changes:c,generation:e.generation}),e.generation=r.generation||++e.maxGeneration,v=ut(n,"beforeChange")||n.cm&&ut(n.cm,"beforeChange"),f=r.changes.length-1;f>=0;--f){if(u=r.changes[f],u.origin=t,v&&!ra(n,u,!1))return o.length=0,void 0;c.push(rh(n,u));y=f?as(n,u,null):s(o);cu(n,u,y,ha(n,u));!f&&n.cm&&n.cm.scrollIntoView(u);l=[];ki(n,function(n,t){t||-1!=p(l,n.history)||(av(n.history,u),l.push(n.history));cu(n,u,null,ha(n,u))})}}}}function fa(n,i){if(0!=i&&(n.first+=i,n.sel=new bt(eh(n.sel.ranges,function(n){return new h(t(n.anchor.line+i,n.anchor.ch),t(n.head.line+i,n.head.ch))}),n.sel.primIndex),n.cm)){rt(n.cm,n.first,n.first-i,i);for(var u=n.cm.display,r=u.viewFrom;r<u.viewTo;r++)ri(n.cm,r,"gutter")}}function cu(n,i,u,f){var o,e;if(n.cm&&!n.cm.curOp)return a(n.cm,cu)(n,i,u,f);if(i.to.line<n.first)return fa(n,i.text.length-1-(i.to.line-i.from.line)),void 0;i.from.line>n.lastLine()||(i.from.line<n.first&&(o=i.text.length-1-(n.first-i.from.line),fa(n,o),i={from:t(n.first,0),to:t(i.to.line+o,i.to.ch),text:[s(i.text)],origin:i.origin}),e=n.lastLine(),i.to.line>e&&(i={from:i.from,to:t(e,r(n,e).text.length),text:[i.text[0]],origin:i.origin}),i.removed=bu(n,i.from,i.to),u||(u=as(n,i,null)),n.cm?yw(n.cm,i,f):th(n,i,f),df(n,u,ir))}function yw(n,t,i){var f=n.doc,e=n.display,u=t.from,o=t.to,s=!1,h=u.line,p,l,a,v;n.options.lineWrapping||(h=c(ct(r(f,u.line))),f.iter(h,o.line+1,function(n){if(n==e.maxLine)return(s=!0,!0)}));f.sel.contains(t.from,t.to)>-1&&yv(n);th(f,t,i,nc(n));n.options.lineWrapping||(f.iter(h,u.line+t.text.length,function(n){var t=yf(n);t>e.maxLineLength&&(e.maxLine=n,e.maxLineLength=t,e.maxLineChanged=!0,s=!1)}),s&&(n.curOp.updateMaxLine=!0));f.frontier=Math.min(f.frontier,u.line);ru(n,400);p=t.text.length-(o.line-u.line)-1;u.line!=o.line||1!=t.text.length||fv(n.doc,t)?rt(n,u.line,o.line+1,p):ri(n,u.line,"text");l=ut(n,"changes");a=ut(n,"change");(a||l)&&(v={from:u,to:o,text:t.text,removed:t.removed,origin:t.origin},a&&y(n,"change",n,v),l&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(v));n.display.selForContextMenu=null}function ce(n,t,i,r,u){if(r||(r=i),o(r,i)<0){var f=r;r=i;i=f}"string"==typeof t&&(t=dr(t));sr(n,{from:i,to:r,text:t,origin:u})}function pw(n,t){var f=n.display,e=f.sizer.getBoundingClientRect(),r=null,u;(t.top+e.top<0?r=!0:t.bottom+e.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null==r||ak)||(u=i("div","​",null,"position: absolute; top: "+(t.top-f.viewOffset-te(n.display))+"px; height: "+(t.bottom-t.top+ii)+"px; left: "+t.left+"px; width: 2px;"),n.display.lineSpace.appendChild(u),u.scrollIntoView(r),n.display.lineSpace.removeChild(u))}function ww(n,t,i,r){for(null==r&&(r=0);;){var o=!1,u=kt(n,t),f=i&&i!=t?kt(n,i):u,e=le(n,Math.min(u.left,f.left),Math.min(u.top,f.top)-r,Math.max(u.left,f.left),Math.max(u.bottom,f.bottom)+r),s=n.doc.scrollTop,h=n.doc.scrollLeft;if(null!=e.scrollTop&&(hu(n,e.scrollTop),Math.abs(n.doc.scrollTop-s)>1&&(o=!0)),null!=e.scrollLeft&&(or(n,e.scrollLeft),Math.abs(n.doc.scrollLeft-h)>1&&(o=!0)),!o)return u}}function bw(n,t,i,r,u){var f=le(n,t,i,r,u);null!=f.scrollTop&&hu(n,f.scrollTop);null!=f.scrollLeft&&or(n,f.scrollLeft)}function le(n,t,i,r,u){var f=n.display,v=pi(n.display),h,c,l,o,a;0>i&&(i=0);var s=n.curOp&&null!=n.curOp.scrollTop?n.curOp.scrollTop:f.scroller.scrollTop,y=f.scroller.clientHeight-ii,e={},p=n.doc.height+gc(f),w=v>i,b=u>p-v;return s>i?e.scrollTop=w?0:i:u>s+y&&(h=Math.min(i,(b?p:u)-y),h!=s&&(e.scrollTop=h)),c=n.curOp&&null!=n.curOp.scrollLeft?n.curOp.scrollLeft:f.scroller.scrollLeft,l=f.scroller.clientWidth-ii,t+=f.gutters.offsetWidth,r+=f.gutters.offsetWidth,o=f.gutters.offsetWidth,a=o+10>t,c+o>t||a?(a&&(t=0),e.scrollLeft=Math.max(0,t-10-o)):r>l+c-3&&(e.scrollLeft=r+10-l),e}function vs(n,t,i){(null!=t||null!=i)&&ae(n);null!=t&&(n.curOp.scrollLeft=(null==n.curOp.scrollLeft?n.doc.scrollLeft:n.curOp.scrollLeft)+t);null!=i&&(n.curOp.scrollTop=(null==n.curOp.scrollTop?n.doc.scrollTop:n.curOp.scrollTop)+i)}function hr(n){ae(n);var i=n.getCursor(),r=i,u=i;n.options.lineWrapping||(r=i.ch?t(i.line,i.ch-1):i,u=t(i.line,i.ch+1));n.curOp.scrollToPos={from:r,to:u,margin:n.options.cursorScrollMargin,isCursor:!0}}function ae(n){var t=n.curOp.scrollToPos;if(t){n.curOp.scrollToPos=null;var i=hl(n,t.from),r=hl(n,t.to),u=le(n,Math.min(i.left,r.left),Math.min(i.top,r.top)-t.margin,Math.max(i.right,r.right),Math.max(i.bottom,r.bottom)+t.margin);n.scrollTo(u.scrollLeft,u.scrollTop)}}function lu(n,i,u,f){var b,l=n.doc,e,a,v,s,w,c;null==u&&(u="add");"smart"==u&&(n.doc.mode.indent?b=uu(n,i):u="prev");var y=n.options.tabSize,o=r(l,i),p=ot(o.text,null,y);if(o.stateAfter&&(o.stateAfter=null),a=o.text.match(/^\s*/)[0],f||/\S/.test(o.text)){if("smart"==u&&(e=n.doc.mode.indent(b,o.text.slice(a.length),o.text),e==yy)){if(!f)return;u="prev"}}else e=0,u="not";if("prev"==u?e=i>l.first?ot(r(l,i-1).text,null,y):0:"add"==u?e=p+n.options.indentUnit:"subtract"==u?e=p-n.options.indentUnit:"number"==typeof u&&(e=p+u),e=Math.max(0,e),v="",c=0,n.options.indentWithTabs)for(s=Math.floor(e/y);s;--s)c+=y,v+="\t";if(e>c&&(v+=wv(e-c)),v!=a)ce(n.doc,v,t(i,0),t(i,a.length),"+input");else for(s=0;s<l.sel.ranges.length;s++)if(w=l.sel.ranges[s],w.head.line==i&&w.head.ch<a.length){c=t(i,a.length);yc(l,s,new h(c,c));break}o.stateAfter=null}function ve(n,t,i,u){var f=t,e=t,o=n.doc;return"number"==typeof t?e=r(o,ac(o,t)):f=c(t),null==f?null:(u(e,f)&&ri(n,f,i),e)}function ye(n,t){for(var r,f,e=n.doc.sel.ranges,i=[],u=0;u<e.length;u++){for(r=t(e[u]);i.length&&o(r.from,s(i).to)<=0;)if(f=i.pop(),o(f.from,r.from)<0){r.from=f.from;break}i.push(r)}dt(n,function(){for(var t=i.length-1;t>=0;t--)ce(n.doc,"",i[t].from,i[t].to,"+delete");hr(n)})}function ys(n,i,u,f,e){function k(){var t=l+u;return t<n.first||t>=n.first+n.size?y=!1:(l=t,c=r(n,t))}function s(n){var t=(e?ah:ty)(c,h,u,!0);if(null==t){if(n||!k())return y=!1;h=e?(0>u?no:ge)(c):0>u?c.text.length:0}else h=t;return!0}var l=i.line,h=i.ch,d=u,c=r(n,l),y=!0,v,o,b;if("char"==f)s();else if("column"==f)s(!0);else if("word"==f||"group"==f)for(var p=null,w="group"==f,a=!0;!(0>u)||s(!a);a=!1){if(v=c.text.charAt(h)||"\n",o=co(v)?"w":w&&"\n"==v?"n":!w||/\s/.test(v)?null:"p",!w||a||o||(o="s"),p&&p!=o){0>u&&(u=1,s());break}if(o&&(p=o),u>0&&!s(!a))break}return b=gf(n,t(l,h),d,!0),y||(b.hitSide=!0),b}function ea(n,t,i,r){var u,o=n.doc,s=t.left,e,f;for("page"==r?(e=Math.min(n.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=t.top+i*(e-(0>i?1.5:.5)*pi(n.display))):"line"==r&&(u=i>0?t.bottom+3:t.top-3);;){if(f=ss(n,s,u),!f.outside)break;if(0>i?0>=u:u>=o.height){f.hitSide=!0;break}u+=5*i}return f}function ps(n,i){var f=r(n,i.line).text,u=i.ch,e=i.ch,o,s;if(f){for((i.xRel<0||e==f.length)&&u?--u:++e,o=f.charAt(u),s=co(o)?co:/\s/.test(o)?function(n){return/\s/.test(n)}:function(n){return!/\s/.test(n)&&!co(n)};u>0&&s(f.charAt(u-1));)--u;for(;e<f.length&&s(f.charAt(e));)++e}return new h(t(i.line,u),t(i.line,e))}function f(t,i,r,u){n.defaults[t]=i;r&&(pr[t]=u?function(n,t,i){i!=oy&&r(n,t,i)}:r)}function ws(n){return"string"==typeof n?wt[n]:n}function cr(n,t,r,u,f){var s,v,p,c,h,l;if(u&&u.shared)return kw(n,t,r,u,f);if(n.cm&&!n.cm.curOp)return a(n.cm,cr)(n,t,r,u,f);if(s=new ci(n,f),v=o(t,r),u&&du(u,s,!1),v>0||0==v&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=i("span",[s.replacedWith],"CodeMirror-widget"),u.handleMouseEvents||(s.widgetNode.ignoreEvents=!0),u.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(pa(n,t.line,t,r,s)||t.line!=r.line&&pa(n,r.line,t,r,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");oi=!0}if(s.addToHistory&&sv(n,{from:t,to:r,origin:"markText"},n.sel,NaN),c=t.line,h=n.cm,n.iter(c,r.line+1,function(n){h&&s.collapsed&&!h.options.lineWrapping&&ct(n)==h.display.maxLine&&(p=!0);s.collapsed&&c!=t.line&&lt(n,0);tb(n,new pe(s,c==t.line?t.ch:null,c==r.line?r.ch:null));++c}),s.collapsed&&n.iter(t.line,r.line+1,function(t){bi(n,t)&&lt(t,0)}),s.clearOnEnter&&e(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(uy=!0,(n.history.done.length||n.history.undone.length)&&n.clearHistory()),s.collapsed&&(s.id=++hy,s.atomic=!0),h){if(p&&(h.curOp.updateMaxLine=!0),s.collapsed)rt(h,t.line,r.line+1);else if(s.className||s.title||s.startStyle||s.endStyle)for(l=t.line;l<=r.line;l++)ri(h,l,"text");s.atomic&&kc(h.doc);y(h,"markerAdded",h,s)}return s}function kw(n,t,i,r,f){r=du(r);r.shared=!1;var e=[cr(n,t,i,r,f)],o=e[0],h=r.widgetNode;return ki(n,function(n){h&&(r.widgetNode=h.cloneNode(!0));e.push(cr(n,u(n,t),u(n,i),r,f));for(var c=0;c<n.linked.length;++c)if(n.linked[c].isParent)return;o=s(e)}),new of(e,o)}function oa(n){return n.findMarks(t(n.first,0),n.clipPos(t(n.lastLine())),function(n){return n.parent})}function dw(n,t){for(var u,r=0;r<t.length;r++){var i=t[r],f=i.find(),e=n.clipPos(f.from),s=n.clipPos(f.to);o(e,s)&&(u=cr(n,e,s,i.primary,i.primary.type),i.markers.push(u),u.parent=i)}}function gw(n){for(var t,u,i,f,r=0;r<n.length;r++)for(t=n[r],u=[t.primary.doc],ki(t.primary.doc,function(n){u.push(n)}),i=0;i<t.markers.length;i++)f=t.markers[i],-1==p(u,f.doc)&&(f.parent=null,t.markers.splice(i--,1))}function pe(n,t,i){this.marker=n;this.from=t;this.to=i}function au(n,t){var i,r;if(n)for(i=0;i<n.length;++i)if(r=n[i],r.marker==t)return r}function nb(n,t){for(var r,i=0;i<n.length;++i)n[i]!=t&&(r||(r=[])).push(n[i]);return r}function tb(n,t){n.markedSpans=n.markedSpans?n.markedSpans.concat([t]):[t];t.marker.attachLine(n)}function ib(n,t,i){var e,u,o;if(n)for(u=0;u<n.length;++u){var r=n[u],f=r.marker,s=null==r.from||(f.inclusiveLeft?r.from<=t:r.from<t);!s&&(r.from!=t||"bookmark"!=f.type||i&&r.marker.insertLeft)||(o=null==r.to||(f.inclusiveRight?r.to>=t:r.to>t),(e||(e=[])).push(new pe(f,r.from,o?null:r.to)))}return e}function rb(n,t,i){var e,u,o;if(n)for(u=0;u<n.length;++u){var r=n[u],f=r.marker,s=null==r.to||(f.inclusiveRight?r.to>=t:r.to>t);(s||r.from==t&&"bookmark"==f.type&&(!i||r.marker.insertLeft))&&(o=null==r.from||(f.inclusiveLeft?r.from<=t:r.from<t),(e||(e=[])).push(new pe(f,o?null:r.from-t,null==r.to?null:r.to-t)))}return e}function bs(n,t){var w=tu(n,t.from.line)&&r(n,t.from.line).markedSpans,b=tu(n,t.to.line)&&r(n,t.to.line).markedSpans,f,h,a,y,p,u;if(!w&&!b)return null;var v=t.from.ch,d=t.to.ch,k=0==o(t.from,t.to),i=ib(w,v,k),e=rb(b,d,k),c=1==t.text.length,l=s(t.text).length+(c?v:0);if(i)for(u=0;u<i.length;++u)f=i[u],null==f.to&&(h=au(e,f.marker),h?c&&(f.to=null==h.to?null:h.to+l):f.to=v);if(e)for(u=0;u<e.length;++u)f=e[u],(null!=f.to&&(f.to+=l),null==f.from)?(h=au(i,f.marker),h||(f.from=l,c&&(i||(i=[])).push(f))):(f.from+=l,c&&(i||(i=[])).push(f));if(i&&(i=sa(i)),e&&e!=i&&(e=sa(e)),a=[i],!c){if(p=t.text.length-2,p>0&&i)for(u=0;u<i.length;++u)null==i[u].to&&(y||(y=[])).push(new pe(i[u].marker,null,null));for(u=0;p>u;++u)a.push(y);a.push(e)}return a}function sa(n){for(var i,t=0;t<n.length;++t)i=n[t],null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&n.splice(t--,1);return n.length?n:null}function ha(n,t){var i=kb(n,t),s=bs(n,t),r,f,u,e,h,o;if(!i)return s;if(!s)return i;for(r=0;r<i.length;++r)if(f=i[r],u=s[r],f&&u)n:for(e=0;e<u.length;++e){for(h=u[e],o=0;o<f.length;++o)if(f[o].marker==h.marker)continue n;f.push(h)}else u&&(i[r]=u);return i}function ub(n,t,i){var r=null,f,h,u;if(n.iter(t.line,i.line+1,function(n){var t,i;if(n.markedSpans)for(t=0;t<n.markedSpans.length;++t)i=n.markedSpans[t].marker,!i.readOnly||r&&-1!=p(r,i)||(r||(r=[])).push(i)}),!r)return null;for(f=[{from:t,to:i}],h=0;h<r.length;++h)for(var l=r[h],e=l.find(0),s=0;s<f.length;++s)if(u=f[s],!(o(u.to,e.from)<0||o(u.from,e.to)>0)){var c=[s,1],a=o(u.from,e.from),v=o(u.to,e.to);(0>a||!l.inclusiveLeft&&!a)&&c.push({from:u.from,to:e.from});(v>0||!l.inclusiveRight&&!v)&&c.push({from:e.to,to:u.to});f.splice.apply(f,c);s+=c.length-1}return f}function ca(n){var i=n.markedSpans,t;if(i){for(t=0;t<i.length;++t)i[t].marker.detachLine(n);n.markedSpans=null}}function la(n,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(n);n.markedSpans=t}}function lr(n){return n.inclusiveLeft?-1:0}function ar(n){return n.inclusiveRight?1:0}function aa(n,t){var r=n.lines.length-t.lines.length,i;if(0!=r)return r;var u=n.find(),f=t.find(),e=o(u.from,f.from)||lr(n)-lr(t);return e?-e:(i=o(u.to,f.to)||ar(n)-ar(t),i?i:t.id-n.id)}function va(n,t){var r,f=oi&&n.markedSpans,i,u;if(f)for(u=0;u<f.length;++u)i=f[u],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||aa(r,i.marker)<0)&&(r=i.marker);return r}function ya(n){return va(n,!0)}function vu(n){return va(n,!1)}function pa(n,t,i,u,f){var v=r(n,t),l=oi&&v.markedSpans,s,e;if(l)for(s=0;s<l.length;++s)if(e=l[s],e.marker.collapsed){var h=e.marker.find(0),c=o(h.from,i)||lr(e.marker)-lr(f),a=o(h.to,u)||ar(e.marker)-ar(f);if(!(c>=0&&0>=a||0>=c&&a>=0)&&(0>=c&&(o(h.to,i)||ar(e.marker)-lr(f))>0||c>=0&&(o(h.from,u)||lr(e.marker)-ar(f))<0))return!0}}function ct(n){for(var t;t=ya(n);)n=t.find(-1,!0).line;return n}function fb(n){for(var i,t;i=vu(n);)n=i.find(1,!0).line,(t||(t=[])).push(n);return t}function ks(n,t){var i=r(n,t),u=ct(i);return i==u?t:c(u)}function wa(n,t){if(t>n.lastLine())return t;var u,i=r(n,t);if(!bi(n,i))return t;for(;u=vu(i);)i=u.find(1,!0).line;return c(i)+1}function bi(n,t){var u=oi&&t.markedSpans,i,r;if(u)for(r=0;r<u.length;++r)if((i=u[r],i.marker.collapsed)&&(null==i.from||!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&ds(n,t,i)))return!0}function ds(n,t,i){var f,r,u;if(null==i.to)return f=i.marker.find(1,!0),ds(n,f.line,au(f.line.markedSpans,i.marker));if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(u=0;u<t.markedSpans.length;++u)if(r=t.markedSpans[u],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&ds(n,t,r))return!0}function ba(n,t,i){gt(t)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&vs(n,null,i)}function yu(n){return null!=n.height?n.height:(gb(document.body,n.node)||pt(n.cm.display.measure,i("div",[n.node],null,"position: relative")),n.height=n.node.offsetHeight)}function eb(n,t,i,r){var u=new sf(n,i,r);return u.noHScroll&&(n.display.alignWidgets=!0),ve(n,t,"widget",function(t){var i=t.widgets||(t.widgets=[]),r;return(null==u.insertAt?i.push(u):i.splice(Math.min(i.length-1,Math.max(0,u.insertAt)),0,u),u.line=t,bi(n.doc,t))||(r=gt(t)<n.doc.scrollTop,lt(t,t.height+yu(u)),r&&vs(n,null,u.height),n.curOp.forceUpdate=!0),!0}),u}function ob(n,t,i,r){n.text=t;n.stateAfter&&(n.stateAfter=null);n.styles&&(n.styles=null);null!=n.order&&(n.order=null);ca(n);la(n,i);var u=r?r(n):1;u!=n.height&&lt(n,u)}function sb(n){n.parent=null;ca(n)}function ka(n,t){var i,r;if(n)for(;;){if(i=n.match(/(?:^|\s+)line-(background-)?(\S+)/),!i)break;n=n.slice(0,i.index)+n.slice(i.index+i[0].length);r=i[1]?"bgClass":"textClass";null==t[r]?t[r]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+i[2])}return n}function da(t,i){if(t.blankLine)return t.blankLine(i);if(t.innerMode){var r=n.innerMode(t,i);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function gs(n,t,i){for(var u,r=0;10>r;r++)if(u=n.token(t,i),t.pos>t.start)return u;throw new Error("Mode "+n.name+" failed to advance stream.");}function ga(t,i,r,u,f,e,o){var l=r.flattenSpans,v,y;null==l&&(l=t.options.flattenSpans);var h,c=0,a=null,s=new ef(i,t.options.tabSize);for(""==i&&ka(da(r,u),e);!s.eol();)(s.pos>t.options.maxHighlightLength?(l=!1,o&&nh(t,i,u,s.pos),s.pos=i.length,h=null):h=ka(gs(r,s,u),e),t.options.addModeClass)&&(v=n.innerMode(r,u).mode.name,v&&(h="m-"+(h?v+" "+h:v))),l&&a==h||(c<s.start&&f(s.start,a),c=s.start,a=h),s.start=s.pos;for(;c<s.pos;)y=Math.min(s.pos,c+5e4),f(y,a),c=y}function nv(n,t,i,r){var u=[n.state.modeGen],e={},o;for(ga(n,t.text,n.doc.mode,i,function(n,t){u.push(n,t)},e,r),o=0;o<n.state.overlays.length;++o){var s=n.state.overlays[o],f=1,h=0;ga(n,t.text,s.mode,!0,function(n,t){for(var r,e,i=f;n>h;)r=u[f],r>n&&u.splice(f,1,n,u[f+1],r),f+=2,h=Math.min(n,r);if(t)if(s.opaque)u.splice(i,f-i,n,"cm-overlay "+t),f=i+2;else for(;f>i;i+=2)e=u[i+1],u[i+1]=(e?e+" ":"")+"cm-overlay "+t},e)}return{styles:u,classes:e.bgClass||e.textClass?e:null}}function tv(n,t){if(!t.styles||t.styles[0]!=n.state.modeGen){var i=nv(n,t,t.stateAfter=uu(n,c(t)));t.styles=i.styles;i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null)}return t.styles}function nh(n,t,i,r){var f=n.doc.mode,u=new ef(t,n.options.tabSize);for(u.start=u.pos=r||0,""==t&&da(f,i);!u.eol()&&u.pos<=n.options.maxHighlightLength;)gs(f,u,i),u.start=u.pos}function iv(n,t){if(!n||/^\s*$/.test(n))return null;var i=t.addModeClass?ly:cy;return i[n]||(i[n]=n.replace(/\S+/g,"cm-$&"))}function rv(n,t){var e=i("span",null,null,d?"padding-right: .1px":null),r={pre:i("pre",[e]),content:e,col:0,pos:0,cm:n},f,o,u;for(t.measure={},f=0;f<=(t.rest?t.rest.length:0);f++)u=f?t.rest[f-1]:t.line,r.pos=0,r.addToken=cb,(b||d)&&n.getOption("lineWrapping")&&(r.addToken=lb(r.addToken)),rk(n.display.measure)&&(o=at(u))&&(r.addToken=ab(r.addToken,o)),r.map=[],vb(u,r,tv(n,u)),u.styleClasses&&(u.styleClasses.bgClass&&(r.bgClass=dv(u.styleClasses.bgClass,r.bgClass||"")),u.styleClasses.textClass&&(r.textClass=dv(u.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(ik(n.display.measure))),0==f?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}));return v(n,"renderLine",n,t.line,r.pre),r}function hb(n){var t=i("span","•","cm-invalidchar");return t.title="\\u"+n.charCodeAt(0).toString(16),t}function cb(n,t,r,u,f,e){var a,y,h,l,c,s,o,v,p;if(t){if(a=n.cm.options.specialChars,y=!1,a.test(t))for(o=document.createDocumentFragment(),h=0;;){if(a.lastIndex=h,l=a.exec(t),c=l?l.index-h:t.length-h,c&&(s=document.createTextNode(t.slice(h,h+c)),w?o.appendChild(i("span",[s])):o.appendChild(s),n.map.push(n.pos,n.pos+c,s),n.col+=c,n.pos+=c),!l)break;if(h+=c+1,"\t"==l[0]){var b=n.cm.options.tabSize,k=b-n.col%b,s=o.appendChild(i("span",wv(k),"cm-tab"));n.col+=k}else s=n.cm.options.specialCharPlaceholder(l[0]),w?o.appendChild(i("span",[s])):o.appendChild(s),n.col+=1;n.map.push(n.pos,n.pos+1,s);n.pos++}else n.col+=t.length,o=document.createTextNode(t),n.map.push(n.pos,n.pos+t.length,o),w&&(y=!0),n.pos+=t.length;if(r||u||f||y)return v=r||"",u&&(v+=u),f&&(v+=f),p=i("span",[o],v),e&&(p.title=e),n.content.appendChild(p);n.content.appendChild(o)}}function lb(n){function t(n){for(var i=" ",t=0;t<n.length-2;++t)i+=t%2?" ":" ";return i+" "}return function(i,r,u,f,e,o){n(i,r.replace(/ {3,}/g,t),u,f,e,o)}}function ab(n,t){return function(i,r,u,f,e,o){var s,l,c,h;for(u=u?u+" cm-force-border":"cm-force-border",s=i.pos,l=s+r.length;;){for(c=0;c<t.length;c++)if(h=t[c],h.to>s&&h.from<=s)break;if(h.to>=l)return n(i,r,u,f,e,o);n(i,r.slice(0,h.to-s),u,f,null,o);f=null;r=r.slice(h.to-s);s=h.to}}}function uv(n,t,i,r){var u=!r&&i.widgetNode;u&&(n.map.push(n.pos,n.pos+t,u),n.content.appendChild(u));n.pos+=t}function vb(n,t,i){var d=n.markedSpans,g=n.text,v=0,a,u,f,s,l,k,it,h;if(d)for(var nt,y,p,w,b,e,tt=g.length,r=0,h=1,c="",o=0;;){if(o==r){for(y=p=w=b="",e=null,o=1/0,a=[],s=0;s<d.length;++s)u=d[s],f=u.marker,u.from<=r&&(null==u.to||u.to>r)?(null!=u.to&&o>u.to&&(o=u.to,p=""),f.className&&(y+=" "+f.className),f.startStyle&&u.from==r&&(w+=" "+f.startStyle),f.endStyle&&u.to==o&&(p+=" "+f.endStyle),f.title&&!b&&(b=f.title),f.collapsed&&(!e||aa(e.marker,f)<0)&&(e=u)):u.from>r&&o>u.from&&(o=u.from),"bookmark"==f.type&&u.from==r&&f.widgetNode&&a.push(f);if(e&&(e.from||0)==r&&(uv(t,(null==e.to?tt+1:e.to)-r,e.marker,null==e.from),null==e.to))return;if(!e&&a.length)for(s=0;s<a.length;++s)uv(t,0,a[s])}if(r>=tt)break;for(l=Math.min(tt,o);;){if(c){if(k=r+c.length,e||(it=k>l?c.slice(0,l-r):c,t.addToken(t,it,nt?nt+y:y,w,r+it.length==o?p:"",b)),k>=l){c=c.slice(l-r);r=l;break}r=k;w=""}c=g.slice(v,v=i[h++]);nt=iv(i[h++],t.cm.options)}}else for(h=1;h<i.length;h+=2)t.addToken(t,g.slice(v,v=i[h]),iv(i[h+1],t.cm.options))}function fv(n,t){return 0==t.from.ch&&0==t.to.ch&&""==s(t.text)&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function th(n,t,i,u){function l(n){return i?i[n]:null}function a(n,i,r){ob(n,i,r,u);y(n,"change",n,t)}var o=t.from,v=t.to,e=t.text,h=r(n,o.line),p=r(n,v.line),k=s(e),b=l(e.length-1),w=v.line-o.line,f,c;if(fv(n,t)){for(f=0,c=[];f<e.length-1;++f)c.push(new li(e[f],l(f),u));a(p,p.text,b);w&&n.remove(o.line,w);c.length&&n.insert(o.line,c)}else if(h==p)if(1==e.length)a(h,h.text.slice(0,o.ch)+k+h.text.slice(v.ch),b);else{for(c=[],f=1;f<e.length-1;++f)c.push(new li(e[f],l(f),u));c.push(new li(k+h.text.slice(v.ch),b,u));a(h,h.text.slice(0,o.ch)+e[0],l(0));n.insert(o.line+1,c)}else if(1==e.length)a(h,h.text.slice(0,o.ch)+e[0]+p.text.slice(v.ch),l(0)),n.remove(o.line+1,w);else{for(a(h,h.text.slice(0,o.ch)+e[0],l(0)),a(p,k+p.text.slice(v.ch),b),f=1,c=[];f<e.length-1;++f)c.push(new li(e[f],l(f),u));w>1&&n.remove(o.line+1,w-1);n.insert(o.line+1,c)}y(n,"change",n,t)}function pu(n){this.lines=n;this.parent=null;for(var t=0,i=0;t<n.length;++t)n[t].parent=this,i+=n[t].height;this.height=i}function wu(n){var t;this.children=n;for(var r=0,u=0,i=0;i<n.length;++i)t=n[i],r+=t.chunkSize(),u+=t.height,t.parent=this;this.size=r;this.height=u;this.parent=null}function ki(n,t,i){function r(n,u,f){var o,e,s;if(n.linked)for(o=0;o<n.linked.length;++o)e=n.linked[o],e.doc!=u&&(s=f&&e.sharedHist,(!i||s)&&(t(e.doc,s),r(e.doc,n,s)))}r(n,null,!0)}function ev(n,t){if(t.cm)throw new Error("This document is already in use.");n.doc=t;t.cm=n;ao(n);lo(n);n.options.lineWrapping||yo(n);n.options.mode=t.modeOption;rt(n)}function r(n,t){var i,r,u,f;if(t-=n.first,0>t||t>=n.size)throw new Error("There is no line "+(t+n.first)+" in the document.");for(i=n;!i.lines;)for(r=0;;++r){if(u=i.children[r],f=u.chunkSize(),f>t){i=u;break}t-=f}return i.lines[t]}function bu(n,t,i){var u=[],r=t.line;return n.iter(t.line,i.line+1,function(n){var f=n.text;r==i.line&&(f=f.slice(0,i.ch));r==t.line&&(f=f.slice(t.ch));u.push(f);++r}),u}function ih(n,t,i){var r=[];return n.iter(t,i,function(n){r.push(n.text)}),r}function lt(n,t){var r=t-n.height,i;if(r)for(i=n;i;i=i.parent)i.height+=r}function c(n){var r;if(null==n.parent)return null;for(var i=n.parent,u=p(i.lines,n),t=i.parent;t;i=t,t=t.parent)for(r=0;t.children[r]!=i;++r)u+=t.children[r].chunkSize();return u+i.first}function di(n,t){var u=n.first,r,f,i,o,e;n:do{for(i=0;i<n.children.length;++i){if(r=n.children[i],f=r.height,f>t){n=r;continue n}t-=f;u+=r.chunkSize()}return u}while(!n.lines);for(i=0;i<n.lines.length;++i){if(o=n.lines[i],e=o.height,e>t)break;t-=e}return u+i}function gt(n){var f,r,t,e;n=ct(n);for(var u=0,i=n.parent,t=0;t<i.lines.length;++t){if(f=i.lines[t],f==n)break;u+=f.height}for(r=i.parent;r;i=r,r=i.parent)for(t=0;t<r.children.length;++t){if(e=r.children[t],e==i)break;u+=e.height}return u}function at(n){var t=n.order;return null==t&&(t=n.order=by(n.text)),t}function we(n){this.done=[];this.undone=[];this.undoDepth=1/0;this.lastModTime=this.lastSelTime=0;this.lastOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=n||1}function rh(n,t){var i={from:ts(t.from),to:si(t),text:bu(n,t.from,t.to)};return hv(n,i,t.from.line,t.to.line+1),ki(n,function(n){hv(n,i,t.from.line,t.to.line+1)},!0),i}function ov(n){for(;n.length;){var t=s(n);if(!t.ranges)break;n.pop()}}function yb(n,t){return t?(ov(n.done),s(n.done)):n.done.length&&!s(n.done).ranges?s(n.done):n.done.length>1&&!n.done[n.done.length-2].ranges?(n.done.pop(),s(n.done)):void 0}function sv(n,t,i,r){var u=n.history,f,h,e,c;if(u.undone.length=0,h=+new Date,(u.lastOp==r||u.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&n.cm&&u.lastModTime>h-n.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(f=yb(u,u.lastOp==r)))e=s(f.changes),0==o(t.from,t.to)&&0==o(t.from,e.to)?e.to=si(t):f.changes.push(rh(n,t));else for(c=s(u.done),c&&c.ranges||be(n.sel,u.done),f={changes:[rh(n,t)],generation:u.generation},u.done.push(f);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift();u.done.push(i);u.generation=++u.maxGeneration;u.lastModTime=u.lastSelTime=h;u.lastOp=r;u.lastOrigin=u.lastSelOrigin=t.origin;e||v(n,"historyAdded")}function pb(n,t,i,r){var u=t.charAt(0);return"*"==u||"+"==u&&i.ranges.length==r.ranges.length&&i.somethingSelected()==r.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function wb(n,t,i,r){var u=n.history,f=r&&r.origin;i==u.lastOp||f&&u.lastSelOrigin==f&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==f||pb(n,f,s(u.done),t))?u.done[u.done.length-1]=t:be(t,u.done);u.lastSelTime=+new Date;u.lastSelOrigin=f;u.lastOp=i;r&&r.clearRedo!==!1&&ov(u.undone)}function be(n,t){var i=s(t);i&&i.ranges&&i.equals(n)||t.push(n)}function hv(n,t,i,r){var u=t["spans_"+n.id],f=0;n.iter(Math.max(n.first,i),Math.min(n.first+n.size,r),function(i){i.markedSpans&&((u||(u=t["spans_"+n.id]={}))[f]=i.markedSpans);++f})}function bb(n){if(!n)return null;for(var t,i=0;i<n.length;++i)n[i].marker.explicitlyCleared?t||(t=n.slice(0,i)):t&&t.push(n[i]);return t?t.length?t:null:n}function kb(n,t){var u=t["spans_"+n.id],i,r;if(!u)return null;for(i=0,r=[];i<t.text.length;++i)r.push(bb(u[i]));return r}function vr(n,t,i){for(var u,l,h,c,a,r,f,e=0,o=[];e<n.length;++e)if(u=n[e],u.ranges)o.push(i?bt.prototype.deepCopy.call(u):u);else for(l=u.changes,h=[],o.push({changes:h}),c=0;c<l.length;++c)if(r=l[c],h.push({from:r.from,to:r.to,text:r.text}),t)for(f in r)(a=f.match(/^spans_(\d+)$/))&&p(t,Number(a[1]))>-1&&(s(h)[f]=r[f],delete r[f]);return o}function cv(n,t,i,r){i<n.line?n.line+=r:t<n.line&&(n.line=t,n.ch=0)}function lv(n,i,r,u){for(var f,h,e,o,s=0;s<n.length;++s)if(f=n[s],h=!0,f.ranges)for(f.copied||(f=n[s]=f.deepCopy(),f.copied=!0),e=0;e<f.ranges.length;e++)cv(f.ranges[e].anchor,i,r,u),cv(f.ranges[e].head,i,r,u);else{for(e=0;e<f.changes.length;++e)if(o=f.changes[e],r<o.from.line)o.from=t(o.from.line+u,o.from.ch),o.to=t(o.to.line+u,o.to.ch);else if(i<=o.to.line){h=!1;break}h||(n.splice(0,s+1),s=0)}}function av(n,t){var i=t.from.line,r=t.to.line,u=t.text.length-(r-i)-1;lv(n.done,i,r,u);lv(n.undone,i,r,u)}function uh(n){return null!=n.defaultPrevented?n.defaultPrevented:0==n.returnValue}function ku(n){return n.target||n.srcElement}function vv(n){var t=n.which;return null==t&&(1&n.button?t=1:2&n.button?t=3:4&n.button&&(t=2)),ei&&n.ctrlKey&&1==t&&(t=3),t}function y(n,t){function f(n){return function(){n.apply(null,u)}}var r=n._handlers&&n._handlers[t],u,i;if(r)for(u=Array.prototype.slice.call(arguments,2),ai||(++oo,ai=[],setTimeout(db,0)),i=0;i<r.length;++i)ai.push(f(r[i]))}function db(){var t,n;for(--oo,t=ai,ai=null,n=0;n<t.length;++n)t[n]()}function vt(n,t,i){return v(n,i||t.type,n,t),uh(t)||t.codemirrorIgnore}function yv(n){var i=n._handlers&&n._handlers.cursorActivity,r,t;if(i)for(r=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),t=0;t<i.length;++t)-1==p(r,i[t])&&r.push(i[t])}function ut(n,t){var i=n._handlers&&n._handlers[t];return i&&i.length>0}function yr(n){n.prototype.on=function(n,t){e(this,n,t)};n.prototype.off=function(n,t){ti(this,n,t)}}function fh(){this.id=null}function pv(n,t,i){for(var f,e,r=0,u=0;;){if(f=n.indexOf("\t",r),-1==f&&(f=n.length),e=f-r,f==n.length||u+e>=t)return r+Math.min(e,t-u);if(u+=f-r,u+=i-u%i,r=f+1,u>=t)return r}}function wv(n){for(;ho.length<=n;)ho.push(s(ho)+" ");return ho[n]}function s(n){return n[n.length-1]}function p(n,t){for(var i=0;i<n.length;++i)if(n[i]==t)return i;return-1}function eh(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=t(n[i],i);return r}function bv(n,t){var i,r;return Object.create?i=Object.create(n):(r=function(){},r.prototype=n,i=new r),t&&du(t,i),i}function du(n,t,i){t||(t={});for(var r in n)!n.hasOwnProperty(r)||i===!1&&t.hasOwnProperty(r)||(t[r]=n[r]);return t}function yt(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t)}}function kv(n){for(var t in n)if(n.hasOwnProperty(t)&&n[t])return!1;return!0}function gu(n){return n.charCodeAt(0)>=768&&gk.test(n)}function i(n,t,i,r){var u=document.createElement(n),f;if(i&&(u.className=i),r&&(u.style.cssText=r),"string"==typeof t)u.appendChild(document.createTextNode(t));else if(t)for(f=0;f<t.length;++f)u.appendChild(t[f]);return u}function gi(n){for(var t=n.childNodes.length;t>0;--t)n.removeChild(n.firstChild);return n}function pt(n,t){return gi(n).appendChild(t)}function gb(n,t){if(n.contains)return n.contains(t);for(;t=t.parentNode;)if(t==n)return!0}function fi(){return document.activeElement}function oh(n){return new RegExp("\\b"+n+"\\b\\s*")}function ke(n,t){var i=oh(t);i.test(n.className)&&(n.className=n.className.replace(i,""))}function de(n,t){oh(t).test(n.className)||(n.className+=" "+t)}function dv(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)r[i]&&!oh(r[i]).test(t)&&(t+=" "+r[i]);return t}function gv(n){var i,t,r;if(document.body.getElementsByClassName)for(i=document.body.getElementsByClassName("CodeMirror"),t=0;t<i.length;t++)r=i[t].CodeMirror,r&&n(r)}function nk(){py||(tk(),py=!0)}function tk(){var n;e(window,"resize",function(){null==n&&(n=setTimeout(function(){n=null;af=null;gv(uw)},100))});e(window,"blur",function(){gv(se)})}function nf(n){if(null!=af)return af;var t=i("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return pt(n,t),t.offsetWidth&&(af=t.offsetHeight-t.clientHeight),af||0}function ik(n){if(null==dh){var t=i("span","​");pt(n,i("span",[t,document.createTextNode("x")]));0!=n.firstChild.offsetHeight&&(dh=t.offsetWidth<=1&&t.offsetHeight>2&&!rf)}return dh?i("span","​"):i("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function rk(n){var i,t,r;return null!=gh?gh:(i=pt(n,document.createTextNode("AخA")),t=lf(i,0,1).getBoundingClientRect(),t.left==t.right)?!1:(r=lf(i,1,2).getBoundingClientRect(),gh=r.right-t.right<3)}function uk(n,t,i,r){var e,f,u;if(!n)return r(t,i,"ltr");for(e=!1,f=0;f<n.length;++f)u=n[f],(u.from<i&&u.to>t||t==i&&u.to==t)&&(r(Math.max(u.from,t),Math.min(u.to,i),1==u.level?"rtl":"ltr"),e=!0);e||r(t,i,"ltr")}function sh(n){return n.level%2?n.to:n.from}function hh(n){return n.level%2?n.from:n.to}function ge(n){var t=at(n);return t?sh(t[0]):0}function no(n){var t=at(n);return t?hh(s(t)):n.text.length}function ny(n,i){var e=r(n.doc,i),u=ct(e),f,o;return u!=e&&(i=c(u)),f=at(u),o=f?f[0].level%2?no(u):ge(u):0,t(i,o)}function fk(n,i){for(var e,f,o,u=r(n.doc,i);e=vu(u);)u=e.find(1,!0).line,i=null;return f=at(u),o=f?f[0].level%2?ge(u):no(u):u.text.length,t(null==i?c(u):i,o)}function ek(n,t,i){var r=n[0].level;return t==r?!0:i==r?!1:i>t}function ch(n,t){var u,r,i;for(vf=null,r=0;r<n.length;++r){if(i=n[r],i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=u)return ek(n,i.level,n[u].level)?(i.from!=i.to&&(vf=u),r):(i.from!=i.to&&(vf=r),u);u=r}}return u}function lh(n,t,i,r){if(!r)return t+i;do t+=i;while(t>0&&gu(n.text.charAt(t)));return t}function ah(n,t,i,r){var e=at(n);if(!e)return ty(n,t,i,r);for(var o=ch(e,t),u=e[o],f=lh(n,t,u.level%2?-i:i,r);;){if(f>u.from&&f<u.to)return f;if(f==u.from||f==u.to)return ch(e,f)==o?f:(u=e[o+=i],i>0==u.level%2?u.to:u.from);if(u=e[o+=i],!u)return null;f=i>0==u.level%2?lh(n,u.to,-1,r):lh(n,u.from,1,r)}}function ty(n,t,i,r){var u=t+i;if(r)for(;u>0&&gu(n.text.charAt(u));)u+=i;return 0>u||u>n.text.length?null:u}var tf=/gecko\/\d/i.test(navigator.userAgent),ni=/MSIE \d/.test(navigator.userAgent),rf=ni&&(null==document.documentMode||document.documentMode<8),w=ni&&(null==document.documentMode||document.documentMode<9),ok=ni&&(null==document.documentMode||document.documentMode<10),sk=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),b=ni||sk,d=/WebKit\//.test(navigator.userAgent),hk=d&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ck=/Chrome\//.test(navigator.userAgent),ft=/Opera\//.test(navigator.userAgent),iy=/Apple Computer/.test(navigator.vendor),vh=/KHTML\//.test(navigator.userAgent),lk=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ak=/PhantomJS/.test(navigator.userAgent),uf=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),yh=uf||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),ei=uf||/Mac/.test(navigator.platform),vk=/win/i.test(navigator.platform),nr=ft&&navigator.userAgent.match(/Version\/(\d*\.\d*)/),ey,uo,si,bh,wr,br,fo,hi,kr,sy,ff,wt,ef,ci,hy,of,sf,li,cy,ly,ay,g,vy,hf,vf,by;nr&&(nr=Number(nr[1]));nr&&nr>=15&&(ft=!1,d=!0);var ry=ei&&(hk||ft&&(null==nr||12.11>nr)),ph=tf||b&&!w,uy=!1,oi=!1,t=n.Pos=function(n,i){return this instanceof t?(this.line=n,this.ch=i,void 0):new t(n,i)},o=n.cmpPos=function(n,t){return n.line-t.line||n.ch-t.ch};bt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(n){var t,i,r;if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(t=0;t<this.ranges.length;t++)if(i=this.ranges[t],r=n.ranges[t],0!=o(i.anchor,r.anchor)||0!=o(i.head,r.head))return!1;return!0},deepCopy:function(){for(var t=[],n=0;n<this.ranges.length;n++)t[n]=new h(ts(this.ranges[n].anchor),ts(this.ranges[n].head));return new bt(t,this.primIndex)},somethingSelected:function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},contains:function(n,t){var i,r;for(t||(t=n),i=0;i<this.ranges.length;i++)if(r=this.ranges[i],o(t,r.from())>=0&&o(n,r.to())<=0)return i;return-1}};h.prototype={from:function(){return rs(this.anchor,this.head)},to:function(){return is(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var tr,to,io,wh={left:0,right:0,top:0,bottom:0},yk=0,fy=0,ro=0,et=null;b?et=-.53:tf?et=15:ck?et=-.7:iy&&(et=-1/3);uo=null;si=n.changeEnd=function(n){return n.text?t(n.from.line+n.text.length-1,s(n.text).length+(1==n.text.length?n.from.ch:0)):n.to};n.prototype={constructor:n,focus:function(){window.focus();it(this);su(this)},setOption:function(n,t){var i=this.options,r=i[n];(i[n]!=t||"mode"==n)&&(i[n]=t,pr.hasOwnProperty(n)&&a(this,pr[n])(this,t,r))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,t){this.state.keyMaps[t?"push":"unshift"](n)},removeKeyMap:function(n){for(var i=this.state.keyMaps,t=0;t<i.length;++t)if(i[t]==n||"string"!=typeof i[t]&&i[t].name==n)return i.splice(t,1),!0},addOverlay:l(function(t,i){var r=t.token?t:n.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:i&&i.opaque});this.state.modeGen++;rt(this)}),removeOverlay:l(function(n){for(var r,i=this.state.overlays,t=0;t<i.length;++t)if(r=i[t].modeSpec,r==n||"string"==typeof n&&r.name==n)return i.splice(t,1),this.state.modeGen++,rt(this),void 0}),indentLine:l(function(n,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract");tu(this.doc,n)&&lu(this,n,t,i)}),indentSelection:l(function(n){for(var t,o,f,u,e=this.doc.sel.ranges,i=-1,r=0;r<e.length;r++)if(t=e[r],t.empty())t.head.line>i&&(lu(this,t.head.line,n,!0),i=t.head.line,r==this.doc.sel.primIndex&&hr(this));else for(o=Math.max(i,t.from().line),f=t.to(),i=Math.min(this.lastLine(),f.line-(f.ch?0:1))+1,u=o;i>u;++u)lu(this,u,n)}),getTokenAt:function(n,t){var f=this.doc,o;n=u(f,n);for(var e=uu(this,n.line,t),s=this.doc.mode,h=r(f,n.line),i=new ef(h.text,this.options.tabSize);i.pos<n.ch&&!i.eol();)i.start=i.pos,o=gs(s,i,e);return{start:i.start,end:i.pos,string:i.current(),type:o||null,state:e}},getTokenTypeAt:function(n){var t,e;n=u(this.doc,n);var i,f=tv(this,r(this.doc,n.line)),s=0,h=(f.length-1)/2,o=n.ch;if(0==o)i=f[2];else for(;;)if(t=s+h>>1,(t?f[2*t-1]:0)>=o)h=t;else{if(!(f[2*t+1]<o)){i=f[2*t+2];break}s=t+1}return e=i?i.indexOf("cm-overlay "):-1,0>e?i:0==e?null:i.slice(0,e-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?n.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(n,t){return this.getHelpers(n,t)[0]},getHelpers:function(n,t){var f=[],r,i,o,u,e;if(!hi.hasOwnProperty(t))return hi;if(r=hi[t],i=this.getModeAt(n),"string"==typeof i[t])r[i[t]]&&f.push(r[i[t]]);else if(i[t])for(u=0;u<i[t].length;u++)o=r[i[t][u]],o&&f.push(o);else i.helperType&&r[i.helperType]?f.push(r[i.helperType]):r[i.name]&&f.push(r[i.name]);for(u=0;u<r._global.length;u++)e=r._global[u],e.pred(i,this)&&-1==p(f,e.val)&&f.push(e.val);return f},getStateAfter:function(n,t){var i=this.doc;return n=ac(i,null==n?i.first+i.size-1:n),uu(this,n+1,t)},cursorCoords:function(n,t){var r,i=this.doc.sel.primary();return r=null==n?i.head:"object"==typeof n?u(this.doc,n):n?i.from():i.to(),kt(this,r,t||"page")},charCoords:function(n,t){return os(this,u(this.doc,n),t||"page")},coordsChar:function(n,t){return n=sl(this,n,t||"page"),ss(this,n.left,n.top)},lineAtHeight:function(n,t){return n=sl(this,{top:n,left:0},t||"page").top,di(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,t){var u=!1,f=this.doc.first+this.doc.size-1,i;return n<this.doc.first?n=this.doc.first:n>f&&(n=f,u=!0),i=r(this.doc,n),es(this,i,{top:0,left:0},t||"page").top+(u?this.doc.height-gt(i):0)},defaultTextHeight:function(){return pi(this.display)},defaultCharWidth:function(){return eu(this.display)},setGutterMarker:l(function(n,t,i){return ve(this,n,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return r[t]=i,!i&&kv(r)&&(n.gutterMarkers=null),!0})}),clearGutter:l(function(n){var t=this,i=t.doc,r=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[n]&&(i.gutterMarkers[n]=null,ri(t,r,"gutter"),kv(i.gutterMarkers)&&(i.gutterMarkers=null));++r})}),addLineClass:l(function(n,t,i){return ve(this,n,"class",function(n){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(n[r]){if(new RegExp("(?:^|\\s)"+i+"(?:$|\\s)").test(n[r]))return!1;n[r]+=" "+i}else n[r]=i;return!0})}),removeLineClass:l(function(n,t,i){return ve(this,n,"class",function(n){var f="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",u=n[f],r,e;if(!u)return!1;if(null==i)n[f]=null;else{if(r=u.match(new RegExp("(?:^|\\s+)"+i+"(?:$|\\s+)")),!r)return!1;e=r.index+r[0].length;n[f]=u.slice(0,r.index)+(r.index&&e!=u.length?" ":"")+u.slice(e)||null}return!0})}),addLineWidget:l(function(n,t,i){return eb(this,n,t,i)}),removeLineWidget:function(n){n.clear()},lineInfo:function(n){var t;if("number"==typeof n){if(!tu(this.doc,n)||(t=n,n=r(this.doc,n),!n))return null}else if(t=c(n),null==t)return null;return{line:t,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,t,i,r,f){var s=this.display,o,e,h,c;n=kt(this,u(this.doc,n));o=n.bottom;e=n.left;(t.style.position="absolute",s.sizer.appendChild(t),"over"==r)?o=n.top:("above"==r||"near"==r)&&(h=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth),("above"==r||n.bottom+t.offsetHeight>h)&&n.top>t.offsetHeight?o=n.top-t.offsetHeight:n.bottom+t.offsetHeight<=h&&(o=n.bottom),e+t.offsetWidth>c&&(e=c-t.offsetWidth));t.style.top=o+"px";t.style.left=t.style.right="";"right"==f?(e=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==f?e=0:"middle"==f&&(e=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=e+"px");i&&bw(this,e,o,e+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:l(kl),triggerOnKeyPress:l(gl),triggerOnKeyUp:l(dl),execCommand:function(n){if(ff.hasOwnProperty(n))return ff[n](this)},findPosH:function(n,t,i,r){var o=1,e,f;for(0>t&&(o=-1,t=-t),e=0,f=u(this.doc,n);t>e&&(f=ys(this.doc,f,o,i,r),!f.hitSide);++e);return f},moveH:l(function(n,t){var i=this;i.extendSelectionsBy(function(r){return i.display.shift||i.doc.extend||r.empty()?ys(i.doc,r.head,n,t,i.options.rtlMoveVisually):0>n?r.from():r.to()},rr)}),deleteH:l(function(n,t){var r=this.doc.sel,i=this.doc;r.somethingSelected()?i.replaceSelection("",null,"+delete"):ye(this,function(r){var u=ys(i,r.head,n,t,!1);return 0>n?{from:u,to:r.head}:{from:r.head,to:u}})}),findPosV:function(n,t,i,r){var h=1,o=r,s,f,e;for(0>t&&(h=-1,t=-t),s=0,f=u(this.doc,n);t>s;++s)if(e=kt(this,f,"div"),null==o?o=e.left:e.left=o,f=ea(this,e,h,i),f.hitSide)break;return f},moveV:l(function(n,t){var r=this,i=this.doc,f=[],e=!r.display.shift&&!i.extend&&i.sel.somethingSelected(),u;if(i.extendSelectionsBy(function(u){var o,s;return e?0>n?u.from():u.to():(o=kt(r,u.head,"div"),null!=u.goalColumn&&(o.left=u.goalColumn),f.push(o.left),s=ea(r,o,n,t),"page"==t&&u==i.sel.primary()&&vs(r,null,os(r,s,"div").top-o.top),s)},rr),f.length)for(u=0;u<i.sel.ranges.length;u++)i.sel.ranges[u].goalColumn=f[u]}),toggleOverwrite:function(n){(null==n||n!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?de(this.display.cursorDiv,"CodeMirror-overwrite"):ke(this.display.cursorDiv,"CodeMirror-overwrite"),v(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return fi()==this.display.input},scrollTo:l(function(n,t){(null!=n||null!=t)&&ae(this);null!=n&&(this.curOp.scrollLeft=n);null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var n=this.display.scroller,t=ii;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-t,width:n.scrollWidth-t,clientHeight:n.clientHeight-t,clientWidth:n.clientWidth-t}},scrollIntoView:l(function(n,i){if(null==n?(n={from:this.doc.sel.primary().head,to:null},null==i&&(i=this.options.cursorScrollMargin)):"number"==typeof n?n={from:t(n,0),to:null}:null==n.from&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,null!=n.from.line)ae(this),this.curOp.scrollToPos=n;else{var r=le(this,Math.min(n.from.left,n.to.left),Math.min(n.from.top,n.to.top)-n.margin,Math.max(n.from.right,n.to.right),Math.max(n.from.bottom,n.to.bottom)+n.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:l(function(n,t){function i(n){return"number"==typeof n||/^\d+$/.test(String(n))?n+"px":n}null!=n&&(this.display.wrapper.style.width=i(n));null!=t&&(this.display.wrapper.style.height=i(t));this.options.lineWrapping&&fl(this);this.curOp.forceUpdate=!0;v(this,"refresh",this)}),operation:function(n){return dt(this,n)},refresh:l(function(){var n=this.display.cachedTextHeight;rt(this);this.curOp.forceUpdate=!0;fu(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);vo(this);(null==n||Math.abs(n-pi(this.display))>.5)&&ao(this);v(this,"refresh",this)}),swapDoc:l(function(n){var t=this.doc;return t.cm=null,ev(this,n),fu(this),ht(this),this.scrollTo(n.scrollLeft,n.scrollTop),y(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};yr(n);var pk=n.defaults={},pr=n.optionHandlers={},oy=n.Init={toString:function(){return"CodeMirror.Init"}};f("value","",function(n,t){n.setValue(t)},!0);f("mode",null,function(n,t){n.doc.modeOption=t;lo(n)},!0);f("indentUnit",2,lo,!0);f("indentWithTabs",!1);f("smartIndent",!0);f("tabSize",4,function(n){gr(n);fu(n);rt(n)},!0);f("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(n,t){n.options.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g");n.refresh()},!0);f("specialCharPlaceholder",hb,function(n){n.refresh()},!0);f("electricChars",!0);f("rtlMoveVisually",!vk);f("wholeLineUpdateBefore",!0);f("theme","default",function(n){ic(n);nu(n)},!0);f("keyMap","default",tc);f("extraKeys",null);f("lineWrapping",!1,dy,!0);f("gutters",[],function(n){po(n.options);nu(n)},!0);f("fixedGutter",!0,function(n,t){n.display.gutters.style.left=t?go(n.display)+"px":"0";n.refresh()},!0);f("coverGutterNextToScrollbar",!1,pf,!0);f("lineNumbers",!1,function(n){po(n.options);nu(n)},!0);f("firstLineNumber",1,nu,!0);f("lineNumberFormatter",function(n){return n},nu,!0);f("showCursorWhenSelecting",!1,us,!0);f("resetSelectionOnContextMenu",!0);f("readOnly",!1,function(n,t){"nocursor"==t?(se(n),n.display.input.blur(),n.display.disabled=!0):(n.display.disabled=!1,t||ht(n))});f("disableInput",!1,function(n,t){t||ht(n)},!0);f("dragDrop",!0);f("cursorBlinkRate",530);f("cursorScrollMargin",0);f("cursorHeight",1);f("workTime",100);f("workDelay",100);f("flattenSpans",!0,gr,!0);f("addModeClass",!1,gr,!0);f("pollInterval",100);f("undoDepth",200,function(n,t){n.doc.history.undoDepth=t});f("historyEventDelay",1250);f("viewportMargin",10,function(n){n.refresh()},!0);f("maxHighlightLength",1e4,gr,!0);f("moveInputWithCursor",!0,function(n,t){t||(n.display.inputDiv.style.top=n.display.inputDiv.style.left=0)});f("tabindex",null,function(n,t){n.display.input.tabIndex=t||""});f("autofocus",null);bh=n.modes={};wr=n.mimeModes={};n.defineMode=function(t,i){if(n.defaults.mode||"null"==t||(n.defaults.mode=t),arguments.length>2){i.dependencies=[];for(var r=2;r<arguments.length;++r)i.dependencies.push(arguments[r])}bh[t]=i};n.defineMIME=function(n,t){wr[n]=t};n.resolveMode=function(t){if("string"==typeof t&&wr.hasOwnProperty(t))t=wr[t];else if(t&&"string"==typeof t.name&&wr.hasOwnProperty(t.name)){var i=wr[t.name];"string"==typeof i&&(i={name:i});t=bv(i,t);t.name=i.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return n.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}};n.getMode=function(t,i){var i=n.resolveMode(i),e=bh[i.name],u,f,r;if(!e)return n.getMode(t,"text/plain");if(u=e(t,i),br.hasOwnProperty(i.name)){f=br[i.name];for(r in f)f.hasOwnProperty(r)&&(u.hasOwnProperty(r)&&(u["_"+r]=u[r]),u[r]=f[r])}if(u.name=i.name,i.helperType&&(u.helperType=i.helperType),i.modeProps)for(r in i.modeProps)u[r]=i.modeProps[r];return u};n.defineMode("null",function(){return{token:function(n){n.skipToEnd()}}});n.defineMIME("text/plain","null");br=n.modeExtensions={};n.extendMode=function(n,t){var i=br.hasOwnProperty(n)?br[n]:br[n]={};du(t,i)};n.defineExtension=function(t,i){n.prototype[t]=i};n.defineDocExtension=function(n,t){g.prototype[n]=t};n.defineOption=f;fo=[];n.defineInitHook=function(n){fo.push(n)};hi=n.helpers={};n.registerHelper=function(t,i,r){hi.hasOwnProperty(t)||(hi[t]=n[t]={_global:[]});hi[t][i]=r};n.registerGlobalHelper=function(t,i,r,u){n.registerHelper(t,i,u);hi[t]._global.push({pred:r,val:u})};kr=n.copyState=function(n,t){var r,u,i;if(t===!0)return t;if(n.copyState)return n.copyState(t);r={};for(u in t)i=t[u],i instanceof Array&&(i=i.concat([])),r[u]=i;return r};sy=n.startState=function(n,t,i){return n.startState?n.startState(t,i):!0};n.innerMode=function(n,t){for(;n.innerMode;){var i=n.innerMode(t);if(!i||i.mode==n)break;t=i.state;n=i.mode}return i||{mode:n,state:t}};ff=n.commands={selectAll:function(n){n.setSelection(t(n.firstLine(),0),t(n.lastLine()),ir)},singleSelection:function(n){n.setSelection(n.getCursor("anchor"),n.getCursor("head"),ir)},killLine:function(n){ye(n,function(i){if(i.empty()){var u=r(n.doc,i.head.line).text.length;return i.head.ch==u&&i.head.line<n.lastLine()?{from:i.head,to:t(i.head.line+1,0)}:{from:i.head,to:t(i.head.line,u)}}return{from:i.from(),to:i.to()}})},deleteLine:function(n){ye(n,function(i){return{from:t(i.from().line,0),to:u(n.doc,t(i.to().line+1,0))}})},delLineLeft:function(n){ye(n,function(n){return{from:t(n.from().line,0),to:n.from()}})},undo:function(n){n.undo()},redo:function(n){n.redo()},undoSelection:function(n){n.undoSelection()},redoSelection:function(n){n.redoSelection()},goDocStart:function(n){n.extendSelection(t(n.firstLine(),0))},goDocEnd:function(n){n.extendSelection(t(n.lastLine()))},goLineStart:function(n){n.extendSelectionsBy(function(t){return ny(n,t.head.line)},rr)},goLineStartSmart:function(n){n.extendSelectionsBy(function(i){var r=ny(n,i.head.line),f=n.getLineHandle(r.line),e=at(f),u,o;return!e||0==e[0].level?(u=Math.max(0,f.text.search(/\S/)),o=i.head.line==r.line&&i.head.ch<=u&&i.head.ch,t(r.line,o?0:u)):r},rr)},goLineEnd:function(n){n.extendSelectionsBy(function(t){return fk(n,t.head.line)},rr)},goLineRight:function(n){n.extendSelectionsBy(function(t){var i=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:i},"div")},rr)},goLineLeft:function(n){n.extendSelectionsBy(function(t){var i=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:0,top:i},"div")},rr)},goLineUp:function(n){n.moveV(-1,"line")},goLineDown:function(n){n.moveV(1,"line")},goPageUp:function(n){n.moveV(-1,"page")},goPageDown:function(n){n.moveV(1,"page")},goCharLeft:function(n){n.moveH(-1,"char")},goCharRight:function(n){n.moveH(1,"char")},goColumnLeft:function(n){n.moveH(-1,"column")},goColumnRight:function(n){n.moveH(1,"column")},goWordLeft:function(n){n.moveH(-1,"word")},goGroupRight:function(n){n.moveH(1,"group")},goGroupLeft:function(n){n.moveH(-1,"group")},goWordRight:function(n){n.moveH(1,"word")},delCharBefore:function(n){n.deleteH(-1,"char")},delCharAfter:function(n){n.deleteH(1,"char")},delWordBefore:function(n){n.deleteH(-1,"word")},delWordAfter:function(n){n.deleteH(1,"word")},delGroupBefore:function(n){n.deleteH(-1,"group")},delGroupAfter:function(n){n.deleteH(1,"group")},indentAuto:function(n){n.indentSelection("smart")},indentMore:function(n){n.indentSelection("add")},indentLess:function(n){n.indentSelection("subtract")},insertTab:function(n){n.replaceSelection("\t")},insertSoftTab:function(n){for(var r,e,u=[],f=n.listSelections(),t=n.options.tabSize,i=0;i<f.length;i++)r=f[i].from(),e=ot(n.getLine(r.line),r.ch,t),u.push(new Array(t-e%t+1).join(" "));n.replaceSelections(u)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){dt(n,function(){for(var i,f,e=n.listSelections(),u=0;u<e.length;u++)i=e[u].head,f=r(n.doc,i.line).text,i.ch>0&&i.ch<f.length-1&&n.replaceRange(f.charAt(i.ch)+f.charAt(i.ch-1),t(i.line,i.ch-1),t(i.line,i.ch+1))})},newlineAndIndent:function(n){dt(n,function(){for(var i,r=n.listSelections().length,t=0;r>t;t++)i=n.listSelections()[t],n.replaceRange("\n",i.anchor,i.head,"+input"),n.indentLine(i.from().line+1,null,!0),hr(n)})},toggleOverwrite:function(n){n.toggleOverwrite()}};wt=n.keyMap={};wt.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};wt.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};wt.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};wt.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};wt["default"]=ei?wt.macDefault:wt.pcDefault;var eo=n.lookupKey=function(n,t,i){function u(t){var f,r,e,o;if(t=ws(t),f=t[n],f===!1)return"stop";if(null!=f&&i(f))return!0;if(t.nofallthrough)return"stop";if(r=t.fallthrough,null==r)return!1;if("[object Array]"!=Object.prototype.toString.call(r))return u(r);for(e=0;e<r.length;++e)if(o=u(r[e]),o)return o;return!1}for(var f,r=0;r<t.length;++r)if(f=u(t[r]),f)return"stop"!=f},wk=n.isModifierKey=function(n){var t=vi[n.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},bk=n.keyName=function(n,t){if(ft&&34==n.keyCode&&n.char)return!1;var i=vi[n.keyCode];return null==i||n.altGraphKey?!1:(n.altKey&&(i="Alt-"+i),(ry?n.metaKey:n.ctrlKey)&&(i="Ctrl-"+i),(ry?n.ctrlKey:n.metaKey)&&(i="Cmd-"+i),!t&&n.shiftKey&&(i="Shift-"+i),i)};n.fromTextArea=function(t,i){function f(){t.value=r.getValue()}var o,u,s,h,r;if((i||(i={}),i.value=t.value,!i.tabindex&&t.tabindex&&(i.tabindex=t.tabindex),!i.placeholder&&t.placeholder&&(i.placeholder=t.placeholder),null==i.autofocus)&&(o=fi(),i.autofocus=o==t||null!=t.getAttribute("autofocus")&&o==document.body),t.form&&(e(t.form,"submit",f),!i.leaveSubmitMethodAlone)){u=t.form;s=u.submit;try{h=u.submit=function(){f();u.submit=s;u.submit();u.submit=h}}catch(c){}}return t.style.display="none",r=n(function(n){t.parentNode.insertBefore(n,t.nextSibling)},i),r.save=f,r.getTextArea=function(){return t},r.toTextArea=function(){f();t.parentNode.removeChild(r.getWrapperElement());t.style.display="";t.form&&(ti(t.form,"submit",f),"function"==typeof t.form.submit&&(t.form.submit=s))},r};ef=n.StringStream=function(n,t){this.pos=this.start=0;this.string=n;this.tabSize=t||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};ef.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(n){var t=this.string.charAt(this.pos),i;return i="string"==typeof n?t==n:t&&(n.test?n.test(t):n(t)),i?(++this.pos,t):void 0},eatWhile:function(n){for(var t=this.pos;this.eat(n););return this.pos>t},eatSpace:function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},skipToEnd:function(){this.pos=this.string.length},skipTo:function(n){var t=this.string.indexOf(n,this.pos);if(t>-1)return(this.pos=t,!0)},backUp:function(n){this.pos-=n},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ot(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ot(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ot(this.string,null,this.tabSize)-(this.lineStart?ot(this.string,this.lineStart,this.tabSize):0)},match:function(n,t,i){var r,u,f;return"string"!=typeof n?(r=this.string.slice(this.pos).match(n),r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)):(u=function(n){return i?n.toLowerCase():n},f=this.string.substr(this.pos,n.length),u(f)==u(n)?(t!==!1&&(this.pos+=n.length),!0):void 0)},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,t){this.lineStart+=n;try{return t()}finally{this.lineStart-=n}}};ci=n.TextMarker=function(n,t){this.lines=[];this.type=t;this.doc=n};yr(ci);ci.prototype.clear=function(){var n,f,u,t,r,i,o,s;if(!this.explicitlyCleared){n=this.doc.cm;f=n&&!n.curOp;(f&&ur(n),ut(this,"clear"))&&(u=this.find(),u&&y(this,"clear",u.from,u.to));for(var e=null,h=null,i=0;i<this.lines.length;++i)t=this.lines[i],r=au(t.markedSpans,this),n&&!this.collapsed?ri(n,c(t),"text"):n&&(null!=r.to&&(h=c(t)),null!=r.from&&(e=c(t))),t.markedSpans=nb(t.markedSpans,r),null==r.from&&this.collapsed&&!bi(this.doc,t)&&n&&lt(t,pi(n.display));if(n&&this.collapsed&&!n.options.lineWrapping)for(i=0;i<this.lines.length;++i)o=ct(this.lines[i]),s=yf(o),s>n.display.maxLineLength&&(n.display.maxLine=o,n.display.maxLineLength=s,n.display.maxLineChanged=!0);null!=e&&n&&this.collapsed&&rt(n,e,h+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&kc(n.doc));n&&y(n,"markerCleared",n,this);f&&fr(n);this.parent&&this.parent.clear()}};ci.prototype.find=function(n,i){var f,o,e,r,u;for(null==n&&"bookmark"==this.type&&(n=1),e=0;e<this.lines.length;++e){if(r=this.lines[e],u=au(r.markedSpans,this),null!=u.from&&(f=t(i?r:c(r),u.from),-1==n))return f;if(null!=u.to&&(o=t(i?r:c(r),u.to),1==n))return o}return f&&{from:f,to:o}};ci.prototype.changed=function(){var i=this.find(-1,!0),t=this,n=this.doc.cm;i&&n&&dt(n,function(){var r=i.line,o=c(i.line),f=il(n,o),e,u;(f&&(ul(f),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,bi(t.doc,r)||null==t.height)||(e=t.height,t.height=null,u=yu(t)-e,u&&lt(r,r.height+u))})};ci.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=p(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)};ci.prototype.detachLine=function(n){if(this.lines.splice(p(this.lines,n),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};hy=0;of=n.SharedTextMarker=function(n,t){this.markers=n;this.primary=t;for(var i=0;i<n.length;++i)n[i].parent=this};yr(of);of.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();y(this,"clear")}};of.prototype.find=function(n,t){return this.primary.find(n,t)};sf=n.LineWidget=function(n,t,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.cm=n;this.node=t};yr(sf);sf.prototype.clear=function(){var r=this.cm,n=this.line.widgets,t=this.line,f=c(t),i,u;if(null!=f&&n){for(i=0;i<n.length;++i)n[i]==this&&n.splice(i--,1);n.length||(t.widgets=null);u=yu(this);dt(r,function(){ba(r,t,-u);ri(r,f,"widget");lt(t,Math.max(0,t.height-u))})}};sf.prototype.changed=function(){var r=this.height,t=this.cm,i=this.line,n;this.height=null;n=yu(this)-r;n&&dt(t,function(){t.curOp.forceUpdate=!0;ba(t,i,n);lt(i,i.height+n)})};li=n.Line=function(n,t,i){this.text=n;la(this,t);this.height=i?i(this):1};yr(li);li.prototype.lineNo=function(){return c(this)};cy={};ly={};pu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,t){for(var r,i=n,u=n+t;u>i;++i)r=this.lines[i],this.height-=r.height,sb(r),y(r,"delete");this.lines.splice(n,t)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,t,i){this.height+=i;this.lines=this.lines.slice(0,n).concat(t).concat(this.lines.slice(n));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(n,t,i){for(var r=n+t;r>n;++n)if(i(this.lines[n]))return!0}};wu.prototype={chunkSize:function(){return this.size},removeInner:function(n,t){var r,i,u,f,o,e;for(this.size-=t,r=0;r<this.children.length;++r)if(i=this.children[r],u=i.chunkSize(),u>n){if(f=Math.min(t,u-n),o=i.height,i.removeInner(n,f),this.height-=o-i.height,u==f&&(this.children.splice(r--,1),i.parent=null),0==(t-=f))break;n=0}else n-=u;this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof pu))&&(e=[],this.collapse(e),this.children=[new pu(e)],this.children[0].parent=this)},collapse:function(n){for(var t=0;t<this.children.length;++t)this.children[t].collapse(n)},insertInner:function(n,t,i){var u,r,e,o,f;for(this.size+=t.length,this.height+=i,u=0;u<this.children.length;++u){if(r=this.children[u],e=r.chunkSize(),e>=n){if(r.insertInner(n,t,i),r.lines&&r.lines.length>50){for(;r.lines.length>50;)o=r.lines.splice(r.lines.length-25,25),f=new pu(o),r.height-=f.height,this.children.splice(u+1,0,f),f.parent=this;this.maybeSpill()}break}n-=e}},maybeSpill:function(){var n,r,t,u,i;if(!(this.children.length<=10)){n=this;do r=n.children.splice(n.children.length-5,5),t=new wu(r),n.parent?(n.size-=t.size,n.height-=t.height,u=p(n.parent.children,n),n.parent.children.splice(u+1,0,t)):(i=new wu(n.children),i.parent=n,n.children=[i,t],n=i),t.parent=n.parent;while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,t,i){for(var f,u,e,r=0;r<this.children.length;++r)if(f=this.children[r],u=f.chunkSize(),u>n){if(e=Math.min(t,u-n),f.iterN(n,e,i))return!0;if(0==(t-=e))break;n=0}else n-=u}};ay=0;g=n.Doc=function(n,i,r){if(!(this instanceof g))return new g(n,i,r);null==r&&(r=0);wu.call(this,[new pu([new li("",null)])]);this.first=r;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=r;var u=t(r,0);this.sel=yi(u);this.history=new we(null);this.id=++ay;this.modeOption=i;"string"==typeof n&&(n=dr(n));th(this,{from:u,to:u,text:n});k(this,yi(u),ir)};g.prototype=bv(wu.prototype,{constructor:g,iter:function(n,t,i){i?this.iterN(n-this.first,t-n,i):this.iterN(this.first,this.first+this.size,n)},insert:function(n,t){for(var r=0,i=0;i<t.length;++i)r+=t[i].height;this.insertInner(n-this.first,t,r)},remove:function(n,t){this.removeInner(n-this.first,t)},getValue:function(n){var t=ih(this,this.first,this.first+this.size);return n===!1?t:t.join(n||"\n")},setValue:tt(function(n){var i=t(this.first,0),u=this.first+this.size-1;sr(this,{from:i,to:t(u,r(this,u).text.length),text:dr(n),origin:"setValue"},!0);k(this,yi(i))}),replaceRange:function(n,t,i,r){t=u(this,t);i=i?u(this,i):t;ce(this,n,t,i,r)},getRange:function(n,t,i){var r=bu(this,u(this,n),u(this,t));return i===!1?r:r.join(i||"\n")},getLine:function(n){var t=this.getLineHandle(n);return t&&t.text},getLineHandle:function(n){if(tu(this,n))return r(this,n)},getLineNumber:function(n){return c(n)},getLineHandleVisualStart:function(n){return"number"==typeof n&&(n=r(this,n)),ct(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return u(this,n)},getCursor:function(n){var t=this.sel.primary();return null==n||"head"==n?t.head:"anchor"==n?t.anchor:"end"==n||"to"==n||n===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:tt(function(n,i,r){pc(this,u(this,"number"==typeof n?t(n,i||0):n),null,r)}),setSelection:tt(function(n,t,i){pc(this,u(this,n),u(this,t||n),i)}),extendSelection:tt(function(n,t,i){kf(this,u(this,n),t&&u(this,t),i)}),extendSelections:tt(function(n,t){vc(this,ap(this,n,t))}),extendSelectionsBy:tt(function(n,t){vc(this,eh(this.sel.ranges,n),t)}),setSelections:tt(function(n,t,i){if(n.length){for(var r=0,f=[];r<n.length;r++)f[r]=new h(u(this,n[r].anchor),u(this,n[r].head));null==t&&(t=Math.min(n.length-1,this.sel.primIndex));k(this,st(f,t),i)}}),addSelection:tt(function(n,t,i){var r=this.sel.ranges.slice(0);r.push(new h(u(this,n),u(this,t||n)));k(this,st(r,r.length-1),i)}),getSelection:function(n){for(var t,u,r=this.sel.ranges,i=0;i<r.length;i++)u=bu(this,r[i].from(),r[i].to()),t=t?t.concat(u):u;return n===!1?t:t.join(n||"\n")},getSelections:function(n){for(var i,u=[],r=this.sel.ranges,t=0;t<r.length;t++)i=bu(this,r[t].from(),r[t].to()),n!==!1&&(i=i.join(n||"\n")),u[t]=i;return u},replaceSelection:function(n,t,i){for(var u=[],r=0;r<this.sel.ranges.length;r++)u[r]=n;this.replaceSelections(u,t,i||"+input")},replaceSelections:tt(function(n,t,i){for(var f,e,u=[],o=this.sel,r=0;r<o.ranges.length;r++)f=o.ranges[r],u[r]={from:f.from(),to:f.to(),text:dr(n[r]),origin:i};for(e=t&&"end"!=t&&vw(this,u,t),r=u.length-1;r>=0;r--)sr(this,u[r]);e?wc(this,e):this.cm&&hr(this.cm)}),undo:tt(function(){he(this,"undo")}),redo:tt(function(){he(this,"redo")}),undoSelection:tt(function(){he(this,"undo",!0)}),redoSelection:tt(function(){he(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,i=0,r=0,n=0;n<t.done.length;n++)t.done[n].ranges||++i;for(n=0;n<t.undone.length;n++)t.undone[n].ranges||++r;return{undo:i,redo:r}},clearHistory:function(){this.history=new we(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:vr(this.history.done),undone:vr(this.history.undone)}},setHistory:function(n){var t=this.history=new we(this.history.maxGeneration);t.done=vr(n.done.slice(0),null,!0);t.undone=vr(n.undone.slice(0),null,!0)},markText:function(n,t,i){return cr(this,u(this,n),u(this,t),i,"range")},setBookmark:function(n,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return n=u(this,n),cr(this,n,n,i,"bookmark")},findMarksAt:function(n){var e,i,f,t;if(n=u(this,n),e=[],i=r(this,n.line).markedSpans,i)for(f=0;f<i.length;++f)t=i[f],(null==t.from||t.from<=n.ch)&&(null==t.to||t.to>=n.ch)&&e.push(t.marker.parent||t.marker);return e},findMarks:function(n,t,i){n=u(this,n);t=u(this,t);var f=[],r=n.line;return this.iter(n.line,t.line+1,function(u){var s=u.markedSpans,o,e;if(s)for(o=0;o<s.length;o++)e=s[o],r==n.line&&n.ch>e.to||null==e.from&&r!=n.line||r==t.line&&e.from>t.ch||i&&!i(e.marker)||f.push(e.marker.parent||e.marker);++r}),f},getAllMarks:function(){var n=[];return this.iter(function(t){var r=t.markedSpans,i;if(r)for(i=0;i<r.length;++i)null!=r[i].from&&n.push(r[i].marker)}),n},posFromIndex:function(n){var i,r=this.first;return this.iter(function(t){var u=t.text.length+1;return u>n?(i=n,!0):(n-=u,++r,void 0)}),u(this,t(r,i))},indexFromPos:function(n){n=u(this,n);var t=n.ch;return n.line<this.first||n.ch<0?0:(this.iter(this.first,n.line,function(n){t+=n.text.length+1}),t)},copy:function(n){var t=new g(ih(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,n&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(n){var i,r,t;return n||(n={}),i=this.first,r=this.first+this.size,null!=n.from&&n.from>i&&(i=n.from),null!=n.to&&n.to<r&&(r=n.to),t=new g(ih(this,i,r),n.mode||this.modeOption,i),n.sharedHist&&(t.history=this.history),(this.linked||(this.linked=[])).push({doc:t,sharedHist:n.sharedHist}),t.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],dw(t,oa(this)),t},unlinkDoc:function(t){var i,u,r;if(t instanceof n&&(t=t.doc),this.linked)for(i=0;i<this.linked.length;++i)if(u=this.linked[i],u.doc==t){this.linked.splice(i,1);t.unlinkDoc(this);gw(oa(this));break}t.history==this.history&&(r=[t.id],ki(t,function(n){r.push(n.id)},!0),t.history=new we(null),t.history.done=vr(this.history.done,r),t.history.undone=vr(this.history.undone,r))},iterLinkedDocs:function(n){ki(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});g.prototype.eachLine=g.prototype.iter;vy="iter insert remove copy getEditor".split(" ");for(hf in g.prototype)g.prototype.hasOwnProperty(hf)&&p(vy,hf)<0&&(n.prototype[hf]=function(n){return function(){return n.apply(this.doc,arguments)}}(g.prototype[hf]));yr(g);var ai,nt=n.e_preventDefault=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},kk=n.e_stopPropagation=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},kh=n.e_stop=function(n){nt(n);kk(n)},e=n.on=function(n,t,i){if(n.addEventListener)n.addEventListener(t,i,!1);else if(n.attachEvent)n.attachEvent("on"+t,i);else{var r=n._handlers||(n._handlers={}),u=r[t]||(r[t]=[]);u.push(i)}},ti=n.off=function(n,t,i){var r,u;if(n.removeEventListener)n.removeEventListener(t,i,!1);else if(n.detachEvent)n.detachEvent("on"+t,i);else{if(r=n._handlers&&n._handlers[t],!r)return;for(u=0;u<r.length;++u)if(r[u]==i){r.splice(u,1);break}}},v=n.signal=function(n,t){var r=n._handlers&&n._handlers[t],u,i;if(r)for(u=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,u)},oo=0,ii=30,yy=n.Pass={toString:function(){return"CodeMirror.Pass"}},ir={scroll:!1},so={origin:"*mouse"},rr={origin:"+move"};fh.prototype.set=function(n,t){clearTimeout(this.id);this.id=setTimeout(t,n)};var ot=n.countColumn=function(n,t,i,r,u){var f,e,o;for(null==t&&(t=n.search(/[^\s\u00a0]/),-1==t&&(t=n.length)),f=r||0,e=u||0;;){if(o=n.indexOf("\t",f),0>o||o>=t)return e+(t-f);e+=o-f;e+=i-e%i;f=o+1}},ho=[""],cf=function(n){n.select()};uf?cf=function(n){n.selectionStart=0;n.selectionEnd=n.value.length}:b&&(cf=function(n){try{n.select()}catch(t){}});[].indexOf&&(p=function(n,t){return n.indexOf(t)});[].map&&(eh=function(n,t){return n.map(t)});var lf,dk=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,co=n.isWordChar=function(n){return/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||dk.test(n))},gk=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;lf=document.createRange?function(n,t,i){var r=document.createRange();return r.setEnd(n,i),r.setStart(n,t),r}:function(n,t,i){var r=document.body.createTextRange();return r.moveToElementText(n.parentNode),r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r};ni&&(fi=function(){try{return document.activeElement}catch(n){return document.body}});var af,dh,gh,py=!1,nd=function(){if(w)return!1;var n=i("div");return"draggable"in n||"dragDrop"in n}(),dr=n.splitLines=3!="\n\nb".split(/\n/).length?function(n){for(var t,r,u,i=0,f=[],e=n.length;e>=i;)t=n.indexOf("\n",i),-1==t&&(t=n.length),r=n.slice(i,"\r"==n.charAt(t-1)?t-1:t),u=r.indexOf("\r"),-1!=u?(f.push(r.slice(0,u)),i+=u+1):(f.push(r),i=t+1);return f}:function(n){return n.split(/\r\n?|\n/)},td=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch(t){return!1}}:function(n){try{var t=n.ownerDocument.selection.createRange()}catch(i){}return t&&t.parentElement()==n?0!=t.compareEndPoints("StartToEnd",t):!1},wy=function(){var n=i("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),"function"==typeof n.oncopy)}(),vi={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};return n.keyNames=vi,function(){for(var n=0;10>n;n++)vi[n+48]=vi[n+96]=String(n);for(n=65;90>=n;n++)vi[n]=String.fromCharCode(n);for(n=1;12>=n;n++)vi[n+111]=vi[n+63235]="F"+n}(),by=function(){function e(n){return 247>=n?o.charAt(n):n>=1424&&1524>=n?"R":n>=1536&&1773>=n?h.charAt(n-1536):n>=1774&&2220>=n?"r":n>=8192&&8203>=n?"w":8204==n?"b":"L"}function n(n,t,i){this.level=n;this.from=t;this.to=i}var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",h="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,r=/[LRr]/,u=/[Lb1n]/,f=/[1n]/,t="L";return function(o){var b,tt,d,a,w,g,p,h,it,k,nt,v,rt;if(!c.test(o))return!1;for(var a,y=o.length,l=[],h=0;y>h;++h)l.push(a=e(o.charCodeAt(h)));for(h=0,b=t;y>h;++h)a=l[h],"m"==a?l[h]=b:b=a;for(h=0,d=t;y>h;++h)a=l[h],"1"==a&&"r"==d?l[h]="n":r.test(a)&&(d=a,"r"==a&&(l[h]="R"));for(h=1,b=l[0];y-1>h;++h)a=l[h],"+"==a&&"1"==b&&"1"==l[h+1]?l[h]="1":","!=a||b!=l[h+1]||"1"!=b&&"n"!=b||(l[h]=b),b=a;for(h=0;y>h;++h)if(a=l[h],","==a)l[h]="N";else if("%"==a){for(w=h+1;y>w&&"%"==l[w];++w);for(tt=h&&"!"==l[h-1]||y>w&&"1"==l[w]?"1":"N",v=h;w>v;++v)l[v]=tt;h=w-1}for(h=0,d=t;y>h;++h)a=l[h],"L"==d&&"1"==a?l[h]="L":r.test(a)&&(d=a);for(h=0;y>h;++h)if(i.test(l[h])){for(w=h+1;y>w&&i.test(l[w]);++w);for(var ut="L"==(h?l[h-1]:t),ft="L"==(y>w?l[w]:t),tt=ut||ft?"L":"R",v=h;w>v;++v)l[v]=tt;h=w-1}for(p=[],h=0;y>h;)if(u.test(l[h])){for(it=h,++h;y>h&&u.test(l[h]);++h);p.push(new n(0,it,h))}else{for(k=h,nt=p.length,++h;y>h&&"L"!=l[h];++h);for(v=k;h>v;)if(f.test(l[v])){for(v>k&&p.splice(nt,0,new n(1,k,v)),rt=v,++v;h>v&&f.test(l[v]);++v);p.splice(nt,0,new n(2,rt,v));k=v}else++v;h>k&&p.splice(nt,0,new n(1,k,h))}return 1==p[0].level&&(g=o.match(/^\s+/))&&(p[0].from=g[0].length,p.unshift(new n(0,0,g[0].length))),1==s(p).level&&(g=o.match(/\s+$/))&&(s(p).to-=g[0].length,p.push(new n(0,y-g[0].length,y))),p[0].level!=s(p).level&&p.push(new n(p[0].level,y,y)),p}}(),n.version="4.1.1",n}),function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";n.defineMode("javascript",function(t,i){function yi(n){for(var t,r=!1,i=!1;null!=(t=n.next());){if(!r){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}r=!r&&"\\"==t}}function c(n,t,i){return it=n,st=i,t}function v(n,t){var i=n.next(),r,u;return'"'==i||"'"==i?(t.tokenize=pi(i),t.tokenize(n,t)):"."==i&&n.match(/^\d+(?:[eE][+\-]?\d+)?/)?c("number","number"):"."==i&&n.match("..")?c("spread","meta"):/[\[\]{}\(\),;\:\.]/.test(i)?c(i):"="==i&&n.eat(">")?c("=>","operator"):"0"==i&&n.eat(/x/i)?(n.eatWhile(/[\da-f]/i),c("number","number")):/\d/.test(i)?(n.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),c("number","number")):"/"==i?n.eat("*")?(t.tokenize=rt,rt(n,t)):n.eat("/")?(n.skipToEnd(),c("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(yi(n),n.eatWhile(/[gimy]/),c("regexp","string-2")):(n.eatWhile(gt),c("operator","operator",n.current())):"`"==i?(t.tokenize=ct,ct(n,t)):"#"==i?(n.skipToEnd(),c("error","error")):gt.test(i)?(n.eatWhile(gt),c("operator","operator",n.current())):(n.eatWhile(/[\w\$_]/),r=n.current(),u=ai.propertyIsEnumerable(r)&&ai[r],u&&"."!=t.lastType?c(u.type,u.style,r):c("variable","variable",r))}function pi(n){return function(t,i){var u,r=!1;if(ht&&"@"==t.peek()&&t.match(pr))return i.tokenize=v,c("jsonld-keyword","meta");for(;null!=(u=t.next())&&(u!=n||r);)r=!r&&"\\"==u;return r||(i.tokenize=v),c("string","string")}}function rt(n,t){for(var i,r=!1;i=n.next();){if("/"==i&&r){t.tokenize=v;break}r="*"==i}return c("comment","comment")}function ct(n,t){for(var i,r=!1;null!=(i=n.next());){if(!r&&("`"==i||"$"==i&&n.eat("{"))){t.tokenize=v;break}r=!r&&"\\"==i}return c("quasi","string-2",n.current())}function lt(n,t){var f,o,u;if(t.fatArrowAt&&(t.fatArrowAt=null),f=n.string.indexOf("=>",n.start),!(0>f)){for(var r=0,e=!1,i=f-1;i>=0;--i)if(o=n.string.charAt(i),u=wr.indexOf(o),u>=0&&3>u){if(!r){++i;break}if(0==--r)break}else if(u>=3&&6>u)++r;else if(/[$\w]/.test(o))e=!0;else if(e&&!r){++i;break}e&&!r&&(t.fatArrowAt=i)}}function ni(n,t,i,r,u,f){this.indented=n;this.column=t;this.type=i;this.prev=u;this.info=f;null!=r&&(this.align=r)}function wi(n,t){for(var r,i=n.localVars;i;i=i.next)if(i.name==t)return!0;for(r=n.context;r;r=r.prev)for(i=r.vars;i;i=i.next)if(i.name==t)return!0}function bi(n,t,i,r,f){var e=n.cc,o;for(u.state=n,u.stream=f,u.marked=null,u.cc=e,n.lexical.hasOwnProperty("align")||(n.lexical.align=!0);;)if(o=e.length?e.pop():nt?h:l,o(i,r)){for(;e.length&&e[e.length-1].lex;)e.pop()();return u.marked?u.marked:"variable"==i&&wi(n,r)?"variable-2":t}}function f(){for(var n=arguments.length-1;n>=0;n--)u.cc.push(arguments[n])}function r(){return f.apply(null,arguments),!0}function y(n){function r(t){for(var i=t;i;i=i.next)if(i.name==n)return!0;return!1}var t=u.state;if(t.context){if(u.marked="def",r(t.localVars))return;t.localVars={name:n,next:t.localVars}}else{if(r(t.globalVars))return;i.globalVars&&(t.globalVars={name:n,next:t.globalVars})}}function p(){u.state.context={prev:u.state.context,vars:u.state.localVars};u.state.localVars=br}function w(){u.state.localVars=u.state.context.vars;u.state.context=u.state.context.prev}function o(n,t){var i=function(){var i=u.state,r=i.indented;"stat"==i.lexical.type&&(r=i.lexical.indented);i.lexical=new ni(r,u.stream.column(),n,null,i.lexical,t)};return i.lex=!0,i}function e(){var n=u.state;n.lexical.prev&&(")"==n.lexical.type&&(n.indented=n.lexical.indented),n.lexical=n.lexical.prev)}function s(n){function t(i){return i==n?r():";"==n?f():r(t)}return t}function l(n,t){return"var"==n?r(o("vardef",t.length),wt,s(";"),e):"keyword a"==n?r(o("form"),h,l,e):"keyword b"==n?r(o("form"),l,e):"{"==n?r(o("}"),pt,e):";"==n?r():"if"==n?("else"==u.state.lexical.info&&u.state.cc[u.state.cc.length-1]==e&&u.state.cc.pop()(),r(o("form"),h,l,e,ei)):"function"==n?r(d):"for"==n?r(o("form"),oi,l,e):"variable"==n?r(o("stat"),gi):"switch"==n?r(o("form"),h,o("}","switch"),s("{"),pt,e,e):"case"==n?r(h,s(":")):"default"==n?r(s(":")):"catch"==n?r(o("form"),p,s("("),kt,s(")"),l,e,w):"module"==n?r(o("form"),p,cr,w,e):"class"==n?r(o("form"),or,hr,e):"export"==n?r(o("form"),lr,e):"import"==n?r(o("form"),ar,e):f(o("stat"),h,s(";"),e)}function h(n){return ti(n,!1)}function a(n){return ti(n,!0)}function ti(n,t){var c,i;if(u.state.fatArrowAt==u.stream.start){if(c=t?ri:ii,"("==n)return r(p,o(")"),tt(k,")"),e,s("=>"),c,w);if("variable"==n)return f(p,k,s("=>"),c,w)}return i=t?vt:ut,vi.hasOwnProperty(n)?r(i):"function"==n?r(d,i):"keyword c"==n?r(t?ki:at):"("==n?r(o(")"),at,ot,s(")"),e,i):"operator"==n||"spread"==n?r(t?a:h):"["==n?r(o("]"),vr,e,i):"{"==n?b(ui,"}",null,i):"quasi"==n?f(ft,i):r()}function at(n){return n.match(/[;\}\)\],]/)?f():f(h)}function ki(n){return n.match(/[;\}\)\],]/)?f():f(a)}function ut(n,t){return","==n?r(h):vt(n,t,!1)}function vt(n,t,i){var u=0==i?ut:vt,c=0==i?h:a;return"=>"==t?r(p,i?ri:ii,w):"operator"==n?/\+\+|--/.test(t)?r(u):"?"==t?r(h,s(":"),c):r(c):"quasi"==n?f(ft,u):";"!=n?"("==n?b(a,")","call",u):"."==n?r(nr,u):"["==n?r(o("]"),at,s("]"),e,u):void 0:void 0}function ft(n,t){return"quasi"!=n?f():"${"!=t.slice(t.length-2)?r(ft):r(h,di)}function di(n){if("}"==n)return(u.marked="string-2",u.state.tokenize=ct,r(ft))}function ii(n){return lt(u.stream,u.state),"{"==n?f(l):f(h)}function ri(n){return lt(u.stream,u.state),"{"==n?f(l):f(a)}function gi(n){return":"==n?r(e,l):f(ut,s(";"),e)}function nr(n){if("variable"==n)return(u.marked="property",r())}function ui(n,t){if("variable"==n){if(u.marked="property","get"==t||"set"==t)return r(tr)}else if("number"==n||"string"==n)u.marked=ht?"property":n+" property";else if("["==n)return r(h,s("]"),yt);if(vi.hasOwnProperty(n))return r(yt)}function tr(n){return"variable"!=n?f(yt):(u.marked="property",r(d))}function yt(n){return":"==n?r(a):"("==n?f(d):void 0}function tt(n,t){function i(f){if(","==f){var e=u.state.lexical;return"call"==e.info&&(e.pos=(e.pos||0)+1),r(n,i)}return f==t?r():r(s(t))}return function(u){return u==t?r():f(n,i)}}function b(n,t,i){for(var f=3;f<arguments.length;f++)u.cc.push(arguments[f]);return r(o(t,i),tt(n,t),e)}function pt(n){return"}"==n?r():f(l,pt)}function fi(n){if(li&&":"==n)return r(ir)}function ir(n){if("variable"==n)return(u.marked="variable-3",r())}function wt(){return f(k,fi,bt,ur)}function k(n,t){return"variable"==n?(y(t),r()):"["==n?b(k,"]"):"{"==n?b(rr,"}"):void 0}function rr(n,t){return"variable"!=n||u.stream.match(/^\s*:/,!1)?("variable"==n&&(u.marked="property"),r(s(":"),k,bt)):(y(t),r(bt))}function bt(n,t){if("="==t)return r(a)}function ur(n){if(","==n)return r(wt)}function ei(n,t){if("keyword b"==n&&"else"==t)return r(o("form","else"),l,e)}function oi(n){if("("==n)return r(o(")"),fr,s(")"),e)}function fr(n){return"var"==n?r(wt,s(";"),et):";"==n?r(et):"variable"==n?r(er):f(h,s(";"),et)}function er(n,t){return"in"==t||"of"==t?(u.marked="keyword",r(h)):r(ut,et)}function et(n,t){return";"==n?r(si):"in"==t||"of"==t?(u.marked="keyword",r(h)):f(h,s(";"),si)}function si(n){")"!=n&&r(h)}function d(n,t){return"*"==t?(u.marked="keyword",r(d)):"variable"==n?(y(t),r(d)):"("==n?r(p,o(")"),tt(kt,")"),e,l,w):void 0}function kt(n){return"spread"==n?r(kt):f(k,fi)}function or(n,t){if("variable"==n)return(y(t),r(sr))}function sr(n,t){if("extends"==t)return r(h)}function hr(n){if("{"==n)return b(ui,"}")}function cr(n,t){return"string"==n?r(l):"variable"==n?(y(t),r(dt)):void 0}function lr(n,t){return"*"==t?(u.marked="keyword",r(dt,s(";"))):"default"==t?(u.marked="keyword",r(h,s(";"))):f(l)}function ar(n){return"string"==n?r():f(hi,dt)}function hi(n,t){return"{"==n?b(hi,"}"):("variable"==n&&y(t),r())}function dt(n,t){if("from"==t)return(u.marked="keyword",r(h))}function vr(n){return"]"==n?r():f(a,yr)}function yr(n){return"for"==n?f(ot,s("]")):","==n?r(tt(a,"]")):f(tt(a,"]"))}function ot(n){return"for"==n?r(oi,ot):"if"==n?r(h,ot):void 0}var it,st,g=t.indentUnit,ci=i.statementIndent,ht=i.jsonld,nt=i.json||ht,li=i.typescript,ai=function(){function n(n){return{type:n,style:"keyword"}}var s=n("keyword a"),u=n("keyword b"),t=n("keyword c"),f=n("operator"),i={type:"atom",style:"atom"},h={"if":n("if"),"while":s,"with":s,"else":u,"do":u,"try":u,"finally":u,"return":t,"break":t,"continue":t,"new":t,"delete":t,"throw":t,"debugger":t,"var":n("var"),"const":n("var"),"let":n("var"),"function":n("function"),"catch":n("catch"),"for":n("for"),"switch":n("switch"),"case":n("case"),"default":n("default"),"in":f,"typeof":f,"instanceof":f,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":n("this"),module:n("module"),"class":n("class"),"super":n("atom"),"yield":t,"export":n("export"),"import":n("import"),"extends":t},r,e,o;if(li){r={type:"variable",style:"variable-3"};e={"interface":n("interface"),"extends":n("extends"),constructor:n("constructor"),"public":n("public"),"private":n("private"),"protected":n("protected"),"static":n("static"),string:r,number:r,bool:r,any:r};for(o in e)h[o]=e[o]}return h}(),gt=/[+\-*&%=<>!?|~^]/,pr=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,wr="([{}])",vi={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},u={state:null,column:null,marked:null,cc:null},br={name:"this",next:{name:"arguments"}};return e.lex=!0,{startState:function(n){var t={tokenize:v,lastType:"sof",cc:[],lexical:new ni((n||0)-g,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(n,t){if(n.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=n.indentation(),lt(n,t)),t.tokenize!=rt&&n.eatSpace())return null;var i=t.tokenize(n,t);return"comment"==it?i:(t.lastType="operator"!=it||"++"!=st&&"--"!=st?it:"incdec",bi(t,i,it,st,n))},indent:function(t,r){var o,u,s,c,f,h;if(t.tokenize==rt)return n.Pass;if(t.tokenize!=v)return 0;if(o=r&&r.charAt(0),u=t.lexical,!/^\s*else\b/.test(r))for(s=t.cc.length-1;s>=0;--s)if(c=t.cc[s],c==e)u=u.prev;else if(c!=ei)break;return"stat"==u.type&&"}"==o&&(u=u.prev),ci&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev),f=u.type,h=o==f,"vardef"==f?u.indented+("operator"==t.lastType||","==t.lastType?u.info+1:0):"form"==f&&"{"==o?u.indented:"form"==f?u.indented+g:"stat"==f?u.indented+("operator"==t.lastType||","==t.lastType?ci||g:0):"switch"!=u.info||h||0==i.doubleIndentSwitch?u.align?u.column+(h?0:1):u.indented+(h?0:g):u.indented+(/^(?:case|default)\b/.test(r)?g:2*g)},electricChars:":{}",blockCommentStart:nt?null:"/*",blockCommentEnd:nt?null:"*/",lineComment:nt?null:"//",fold:"brace",helperType:nt?"json":"javascript",jsonldMode:ht,jsonMode:nt}});n.defineMIME("text/javascript","javascript");n.defineMIME("text/ecmascript","javascript");n.defineMIME("application/javascript","javascript");n.defineMIME("application/ecmascript","javascript");n.defineMIME("application/json",{name:"javascript",json:!0});n.defineMIME("application/x-json",{name:"javascript",json:!0});n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});n.defineMIME("text/typescript",{name:"javascript",typescript:!0});n.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){function i(n,i){var r=n.getRange(t(i.line,i.ch-1),t(i.line,i.ch+1));return 2==r.length?r:null}function r(r){for(var f={name:"autoCloseBrackets",Backspace:function(u){var e,s,f,o;if(u.getOption("disableInput"))return n.Pass;for(e=u.listSelections(),f=0;f<e.length;f++)if(!e[f].empty()||(s=i(u,e[f].head),!s||0!=r.indexOf(s)%2))return n.Pass;for(f=e.length-1;f>=0;f--)o=e[f].head,u.replaceRange("",t(o.line,o.ch-1),t(o.line,o.ch+1))}},e="",u=0;u<r.length;u+=2)!function(i,r){i!=r&&(e+=r);f["'"+i+"'"]=function(u){var s,a,l,h,v,f,c;if(u.getOption("disableInput"))return n.Pass;for(a=u.listSelections(),l=0;l<a.length;l++){if(v=a[l],f=v.head,"'"==i&&"comment"==u.getTokenTypeAt(f))return n.Pass;if(c=u.getRange(f,t(f.line,f.ch+1)),v.empty())if(i==r&&c==r)h=u.getRange(f,t(f.line,f.ch+3))==i+i+i?"skipThree":"skip";else if(i==r&&f.ch>1&&u.getRange(t(f.line,f.ch-2),f)==i+i&&(f.ch<=2||u.getRange(t(f.line,f.ch-3),t(f.line,f.ch-2))!=i))h="addFour";else{if(i==r&&n.isWordChar(c)||!(u.getLine(f.line).length==f.ch||e.indexOf(c)>=0||o.test(c)))return n.Pass;h="both"}else h="surround";if(s){if(s!=h)return n.Pass}else s=h}u.operation(function(){var t,n;if("skip"==s)u.execCommand("goCharRight");else if("skipThree"==s)for(n=0;3>n;n++)u.execCommand("goCharRight");else if("surround"==s){for(t=u.getSelections(),n=0;n<t.length;n++)t[n]=i+t[n]+r;u.replaceSelections(t,"around")}else"both"==s?(u.replaceSelection(i+r,null),u.execCommand("goCharLeft")):"addFour"==s&&(u.replaceSelection(i+i+i+i,"before"),u.execCommand("goCharRight"))})};i!=r&&(f["'"+r+"'"]=function(i){for(var u,e=i.listSelections(),f=0;f<e.length;f++)if(u=e[f],!u.empty()||i.getRange(u.head,t(u.head.line,u.head.ch+1))!=r)return n.Pass;i.execCommand("goCharRight")})}(r.charAt(u),r.charAt(u+1));return f}function u(t){return function(r){var u,f,e;if(r.getOption("disableInput"))return n.Pass;for(u=r.listSelections(),f=0;f<u.length;f++)if(!u[f].empty()||(e=i(r,u[f].head),!e||0!=t.indexOf(e)%2))return n.Pass;r.operation(function(){var n,t;for(r.replaceSelection("\n\n",null),r.execCommand("goCharLeft"),u=r.listSelections(),n=0;n<u.length;n++)t=u[n].head.line,r.indentLine(t,null,!0),r.indentLine(t+1,null,!0)})}}var f="()[]{}''\"\"",e="[]{}",o=/\s/,t=n.Pos;n.defineOption("autoCloseBrackets",!1,function(t,i,o){var s,h,c;(o!=n.Init&&o&&t.removeKeyMap("autoCloseBrackets"),i)&&(s=f,h=e,"string"==typeof i?s=i:"object"==typeof i&&(null!=i.pairs&&(s=i.pairs),null!=i.explode&&(h=i.explode)),c=r(s),h&&(c.Enter=u(h)),t.addKeyMap(c))})}),function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){function r(t){var o,f,v,r,l,h,y,a,e;if(t.getOption("disableInput"))return n.Pass;for(var i,s=t.listSelections(),p=[],c=0;c<s.length;c++){if(o=s[c].head,f=t.getTokenAt(o),"comment"!=f.type)return n.Pass;if(v=n.innerMode(t.getMode(),f.state).mode,i){if(i!=v)return n.Pass}else i=v;if(r=null,i.blockCommentStart&&i.blockCommentContinue){if(l=f.string.indexOf(i.blockCommentEnd),h=t.getRange(n.Pos(o.line,0),n.Pos(o.line,f.end)),-1==l||l!=f.string.length-i.blockCommentEnd.length||!(o.ch>=l))if(0==f.string.indexOf(i.blockCommentStart)){if(r=h.slice(0,f.start),!/^\s*$/.test(r))for(r="",y=0;y<f.start;++y)r+=" "}else-1!=(e=h.indexOf(i.blockCommentContinue))&&e+i.blockCommentContinue.length>f.start&&/^\s*$/.test(h.slice(0,e))&&(r=h.slice(0,e));null!=r&&(r+=i.blockCommentContinue)}if(null==r&&i.lineComment&&u(t)&&(a=t.getLine(o.line),e=a.indexOf(i.lineComment),e>-1&&(r=a.slice(0,e),/\S/.test(r)?r=null:r+=i.lineComment+a.slice(e+i.lineComment.length).match(/^\s*/)[0])),null==r)return n.Pass;p[c]="\n"+r}t.operation(function(){for(var n=s.length-1;n>=0;n--)t.replaceRange(p[n],s[n].from(),s[n].to(),"+insert")})}function u(n){var t=n.getOption("continueComments");return t&&"object"==typeof t?t.continueLineComment!==!1:!0}for(var i=["clike","css","javascript"],t=0;t<i.length;++t)n.extendMode(i[t],{blockCommentContinue:" * "});n.defineOption("continueComments",null,function(t,i,u){var f,e;(u&&u!=n.Init&&t.removeKeyMap("continueComment"),i)&&(f="Enter","string"==typeof i?f=i:"object"==typeof i&&i.key&&(f=i.key),e={name:"continueComment"},e[f]=r,t.addKeyMap(e))})}),function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){function t(n,t){for(var i=0,r=n.length;r>i;++i)t(n[i])}function u(n,t){if(!Array.prototype.indexOf){for(var i=n.length;i--;)if(n[i]===t)return!0;return!1}return-1!=n.indexOf(t)}function r(t,r,u,f){var h=t.getCursor(),e=u(t,h),o=e,c;if(!/\b(?:string|comment)\b/.test(e.type)){for(e.state=n.innerMode(t.getMode(),e.state).state,/^[\w$_]*$/.test(e.string)||(e=o={start:h.ch,end:h.ch,string:"",state:e.state,type:"."==e.string?"property":null});"property"==o.type;){if(o=u(t,i(h.line,o.start)),"."!=o.string)return;(o=u(t,i(h.line,o.start)),c)||(c=[]);c.push(o)}return{list:s(e,c,r,f),from:i(h.line,e.start),to:i(h.line,e.end)}}}function f(n,t){return r(n,a,function(n,t){return n.getTokenAt(t)},t)}function e(n,t){var i=n.getTokenAt(t);return t.ch==i.start+1&&"."==i.string.charAt(0)?(i.end=i.start,i.string=".",i.type="property"):/^\.[\w$_]*$/.test(i.string)&&(i.type="property",i.start++,i.string=i.string.replace(/\./,"")),i}function o(n,t){return r(n,v,e,t)}function s(n,i,r,f){function a(n){0!=n.lastIndexOf(p,0)||u(v,n)||v.push(n)}function y(n){"string"==typeof n?t(h,a):n instanceof Array?t(c,a):n instanceof Function&&t(l,a);for(var i in n)a(i)}var v=[],p=n.string,e,o,s;if(i&&i.length){for(o=i.pop(),o.type&&0===o.type.indexOf("variable")?(f&&f.additionalContext&&(e=f.additionalContext[o.string]),e=e||window[o.string]):"string"==o.type?e="":"atom"==o.type?e=1:"function"==o.type&&(null==window.jQuery||"$"!=o.string&&"jQuery"!=o.string||"function"!=typeof jQuery?null!=window._&&"_"==o.string&&"function"==typeof _&&(e=window._()):e=window.jQuery());null!=e&&i.length;)e=e[i.pop().string];null!=e&&y(e)}else{for(s=n.state.localVars;s;s=s.next)a(s.name);for(s=n.state.globalVars;s;s=s.next)a(s.name);y(window);t(r,a)}return v}var i=n.Pos;n.registerHelper("hint","javascript",f);n.registerHelper("hint","coffeescript",o);var h="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),c="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),l="prototype apply call bind".split(" "),a="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),v="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}),function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){function u(n,i,u,e){var l=n.getLineHandle(i.line),o=i.ch-1,c=o>=0&&r[l.text.charAt(o)]||r[l.text.charAt(++o)],h,a,s;return c?(h=">"==c.charAt(1)?1:-1,u&&h>0!=(o==i.ch))?null:(a=n.getTokenTypeAt(t(i.line,o+1)),s=f(n,t(i.line,o+(h>0?1:0)),h,a||null,e),null==s?null:{from:t(i.line,o),to:s&&s.pos,match:s&&s.ch==c.charAt(0),forward:h>0}):null}function f(n,i,u,f,e){for(var h,s,v,c,y,p=e&&e.maxScanLineLength||1e4,a=e&&e.maxScanLines||1e3,l=[],w=e&&e.bracketRegex?e.bracketRegex:/[(){}[\]]/,b=u>0?Math.min(i.line+a,n.lastLine()+1):Math.max(n.firstLine()-1,i.line-a),o=i.line;o!=b;o+=u)if(h=n.getLine(o),h&&(s=u>0?0:h.length-1,v=u>0?h.length:-1,!(h.length>p)))for(o==i.line&&(s=i.ch-(0>u?1:0));s!=v;s+=u)if(c=h.charAt(s),w.test(c)&&(void 0===f||n.getTokenTypeAt(t(o,s+1))==f))if(y=r[c],">"==y.charAt(1)==u>0)l.push(c);else{if(!l.length)return{pos:t(o,s),ch:c};l.pop()}return o-u==(u>0?n.lastLine():n.firstLine())?!1:null}function e(n,i,r){for(var f,c,l,a=n.state.matchBrackets.maxHighlightLineLength||1e3,e=[],h=n.listSelections(),o=0;o<h.length;o++)f=h[o].empty()&&u(n,h[o].head,!1,r),f&&n.getLine(f.from.line).length<=a&&(c=f.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",e.push(n.markText(f.from,t(f.from.line,f.from.ch+1),{className:c})),f.to&&n.getLine(f.to.line).length<=a&&e.push(n.markText(f.to,t(f.to.line,f.to.ch+1),{className:c})));if(e.length){if(s&&n.state.focused&&n.display.input.focus(),l=function(){n.operation(function(){for(var n=0;n<e.length;n++)e[n].clear()})},!i)return l;setTimeout(l,800)}}function o(n){n.operation(function(){i&&(i(),i=null);i=e(n,!1,n.state.matchBrackets)})}var s=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),t=n.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},i=null;n.defineOption("matchBrackets",!1,function(t,i,r){r&&r!=n.Init&&t.off("cursorActivity",o);i&&(t.state.matchBrackets="object"==typeof i?i:{},t.on("cursorActivity",o))});n.defineExtension("matchBrackets",function(){e(this,!0)});n.defineExtension("findMatchingBracket",function(n,t,i){return u(this,n,t,i)});n.defineExtension("scanForBracket",function(n,t,i,r){return f(this,n,t,i,r)})}),function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function r(n,t,i){this.cm=n;this.getHints=t;this.options=i;this.widget=this.onClose=null}function u(n){return"string"==typeof n?n:n.text}function e(n,t){function u(n,i){var u;u="string"!=typeof i?function(n){return i(n,t)}:r.hasOwnProperty(i)?r[i]:i;f[n]=u}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},f=n.customKeys?{}:r,i;if(n.customKeys)for(i in n.customKeys)n.customKeys.hasOwnProperty(i)&&u(i,n.customKeys[i]);if(n.extraKeys)for(i in n.extraKeys)n.extraKeys.hasOwnProperty(i)&&u(i,n.extraKeys[i]);return f}function f(n,t){for(;t&&t!=n;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==n)return t;t=t.parentNode}}function t(t,r){var w,p,b,nt,c,st,tt,ut,ft,it,ht,et;this.completion=t;this.data=r;var l=this,h=t.cm,a=t.options,s=this.hints=document.createElement("ul");for(s.className="CodeMirror-hints",this.selectedHint=a.getDefaultSelection?a.getDefaultSelection(h,a,r):0,w=r.list,p=0;p<w.length;++p){var k=s.appendChild(document.createElement("li")),y=w[p],rt=o+(p!=this.selectedHint?"":" "+i);null!=y.className&&(rt=y.className+" "+rt);k.className=rt;y.render?y.render(k,r,y):k.appendChild(document.createTextNode(y.displayText||u(y)));k.hintId=p}var v=h.cursorCoords(a.alignWithWord!==!1?r.from:null),d=v.left,g=v.bottom,ot=!0;return s.style.left=d+"px",s.style.top=g+"px",b=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),nt=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),(a.container||document.body).appendChild(s),c=s.getBoundingClientRect(),st=c.bottom-nt,st>0&&(tt=c.bottom-c.top,ut=c.top-(v.bottom-v.top),ut-tt>0?(s.style.top=(g=ut-tt)+"px",ot=!1):tt>nt&&(s.style.height=nt-5+"px",s.style.top=(g=v.bottom-c.top)+"px",ft=h.getCursor(),r.from.ch!=ft.ch&&(v=h.cursorCoords(ft),s.style.left=(d=v.left)+"px",c=s.getBoundingClientRect()))),it=c.left-b,(it>0&&(c.right-c.left>b&&(s.style.width=b-5+"px",it-=c.right-c.left-b),s.style.left=(d=v.left-it)+"px"),h.addKeyMap(this.keyMap=e(a,{moveFocus:function(n,t){l.changeActive(l.selectedHint+n,t)},setFocus:function(n){l.changeActive(n)},menuSize:function(){return l.screenAmount()},length:w.length,close:function(){t.close()},pick:function(){l.pick()},data:r})),a.closeOnUnfocus!==!1)&&(h.on("blur",this.onBlur=function(){ht=setTimeout(function(){t.close()},100)}),h.on("focus",this.onFocus=function(){clearTimeout(ht)})),et=h.getScrollInfo(),h.on("scroll",this.onScroll=function(){var i=h.getScrollInfo(),r=h.getWrapperElement().getBoundingClientRect(),u=g+et.top-i.top,n=u-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return ot||(n+=s.offsetHeight),n<=r.top||n>=r.bottom?t.close():(s.style.top=u+"px",s.style.left=d+et.left-i.left+"px",void 0)}),n.on(s,"dblclick",function(n){var t=f(s,n.target||n.srcElement);t&&null!=t.hintId&&(l.changeActive(t.hintId),l.pick())}),n.on(s,"click",function(n){var t=f(s,n.target||n.srcElement);t&&null!=t.hintId&&(l.changeActive(t.hintId),a.completeOnSingleClick&&l.pick())}),n.on(s,"mousedown",function(){setTimeout(function(){h.focus()},20)}),n.signal(r,"select",w[0],s.firstChild),!0}var o="CodeMirror-hint",i="CodeMirror-hint-active";n.showHint=function(t,i,u){if(!(t.listSelections().length>1||t.somethingSelected())){if(null==i){if(u&&u.async)return;i=n.hint.auto}t.state.completionActive&&t.state.completionActive.close();var f=t.state.completionActive=new r(t,i,u||{});return n.signal(t,"startCompletion",t),f.options.async?(i(t,function(n){f.showHints(n)},f.options),void 0):f.showHints(i(t,f.options))}};r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),n.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,i){var r=t.list[i];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(u(r),r.from||t.from,r.to||t.to,"complete");n.signal(t,"pick",r);this.close()},showHints:function(n){return n&&n.list.length&&this.active()?(0!=this.options.completeSingle&&1==n.list.length?this.pick(n,0):this.showWidget(n),void 0):this.close()},showWidget:function(i){function o(){u||(u=!0,r.close(),r.cm.off("cursorActivity",h),i&&n.signal(i,"close"))}function c(){u||(n.signal(i,"update"),r.options.async?r.getHints(r.cm,s,r.options):s(r.getHints(r.cm,r.options)))}function s(n){if(i=n,!u){if(!i||!i.list.length)return o();r.widget&&r.widget.close();r.widget=new t(r,i)}}function l(){f&&(p(f),f=0)}function h(){l();var n=r.cm.getCursor(),t=r.cm.getLine(n.line);n.line!=e.line||t.length-n.ch!=v-e.ch||n.ch<e.ch||r.cm.somethingSelected()||n.ch&&a.test(t.charAt(n.ch-1))?r.close():(f=y(c),r.widget&&r.widget.close())}this.widget=new t(this,i);n.signal(i,"shown");var u,f=0,r=this,a=this.options.closeCharacters||/[\s()\[\]{};:>,]/,e=this.cm.getCursor(),v=this.cm.getLine(e.line).length,y=window.requestAnimationFrame||function(n){return setTimeout(n,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",h);this.onClose=o}};t.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var n=this.completion.cm;this.completion.options.closeOnUnfocus!==!1&&(n.off("blur",this.onBlur),n.off("focus",this.onFocus));n.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:0>t&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var u=this.hints.childNodes[this.selectedHint];u.className=u.className.replace(" "+i,"");u=this.hints.childNodes[this.selectedHint=t];u.className+=" "+i;u.offsetTop<this.hints.scrollTop?this.hints.scrollTop=u.offsetTop-3:u.offsetTop+u.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=u.offsetTop+u.offsetHeight-this.hints.clientHeight+3);n.signal(this.data,"select",this.data.list[this.selectedHint],u)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};n.registerHelper("hint","auto",function(t,i){var f,e=t.getHelpers(t.getCursor(),"hint"),r,u;if(e.length){for(r=0;r<e.length;r++)if(u=e[r](t,i),u&&u.list.length)return u}else if(f=t.getHelper(t.getCursor(),"hintWords")){if(f)return n.hint.fromList(t,{words:f})}else if(n.hint.anyword)return n.hint.anyword(t,i)});n.registerHelper("hint","fromList",function(t,i){for(var o,u=t.getCursor(),r=t.getTokenAt(u),f=[],e=0;e<i.words.length;e++)o=i.words[e],o.slice(0,r.string.length)==r.string&&f.push(o);if(f.length)return{list:f,from:n.Pos(u.line,r.start),to:n.Pos(u.line,r.end)}});n.commands.autocomplete=n.showHint});
//# sourceMappingURL=freeboard.thirdparty.min.js.map
